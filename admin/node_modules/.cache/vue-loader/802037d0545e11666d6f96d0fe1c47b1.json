{"remainingRequest":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/1kegiatancsr/list_pengajuan_force.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/1kegiatancsr/list_pengajuan_force.vue","mtime":1757386142514},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js","mtime":1758930419036},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js","mtime":1758930412679},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js","mtime":1758930412640}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgppbXBvcnQgVU1VTSBmcm9tICIuLi8uLi9saWJyYXJ5L3VtdW0uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CgogICAgICAgICAgICBVTVVNOiBVTVVNLAoKICAgICAgICAgICAgbGlzdF9kYXRhOiBbXSwKCiAgICAgICAgICAgIHN0YXR1czogNCwKICAgICAgICAgICAgbWRsX2FkZDogZmFsc2UsCiAgICAgICAgICAgIG1kbF9lZGl0OiBmYWxzZSwKICAgICAgICAgICAgbWRsX2RlbGV0ZTogZmFsc2UsCiAgICAgICAgICAgIG1kbF9rZW1iYWxpa2FuOiBmYWxzZSwKICAgICAgICAgICAgbWRsX2tldGVyYW5nYW46IGZhbHNlLAogICAgICAgICAgICBtZGxfbGloYXQ6IGZhbHNlLAogICAgICAgICAgICBtZGxfY2F0YXRhbl9hZG1pbjogZmFsc2UsCiAgICAgICAgICAgIGFsZXJ0OiBmYWxzZSwKICAgICAgICAgICAgc2ltcGFuMTogZmFsc2UsCiAgICAgICAgICAgIHNlbGVjdGVkSXRlbToge30sCiAgICAgICAgICAgIGNhcmlfdmFsdWU6ICIiLAogICAgICAgICAgICBwYWdlX2ZpcnN0OiAxLAogICAgICAgICAgICBwYWdlX2xhc3Q6IDEsCiAgICAgICAgICAgIHBhZ2VfbGltaXQ6IDgsCiAgICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgICBtZGxBbWJpbDogZmFsc2UsCiAgICAgICAgICAgIHNlbGVjdGVkUHJvZ3JhbToge30sCiAgICAgICAgICAgIGp1bWxhaEFtYmlsOiAwLAogICAgICAgICAgICBtaXRyYToge30sCiAgICAgICAgICAgIGFtYmlsU2VtdWE6IGZhbHNlLAogICAgICAgICAgICBjYXRhdGFuQW1iaWw6ICcnLAoKICAgICAgICAgICAgdGlwZTogbnVsbCwgLy8gc2ltcGFuIHRpcGUgdXNlcgoKCiAgICAgICAgICAgIGZvcm06IHsKICAgICAgICAgICAgICAgIGJpZGFuZ19mb3JjZV9pZDogbnVsbCwKICAgICAgICAgICAgICAgIG5hbWFfY3NyOiAiIiwKICAgICAgICAgICAgICAgIGRlc2tyaXBzaTogIiIsCiAgICAgICAgICAgICAgICBqdW1sYWg6IG51bGwsCiAgICAgICAgICAgICAgICBzYXR1YW46ICIiLAogICAgICAgICAgICAgICAgbmlsYWk6IG51bGwsCiAgICAgICAgICAgICAgICB0YW5nZ2FsX211bGFpOiAiIiwKICAgICAgICAgICAgICAgIHRhbmdnYWxfc2VsZXNhaTogIiIsCiAgICAgICAgICAgICAgICBrZWNhbWF0YW5faWQ6IG51bGwsCiAgICAgICAgICAgICAgICBkZXNhX2lkOiBudWxsLAogICAgICAgICAgICAgICAgYWxhbWF0OiAiIiwKICAgICAgICAgICAgICAgIGZpbGVfbmFtZTogbnVsbCAgLy8g8J+UuSB1bnR1ayBmaWxlIHVwbG9hZAogICAgICAgICAgICB9LAoKICAgICAgICAgICAgbWl0cmE6IHsKICAgICAgICAgICAgICAgIG5hbWFfcGVydXNhaGFhbjogJycsCiAgICAgICAgICAgICAgICBlbWFpbF9wZXJ1c2FoYWFuOiAnJywKICAgICAgICAgICAgICAgIHRlbHBfcGVydXNhaGFhbjogJycsCiAgICAgICAgICAgICAgICBhbGFtYXRfcGVydXNhaGFhbjogJycsCiAgICAgICAgICAgICAgICBuYW1hX3BqOiAnJywKICAgICAgICAgICAgICAgIGphYmF0YW46ICcnLAogICAgICAgICAgICAgICAgZW1haWxfcGo6ICcnLAogICAgICAgICAgICAgICAgaHBfcGo6ICcnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxpc3RfYmlkYW5nOiBbXSwKICAgICAgICAgICAgbGlzdF9rZWNhbWF0YW46IFtdLAogICAgICAgICAgICBsaXN0X2tlY2FtYXRhbl9tYXN0ZXI6IFtdLCAvLyBzaW1wYW4gZGF0YSBhc2xpCiAgICAgICAgICAgIGxpc3RfZGVzYTogW10sCiAgICAgICAgICAgIGxpc3RfZGVzYV9tYXN0ZXI6IFtdLAogICAgICAgICAgICBmaWxlX3BhdGg6IHRoaXMuJHN0b3JlLnN0YXRlLnVybC5VUkxfQVBQICsgInVwbG9hZHMvIiwKCgogICAgICAgICAgICBmaWx0ZXJrdTogewogICAgICAgICAgICAgICAgYmlkYW5nX3VzYWhhX2lkOiAiIiwKICAgICAgICAgICAgICAgIHBlcnVzYWhhYW5faWQ6ICIiLAogICAgICAgICAgICAgICAgYmlkYW5nX2ZvcmNlX2lkOiAiIiwKICAgICAgICAgICAgICAgIHN0YXR1c19wZW5nYWp1YW46ICIiCiAgICAgICAgICAgIH0sCgoKICAgICAgICAgICAgbGlzdF9iaWRhbmdfZmlsdGVyOiBbXSwKCiAgICAgICAgICAgIC8vIGhhc2lsIGRhdGEgeWFuZyBkaWZpbHRlcgogICAgICAgICAgICBkYXRhVmlldzogW10sCgogICAgICAgICAgICBsaXN0X2tlY2FtYXRhbl9maWx0ZXI6IFtdLAogICAgICAgICAgICBsaXN0X2Rlc2FfZmlsdGVyOiBbXSwKCiAgICAgICAgICAgIHN0YXR1c09wdGlvbnM6IFsKICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdTZW11YSBTdGF0dXMnLCB2YWx1ZTogJycgfSwKICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdEaXByb3NlcycsIHZhbHVlOiAxIH0sCiAgICAgICAgICAgICAgICB7IGxhYmVsOiAnRGl0ZXJpbWEnLCB2YWx1ZTogMiB9LAogICAgICAgICAgICAgICAgeyBsYWJlbDogJ0RpdG9sYWsnLCB2YWx1ZTogMyB9LAogICAgICAgICAgICBdLAoKICAgICAgICAgICAgbGlzdF9wZXJ1c2FoYWFuX2ZpbHRlcjogW10sCiAgICAgICAgICAgIGJpZGFuZ09wdGlvbnM6IFtdLCAvLyA8LSB1YmFoIGRhcmkgY29tcHV0ZWQga2UgZGF0YQogICAgICAgICAgICBiaWRhbmdVc2FoYU9wdGlvbnM6IFtdLCAvLyA8LSB1YmFoIGRhcmkgY29tcHV0ZWQga2UgZGF0YQogICAgICAgICAgICBtZGxfdXBsb2FkX2V2aWRlbjogZmFsc2UsCiAgICAgICAgICAgIHVwbG9hZERhdGE6IHsKICAgICAgICAgICAgICAgIGlkOiBudWxsLCAgICAgICAgLy8gc2ltcGFuIGlkIHByb2dyYW0KICAgICAgICAgICAgICAgIGtldGVyYW5nYW46ICcnLAogICAgICAgICAgICAgICAgZmlsZTogbnVsbAogICAgICAgICAgICB9LAogICAgICAgICAgICBsaXN0X2RhdGFfYnVrdGk6IFtdLAoKICAgICAgICAgICAgY29sdW1uc19idWt0aTogWwogICAgICAgICAgICAgICAgeyBuYW1lOiAnZm90bycsIGxhYmVsOiAnRm90bycsIGZpZWxkOiAnZmlsZV9uYW1lJyB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAna2V0ZXJhbmdhbicsIGxhYmVsOiAnS2V0ZXJhbmdhbicsIGZpZWxkOiAna2V0ZXJhbmdhbicgfSwKICAgICAgICAgICAgICAgIHsgbmFtZTogJ2Frc2knLCBsYWJlbDogJ0Frc2knLCBmaWVsZDogJ2Frc2knIH0KICAgICAgICAgICAgXSwKCiAgICAgICAgICAgIG1kbF9saWhhdF9ldmlkZW46IGZhbHNlLAogICAgICAgICAgICBzZWxlY3RlZERhdGE6IG51bGwsIC8vIOKchSB0YW1iYWhrYW4gaW5pCiAgICAgICAgICAgIHNlbGVjdGVkSXRlbUV2aWRlbjogewogICAgICAgICAgICAgICAga2V0ZXJhbmdhbjogJycsCiAgICAgICAgICAgICAgICBmaWxlczogW10KICAgICAgICAgICAgfSwKCgogICAgICAgIH0KCgogICAgfSwKCgogICAgbWV0aG9kczogewoKICAgICAgICBhc3luYyBsaWhhdEV2aWRlbihpdGVtKSB7CiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5MSVNUX1BFTkdBSlVBTl9GT1JDRSArICdnZXRFdmlkZW4/aWQ9JyArIGl0ZW0uaWQsIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMubGlzdF9kYXRhX2J1a3RpID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICAgICAgdGhpcy5tZGxfbGloYXRfZXZpZGVuID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGEgPSBpdGVtOyAvLyDinIUgc2ltcGFuIGRhdGEgeWcgZGlwaWxpaAogICAgICAgIH0sCgogICAgICAgIG9wZW5VcGxvYWRNb2RhbChpdGVtKSB7CiAgICAgICAgICAgIHRoaXMudXBsb2FkRGF0YS5pZCA9IGl0ZW0uaWQKICAgICAgICAgICAgdGhpcy51cGxvYWREYXRhLmtldGVyYW5nYW4gPSAnJwogICAgICAgICAgICB0aGlzLnVwbG9hZERhdGEuZmlsZSA9IG51bGwKICAgICAgICAgICAgdGhpcy5tZGxfdXBsb2FkX2V2aWRlbiA9IHRydWUKICAgICAgICAgICAgdGhpcy5nZXRMaXN0QnVrdGkoKQogICAgICAgIH0sCgogICAgICAgIGFzeW5jIGdldExpc3RCdWt0aSgpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLnVwbG9hZERhdGEuaWQpIHJldHVybgogICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnVybC5MSVNUX1BFTkdBSlVBTl9GT1JDRSArICdnZXRFdmlkZW4/aWQ9JyArIHRoaXMudXBsb2FkRGF0YS5pZCwKICAgICAgICAgICAgICAgIHsgaGVhZGVyczogeyBhdXRob3JpemF0aW9uOiAna2lrZW5zYmF0YXJhICcgKyBsb2NhbFN0b3JhZ2UudG9rZW4gfSB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCkKICAgICAgICAgICAgdGhpcy5saXN0X2RhdGFfYnVrdGkgPSBkYXRhCiAgICAgICAgfSwKCiAgICAgICAgYXN5bmMgaGFwdXNCdWt0aShpZCkgewogICAgICAgICAgICBpZiAoIWNvbmZpcm0oIllha2luIGhhcHVzIGJ1a3RpIGluaT8iKSkgcmV0dXJuCiAgICAgICAgICAgIGF3YWl0IGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5MSVNUX1BFTkdBSlVBTl9GT1JDRSArICdkZWxldGVFdmlkZW4/aWQ9JyArIGlkLCB7IG1ldGhvZDogJ0RFTEVURScgfSkKICAgICAgICAgICAgdGhpcy5nZXRMaXN0QnVrdGkoKQogICAgICAgIH0sCgogICAgICAgIHJlc2V0VXBsb2FkTW9kYWwoKSB7CiAgICAgICAgICAgIHRoaXMudXBsb2FkRGF0YS5rZXRlcmFuZ2FuID0gJycKICAgICAgICAgICAgdGhpcy51cGxvYWREYXRhLmZpbGUgPSBudWxsCiAgICAgICAgfSwKCiAgICAgICAgYXN5bmMgc3VibWl0VXBsb2FkRXZpZGVuKCkgewogICAgICAgICAgICBpZiAoIXRoaXMudXBsb2FkRGF0YS5rZXRlcmFuZ2FuKSB7CiAgICAgICAgICAgICAgICB0aGlzLk5vdGlmeSgnS2V0ZXJhbmdhbiBoYXJ1cyBkaWlzaScsICduZWdhdGl2ZScsICd3YXJuaW5nJykKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXRoaXMudXBsb2FkRGF0YS5maWxlKSB7CiAgICAgICAgICAgICAgICB0aGlzLk5vdGlmeSgnUGlsaWggMSBmb3RvIHRlcmxlYmloIGRhaHVsdScsICduZWdhdGl2ZScsICd3YXJuaW5nJykKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaWQnLCB0aGlzLnVwbG9hZERhdGEuaWQpCiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgna2V0ZXJhbmdhbicsIHRoaXMudXBsb2FkRGF0YS5rZXRlcmFuZ2FuKQogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLnVwbG9hZERhdGEuZmlsZSkgIC8vIPCflKUgaGFydXMgImZpbGUiCgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkxJU1RfUEVOR0FKVUFOX0ZPUkNFICsgJ3VwbG9hZEV2aWRlbicsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICdraWtlbnNiYXRhcmEgJyArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCkKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLk5vdGlmeSgnQnVrdGkgYmVyaGFzaWwgZGl1cGxvYWQnLCAncG9zaXRpdmUnLCAnY2hlY2tfY2lyY2xlX291dGxpbmUnKQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRVcGxvYWRNb2RhbCgpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZGxfdXBsb2FkX2V2aWRlbiA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRWaWV3KCkgLy8gcmVmcmVzaCBsaXN0CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5KGRhdGEubWVzc2FnZSwgJ25lZ2F0aXZlJywgJ2Vycm9yX291dGxpbmUnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKQogICAgICAgICAgICAgICAgdGhpcy5Ob3RpZnkoJ1RlcmphZGkga2VzYWxhaGFuIHNlcnZlcicsICduZWdhdGl2ZScsICdlcnJvcl9vdXRsaW5lJykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcHJldmlld0ZpbGUocm93KSB7CiAgICAgICAgICAgIHdpbmRvdy5vcGVuKHRoaXMuZmlsZUJhc2VVcmwgKyByb3cuZmlsZV9uYW1lLCAnX2JsYW5rJykKICAgICAgICB9LAoKCgogICAgICAgIGhhcHVzQnVrdGkoaWQpIHsKICAgICAgICAgICAgaWYgKCFjb25maXJtKCJZYWtpbiBoYXB1cyBidWt0aSBpbmk/IikpIHJldHVybjsKCiAgICAgICAgICAgIGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5MSVNUX1BFTkdBSlVBTl9GT1JDRSArICJyZW1vdmVFdmlkZW4iLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJraWtlbnNiYXRhcmEgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaWQgfSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzX2RhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNfZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5KCJCdWt0aSBiZXJoYXNpbCBkaWhhcHVzIiwgInBvc2l0aXZlIiwgImNoZWNrX2NpcmNsZV9vdXRsaW5lIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdEJ1a3RpKCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Ob3RpZnkocmVzX2RhdGEubWVzc2FnZSB8fCAiR2FnYWwgaGFwdXMgYnVrdGkiLCAibmVnYXRpdmUiLCAiZXJyb3IiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5Ob3RpZnkoIkVycm9yOiAiICsgZXJyLm1lc3NhZ2UsICJ3YXJuaW5nIiwgImVycm9yIik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHNlbGVzYWlrYW5Qcm9ncmFtOiBhc3luYyBmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIC8vIGtvbmZpcm1hc2kgZHVsdQogICAgICAgICAgICAgICAgdGhpcy5tZGxfbGloYXRfZXZpZGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICBhd2FpdCBVTVVNLm5vdGlmQXBwcm92ZSgpOwoKICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5MSVNUX1BFTkdBSlVBTl9GT1JDRSArICJzZWxlc2Fpa2FuUHJvZ3JhbSIsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJraWtlbnNiYXRhcmEgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpZCB9KQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5KCJQcm9ncmFtIGJlcmhhc2lsIGRpc2VsZXNhaWthbiIsICJwb3NpdGl2ZSIsICJjaGVja19jaXJjbGVfb3V0bGluZSIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMubWRsX2xpaGF0X2V2aWRlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VmlldygpOyAvLyByZWZyZXNoIHRhYmVsIHV0YW1hCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5KHJlc3VsdC5tZXNzYWdlIHx8ICJHYWdhbCBtZW55ZWxlc2Fpa2FuIHByb2dyYW0iLCAibmVnYXRpdmUiLCAiZXJyb3Jfb3V0bGluZSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIC8vIGthbGF1IHVzZXIgYmF0YWwgZGkgbm90aWZBcHByb3ZlLCBkaWEganVnYSBiYWthbCBtYXN1ayBrZSBzaW5pCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICAgICAgICB0aGlzLk5vdGlmeSgiRXJyb3I6ICIgKyBlcnIubWVzc2FnZSwgIm5lZ2F0aXZlIiwgImVycm9yIik7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBkb3dubG9hZEZpbGUoZmlsZU5hbWUpIHsKICAgICAgICAgICAgaWYgKGZpbGVOYW1lKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cub3Blbih0aGlzLmZpbGVfcGF0aCArIGZpbGVOYW1lLCAiX2JsYW5rIik7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBsaWhhdEtldGVyYW5nYW46IGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0geyAuLi5pdGVtIH07CiAgICAgICAgICAgIHRoaXMubWRsX2tldGVyYW5nYW4gPSB0cnVlOyAvLyBidWthIG1vZGFsIGtldGVyYW5nYW4KICAgICAgICB9LAoKICAgICAgICB0b2xha1BlbmdhanVhbjogYXN5bmMgZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICAgIC8vIENhcmkgZGF0YSBzZXN1YWkgaWQgZGFuIHNpbXBhbiBkaSBzZWxlY3RlZEl0ZW0KICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMubGlzdF9kYXRhLmZpbmQoZCA9PiBkLmlkID09PSBpZCk7CiAgICAgICAgICAgIGlmICghaXRlbSkgcmV0dXJuOwoKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSB7IC4uLml0ZW0sIGNhdGF0YW5fYWRtaW46ICcnIH07CiAgICAgICAgICAgIHRoaXMubWRsX2NhdGF0YW5fYWRtaW4gPSB0cnVlOyAvLyBidWthIG1vZGFsCiAgICAgICAgfSwKCgogICAgICAgIC8vIFRvbWJvbCBFdmFsdWFzaSBkaSBtb2RhbAogICAgICAgIHN1Ym1pdFRvbGFrOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEl0ZW0uY2F0YXRhbl9hZG1pbikgewogICAgICAgICAgICAgICAgdGhpcy5Ob3RpZnkoJ0NhdGF0YW4gaGFydXMgZGlpc2knLCAnbmVnYXRpdmUnLCAnd2FybmluZycpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkxJU1RfUEVOR0FKVUFOX0ZPUkNFICsgInRvbGFrUGVuZ2FqdWFuIiwgewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLnNlbGVjdGVkSXRlbS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgY2F0YXRhbl9hZG1pbjogdGhpcy5zZWxlY3RlZEl0ZW0uY2F0YXRhbl9hZG1pbgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5Ob3RpZnkoJ1BlbmdhanVhbiBkaXRvbGFrJywgJ25lZ2F0aXZlJywgJ2NhbmNlbCcpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VmlldygpOyAvLyByZWZyZXNoIGxpc3QKICAgICAgICAgICAgICAgICAgICB0aGlzLm1kbF9jYXRhdGFuX2FkbWluID0gZmFsc2U7IC8vIHR1dHVwIG1vZGFsCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5KGRhdGEubWVzc2FnZSwgJ25lZ2F0aXZlJywgJ2Vycm9yX291dGxpbmUnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgICAgICAgICAgdGhpcy5Ob3RpZnkoJ1RlcmphZGkga2VzYWxhaGFuIHNlcnZlcicsICduZWdhdGl2ZScsICdlcnJvcl9vdXRsaW5lJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzZWxlY3REYXRhKGl0ZW0pIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBpdGVtOwogICAgICAgICAgICB0aGlzLm1kbF9saWhhdCA9IHRydWU7IC8vIGJ1a2EgbW9kYWwKICAgICAgICB9LAoKCiAgICAgICAgb25TdGF0dXNDaGFuZ2UodmFsKSB7CiAgICAgICAgICAgIHRoaXMuZ2V0VmlldygpCiAgICAgICAgfSwKCgogICAgICAgIG9uQ2hhbmdlQmlkYW5nKHZhbCkgewoKCiAgICAgICAgICAgIHRoaXMuZ2V0VmlldygpOyAvLyByZWZyZXNoIGRhdGEKICAgICAgICB9LAoKICAgICAgICBmb3JtYXRSdXBpYWgodmFsdWUpIHsKICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiAiLSI7CiAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2lkLUlEJywgewogICAgICAgICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ0lEUicsCiAgICAgICAgICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsCiAgICAgICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAKICAgICAgICAgICAgfSkuZm9ybWF0KHZhbHVlKTsKICAgICAgICB9LAoKCiAgICAgICAgZ2V0QmlkYW5nKCkgewogICAgICAgICAgICBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS51cmwuVVJMX0RNX0JJRCArICJmb3JjZSIsIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzX2RhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdF9iaWRhbmcgPSByZXNfZGF0YQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldE1pdHJhKHVzZXJJZCkgewogICAgICAgICAgICBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS51cmwuS0VHSUFUQU5fQ1NSICsgIm1pdHJhLyIgKyB1c2VySWQsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc19kYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzX2RhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1pdHJhID0gcmVzX2RhdGEuZGF0YQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5KCJHYWdhbCBtZW5nYW1iaWwgZGF0YSBtaXRyYSIsICJuZWdhdGl2ZSIsICJlcnJvcl9vdXRsaW5lIikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigi4p2MIEVycm9yOiIsIGVycikKICAgICAgICAgICAgICAgICAgICB0aGlzLk5vdGlmeSgiVGVyamFkaSBrZXNhbGFoYW4gc2VydmVyIiwgIm5lZ2F0aXZlIiwgImVycm9yX291dGxpbmUiKQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAoKCgoKICAgICAgICAvLyBhbWJpbCBkYXRhIHV0YW1hCiAgICAgICAgZ2V0VmlldygpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaG9XTG9hZGluZyIpOwogICAgICAgICAgICBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS51cmwuTElTVF9QRU5HQUpVQU5fRk9SQ0UgKyAidmlldyIsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIHN0YXR1c19wZW5nYWp1YW46IHRoaXMuZmlsdGVya3Uuc3RhdHVzX3BlbmdhanVhbiwKICAgICAgICAgICAgICAgICAgICBiaWRhbmdfdXNhaGFfaWQ6IHRoaXMuZmlsdGVya3UuYmlkYW5nX3VzYWhhX2lkLCAgIC8vIPCflI4gZmlsdGVyIHBlcnVzYWhhYW4KICAgICAgICAgICAgICAgICAgICBwZXJ1c2FoYWFuX2lkOiB0aGlzLmZpbHRlcmt1LnBlcnVzYWhhYW5faWQsICAgLy8g8J+UjiBmaWx0ZXIgcGVydXNhaGFhbgogICAgICAgICAgICAgICAgICAgIGJpZGFuZ19mb3JjZV9pZDogdGhpcy5maWx0ZXJrdS5iaWRhbmdfZm9yY2VfaWQsICAgICAgIC8vIPCflI4gZmlsdGVyIGJpZGFuZyBDU1IKICAgICAgICAgICAgICAgICAgICBjYXJpX3ZhbHVlOiB0aGlzLmNhcmlfdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9rZTogdGhpcy5wYWdlX2ZpcnN0LAogICAgICAgICAgICAgICAgICAgIHBhZ2VfbGltaXQ6IHRoaXMucGFnZV9saW1pdCwKICAgICAgICAgICAgICAgICAgICB0aXBlOiB0aGlzLnRpcGUKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc19kYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzX2RhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RfZGF0YSA9IHJlc19kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNfZGF0YS50b3RhbCB8fCByZXNfZGF0YS5kYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlX2xhc3QgPSBNYXRoLmNlaWwodGhpcy50b3RhbCAvIHRoaXMucGFnZV9saW1pdCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaGlkZUxvYWRpbmciKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLinYwgRXJyb3IgZ2V0VmlldzoiLCBlcnIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaGlkZUxvYWRpbmciKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgoKICAgICAgICBhcHByb3ZlUGVuZ2FqdWFuOiBhc3luYyBmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgYXdhaXQgVU1VTS5ub3RpZkFwcHJvdmUoKTsKICAgICAgICAgICAgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkxJU1RfUEVOR0FKVUFOX0ZPUkNFICsgImFwcHJvdmVQZW5nYWp1YW4iLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJraWtlbnNiYXRhcmEgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaWQgfSkgLy8ga2lyaW0gaWQgc2FqYQogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihyZXNfZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc19kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Ob3RpZnkoJ1BlbmdhanVhbiBkaXNldHVqdWknLCAncG9zaXRpdmUnLCAnY2hlY2tfY2lyY2xlX291dGxpbmUnKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRWaWV3KCk7IC8vIHJlZnJlc2ggbGlzdAogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTm90aWZ5KHJlc19kYXRhLm1lc3NhZ2UsICduZWdhdGl2ZScsICdlcnJvcl9vdXRsaW5lJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKTsKICAgICAgICB9LAoKCgogICAgICAgIGdldEJpZGFuZ0ZpbHRlcigpIHsKICAgICAgICAgICAgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLlVSTF9ETV9CSUQgKyAiZm9yY2UiLCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc19kYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmJpZGFuZ09wdGlvbnMgPSBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6ICIiLCB1cmFpYW46ICItLSBTRU1VQSBCSURBTkcgLS0iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc19kYXRhLm1hcChiID0+ICh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGIuaWQudG9TdHJpbmcoKSAgLy8gcGFzdGlrYW4gdGlwZSBzYW1hIGRlbmdhbiB2LW1vZGVsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKQogICAgICAgICAgICAgICAgICAgIF07CiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCgoKICAgICAgICAvLyAgID09PT09PT09PT09PT09PT0gRklMVEVSIEJJREFORyBVU0FIQSBEQU4gUEVSVVNBSEFBTiA9PT09PT09PT09PT09PT09PT0KICAgICAgICBnZXRCaWRhbmdVc2FoYUZpbHRlcigpIHsKICAgICAgICAgICAgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkRBVEFfTUlUUkEgKyAiYmlkYW5nIiwgewogICAgICAgICAgICAgICAgaGVhZGVyczogeyBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4gfQogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihyZXNfZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaWRhbmdVc2FoYU9wdGlvbnMgPSBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6ICIiLCB1cmFpYW46ICItLSBTRU1VQSBCSURBTkcgVVNBSEEgLS0iIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc19kYXRhCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcigi4p2MIEVycm9yIGZldGNoIGJpZGFuZzoiLCBlcnIpKQogICAgICAgIH0sCgogICAgICAgIG9uQ2hhbmdlQmlkYW5nVXNhaGFGaWx0ZXIodmFsKSB7CiAgICAgICAgICAgIHRoaXMuZmlsdGVya3UuYmlkYW5nX3VzYWhhX2lkID0gdmFsCiAgICAgICAgICAgIHRoaXMuZmlsdGVya3UucGVydXNhaGFhbl9pZCA9ICIiCiAgICAgICAgICAgIHRoaXMuZ2V0UGVydXNhaGFhbkZpbHRlcigpCiAgICAgICAgICAgIHRoaXMuZ2V0VmlldygpCiAgICAgICAgfSwKCiAgICAgICAgZ2V0UGVydXNhaGFhbkZpbHRlcigpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLmZpbHRlcmt1LmJpZGFuZ191c2FoYV9pZCkgewogICAgICAgICAgICAgICAgdGhpcy5saXN0X3BlcnVzYWhhYW5fZmlsdGVyID0gW10KICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CgogICAgICAgICAgICBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS51cmwuREFUQV9NSVRSQSArICJieUJpZGFuZyIsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIGJpZGFuZ191c2FoYV9pZDogdGhpcy5maWx0ZXJrdS5iaWRhbmdfdXNhaGFfaWQKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc19kYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RfcGVydXNhaGFhbl9maWx0ZXIgPSByZXNfZGF0YQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBFcnJvciBmZXRjaCBwZXJ1c2FoYWFuOiIsIGVycikKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgb25DaGFuZ2VQZXJ1c2FoYWFuRmlsdGVyKHZhbCkgewogICAgICAgICAgICB0aGlzLmZpbHRlcmt1LnBlcnVzYWhhYW5faWQgPSB2YWwKICAgICAgICAgICAgdGhpcy5nZXRWaWV3KCkKICAgICAgICB9LAoKICAgICAgICAvLyAgID09PT09PT09PT09PT09PT0gRklMVEVSIEJJREFORyBVU0FIQSBEQU4gUEVSVVNBSEFBTiA9PT09PT09PT09PT09PT09PT0KCgoKICAgICAgICBzaW11bGF0ZVByb2dyZXNzKG51bWJlcikgewogICAgICAgICAgICAvLyB3ZSBzZXQgbG9hZGluZyBzdGF0ZQogICAgICAgICAgICB0aGlzW2BzaW1wYW4ke251bWJlcn1gXSA9IHRydWUKICAgICAgICAgICAgLy8gc2ltdWxhdGUgYSBkZWxheQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGRvbmUsIHdlIHJlc2V0IGxvYWRpbmcgc3RhdGUKICAgICAgICAgICAgICAgIHRoaXNbYHNpbXBhbiR7bnVtYmVyfWBdID0gZmFsc2UKICAgICAgICAgICAgfSwgMzAwMCkKICAgICAgICB9LAoKICAgICAgICBOb3RpZnk6IGZ1bmN0aW9uIChtZXNzYWdlLCBwb3NpdGl2ZSwgaWNvbikgewogICAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgICAgICAgY29sb3I6IHBvc2l0aXZlLAogICAgICAgICAgICAgICAgaWNvbjogaWNvbiwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJywKICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMCwKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKCiAgICAgICAgYnRuX3ByZXYoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VfZmlyc3QgPiAxKSB0aGlzLnBhZ2VfZmlyc3QtLTsKICAgICAgICAgICAgdGhpcy5nZXRWaWV3KCk7CiAgICAgICAgfSwKCiAgICAgICAgYnRuX25leHQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VfZmlyc3QgPCB0aGlzLnBhZ2VfbGFzdCkgdGhpcy5wYWdlX2ZpcnN0Kys7CiAgICAgICAgICAgIHRoaXMuZ2V0VmlldygpOwogICAgICAgIH0sCgogICAgICAgIGNhcmlfZGF0YSgpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX2ZpcnN0ID0gMTsKICAgICAgICAgICAgdGhpcy5nZXRWaWV3KCk7CiAgICAgICAgfSwKCiAgICAgICAgaW5kZXhpbmcoaW5kZXgpIHsKICAgICAgICAgICAgcmV0dXJuICgodGhpcy5wYWdlX2ZpcnN0IC0gMSkgKiB0aGlzLnBhZ2VfbGltaXQpICsgaW5kZXg7CiAgICAgICAgfSwKCgoKICAgIH0sCiAgICBtb3VudGVkKCkgewoKICAgICAgICBjb25zdCBnZXRfcHJvZmlsZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnByb2ZpbGUpOwogICAgICAgIHRoaXMudGlwZSA9IE51bWJlcihnZXRfcHJvZmlsZS5wcm9maWxlLmRiX2NzcmtvbnNlbCk7IC8vIGFtYmlsIGRiX2NzcmtvbnNlbAoKCiAgICAgICAgLy8gc2ltcGFuIGRhdGEgbWl0cmEgKGthbGF1IHlhbmcgbG9naW4gbWVtYW5nIG1pdHJhKQogICAgICAgIHRoaXMubWl0cmEgPSB7CiAgICAgICAgICAgIGlkOiBnZXRfcHJvZmlsZS5faWQsCiAgICAgICAgICAgIG5hbWE6IGdldF9wcm9maWxlLnByb2ZpbGUubmFtYSwKICAgICAgICAgICAgdXNlcm5hbWU6IGdldF9wcm9maWxlLnVzZXJuYW1lCiAgICAgICAgfQoKCiAgICAgICAgLy8gamFsYW5rYW4ga2V0aWthIGhhbGFtYW4gcGVydGFtYSBrYWxpIGRpYnVrYQogICAgICAgIHRoaXMuZ2V0VmlldygpOwogICAgICAgIC8vIHRoaXMuZ2V0RGVzYUZpbHRlcigpOwogICAgICAgIHRoaXMuZ2V0QmlkYW5nKCk7CiAgICAgICAgdGhpcy5nZXRCaWRhbmdGaWx0ZXIoKTsKICAgICAgICB0aGlzLmdldEJpZGFuZ1VzYWhhRmlsdGVyKCk7CiAgICAgICAgLy8gdGhpcy5nZXRTdWJCaWRhbmdGaWx0ZXIoKTsKICAgIH0KfQo="},{"version":3,"sources":["list_pengajuan_force.vue"],"names":[],"mappings":";;AAifA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list_pengajuan_force.vue","sourceRoot":"src/views/1kegiatancsr","sourcesContent":["<template>\n    <div class=\"about \" style=\"padding:15px\">\n        <q-card bordered class=\"my-card\">\n            <q-card-section class=\"main2 text-white\">\n                <div class=\"row items-center q-col-gutter-md\">\n                    <div class=\"col-12 col-md-6\">\n                        <div class=\"text-h6 h_titleHead\">Pengajuan Program Force Majeure CSR</div>\n                    </div>\n\n                    <!-- Filter Status -->\n                    <div class=\"col-12 col-md-2\">\n                        <q-select v-model=\"filterku.status_pengajuan\" :options=\"statusOptions\" outlined dense square\n                            emit-value map-options class=\"bg-white\" @input=\"onStatusChange\" />\n                    </div>\n\n                    <!-- Cari -->\n                    <div class=\"col-12 col-md-4\">\n                        <div class=\"row\">\n                            <q-input v-model=\"cari_value\" @keyup=\"cari_data()\" outlined square dense\n                                class=\"bg-white col q-mr-sm\" />\n\n                        </div>\n                    </div>\n                </div>\n\n            </q-card-section>\n\n        </q-card>\n\n\n        <hr class=\"hrpagin2\">\n\n\n\n\n\n        <div class=\"row q-col-gutter-md\">\n            <!-- Filter Bidang Usaha -->\n            <div class=\"col-12 col-md-6\">\n                <span class=\"h_lable\">Bidang Usaha</span>\n                <q-select v-model=\"filterku.bidang_usaha_id\" :options=\"bidangUsahaOptions\" option-label=\"uraian\"\n                    option-value=\"id\" emit-value map-options outlined dense class=\"bg-white\"\n                    @input=\"onChangeBidangUsahaFilter\" />\n            </div>\n\n            <!-- Filter Perusahaan -->\n            <div class=\"col-12 col-md-6\">\n                <span class=\"h_lable\">Perusahaan</span>\n                <q-select v-model=\"filterku.perusahaan_id\" :options=\"list_perusahaan_filter\" option-label=\"nama\"\n                    option-value=\"users_id\" label=\"-- SEMUA PERUSAHAAN --\" emit-value map-options outlined dense\n                    class=\"bg-white\" @input=\"onChangePerusahaanFilter\" />\n            </div>\n\n\n            <!-- Filter Bidang -->\n            <div class=\"col-12 col-md-12\">\n                <span class=\"h_lable\">Bidang CSR Force Majeure</span>\n                <q-select v-model=\"filterku.bidang_force_id\" :options=\"bidangOptions\" option-label=\"uraian\"\n                    option-value=\"id\" emit-value map-options outlined dense class=\"bg-white\" @input=\"onChangeBidang\" />\n            </div>\n\n\n\n\n        </div>\n        <hr class=\"hrpagin2\">\n\n        <div class=\"tbl_responsive\">\n            <!-- =================================================== KONTENT =========================================================== -->\n            <table width=\"100%\">\n                <tr class=\"h_table_head main1 text-white \">\n                    <th width=\"5%\" class=\"text-center\">No</th>\n                    <th width=\"5%\">Status</th>\n                    <th width=\"20%\">Nama Program</th>\n                    <th width=\"10%\">Kecamatan</th>\n                    <th width=\"5%\">Tanggal Pengajuan</th>\n                    <th width=\"15%\">Mitra/Perusahaan</th>\n                    <th width=\"5%\">Jumlah Pengambilan</th>\n                    <th width=\"5%\">Tersedia</th>\n                    <th width=\"30%\" class=\"text-center\">Act</th>\n                    <!-- <th width=\"30%\">Keterangan</th> -->\n                    <!-- <th width=\"10%\"></th> -->\n                </tr>\n                <tr class=\"h_table_body\" v-for=\"(data, index) in list_data\" :key=\"data.id + '-' + index\"\n                :class=\"{ 'row-selesai': data.status === 4 && data.status_pengajuan === 2 }\">\n                    <td class=\"text-center\">{{ indexing(index + 1) }}.</td>\n                    <td class=\"text-center\">\n                        <a href=\"javascript:void(0)\" class=\"removeTextDecoration\" @click=\"lihatKeterangan(data)\">\n                            <q-btn v-if=\"data.status_pengajuan == 1\" round glossy size=\"xs\" color=\"orange\"\n                                icon=\"hourglass_empty\" />\n                            <q-btn v-if=\"data.status_pengajuan == 2\" round size=\"xs\" glossy color=\"green\" icon=\"done\" />\n                            <q-btn v-if=\"data.status_pengajuan == 3\" round glossy size=\"xs\" color=\"red\" icon=\"close\" />\n                        </a>\n                    </td>\n                    <td>\n                        <div>\n                            {{ data.nama_kegiatan }}\n                        </div>\n                        <div class=\"text-blue text-bold\" style=\"font-size: 12px;\">\n                            {{ data.uraian_bidang_csr }}, {{ data.uraian_bidang_sub_csr }}\n                        </div>\n                    </td>\n\n                    <td>\n                        <div>{{ data.nama_kecamatan }}</div>\n                        <div class=\"text-blue text-bold\" style=\"font-size: 12px;\">\n                            {{ data.nama_desa }}\n                        </div>\n                    </td>\n\n\n                    <td>{{ UMUM.tglConvert(data.tgl_pengajuan) }} </td>\n                    <td>\n                        <div>{{ data.nama_perusahaan }}</div>\n                        <div class=\"text-blue text-bold\" style=\"font-size: 12px;\">\n                            {{ data.bidang_perusahaan }}\n                        </div>\n                    </td>\n                    <td>{{ data.jumlah_ambil }} {{ data.satuan }}</td>\n                    <td :style=\"{ backgroundColor: data.jumlah_sisa === 0 ? '#ffcccc' : 'transparent' }\">\n                        {{ data.jumlah_sisa }} {{ data.satuan }}\n                    </td>\n                    <td class=\"text-center q-gutter-sm\">\n                        <!-- Tombol Lihat Detil -->\n                        <q-btn glossy color=\"blue\" label=\"Lihat Detil\" size=\"sm\"\n                            @click=\"selectData(data); mdl_lihat = true\">\n                            <q-tooltip content-class=\"bg-blue-9\" content-style=\"font-size: 13px\">\n                                Lihat Detil\n                            </q-tooltip>\n                        </q-btn>\n\n                        <!-- Tombol Setujui -->\n                        <q-btn v-if=\"tipe === 1 || tipe === 5\" glossy color=\"green\" label=\"Setujui\" size=\"sm\"\n                            :disable=\"data.status_pengajuan == 2 || data.status_pengajuan == 3\"\n                            @click=\"approvePengajuan(data.id)\">\n                            <q-tooltip content-class=\"bg-green-9\" content-style=\"font-size: 13px\">\n                                Setujui Pengajuan\n                            </q-tooltip>\n                        </q-btn>\n\n                        <!-- Tombol Tolak -->\n                        <q-btn v-if=\"tipe === 1 || tipe === 5\" glossy color=\"red\" label=\"Tolak\" size=\"sm\"\n                            :disable=\"data.status_pengajuan == 2 || data.status_pengajuan == 3\"\n                            @click=\"tolakPengajuan(data.id)\">\n                            <q-tooltip content-class=\"bg-red-9\" content-style=\"font-size: 13px\">\n                                Tolak Pengajuan\n                            </q-tooltip>\n                        </q-btn>\n\n                        <!-- Tombol upload bukti -->\n                        <q-btn v-if=\"tipe === 4 && data.status_pengajuan == 2\" glossy color=\"purple\"\n                            label=\"Upload Eviden\" size=\"sm\" @click=\"openUploadModal(data)\">\n                            <q-tooltip content-class=\"bg-purple-9\" content-style=\"font-size: 13px\">\n                                Upload Bukti Program\n                            </q-tooltip>\n                        </q-btn>\n\n                        <q-btn v-if=\"tipe === 1 || tipe === 5 && data.status_pengajuan == 2 && data.jml_eviden > 0\"\n                            glossy color=\"purple\" label=\"Lihat Eviden\" size=\"sm\" @click=\"lihatEviden(data)\">\n                            <q-tooltip content-class=\"bg-purple-9\" content-style=\"font-size: 13px\">\n                                Lihat Bukti Program\n                            </q-tooltip>\n                        </q-btn>\n                    </td>\n\n                </tr>\n\n            </table>\n\n            <!-- =================================================== KONTENT =========================================================== -->\n        </div>\n\n        <hr class=\"hrpagin\">\n        <br>\n        <div class=\"flex flex-center\">\n            <q-pagination v-model=\"page_first\" :max=\"page_last\" :max-pages=\"4\" color=\"grey-6\" :direction-links=\"true\"\n                :boundary-links=\"true\" icon-first=\"skip_previous\" icon-last=\"skip_next\" icon-prev=\"fast_rewind\"\n                icon-next=\"fast_forward\" @input=\"getView\" />\n        </div>\n\n\n        <!-- ===================== MODAL TOLAK ===================== -->\n\n        <q-dialog v-model=\"mdl_catatan_admin\" persistent>\n            <q-card class=\"mdl-md\">\n                <q-card-section class=\"bg-orange text-white\">\n                    <div class=\"text-h6\">Evaluasi Pengajuan</div>\n                </q-card-section>\n\n                <q-card-section>\n                    <span class=\"h_lable\">Hasil Evaluasi</span>\n                    <!-- v-model langsung ke selectedItem.catatan_admin -->\n                    <q-input v-model=\"selectedItem.catatan_admin\" outlined square dense type=\"textarea\"\n                        class=\"bg-white q-mt-sm\" />\n                </q-card-section>\n\n                <q-card-actions align=\"right\" class=\"bg-grey-4\">\n                    <q-btn color=\"warning\" label=\"Evaluasi\" @click=\"submitTolak()\" />\n                    <q-btn color=\"negative\" label=\"Batal\" v-close-popup />\n                </q-card-actions>\n            </q-card>\n        </q-dialog>\n\n\n\n\n        <!-- ===================== MODAL TOLAK ===================== -->\n\n        <!-- ========================== KETERANGAN ================================ -->\n        <q-dialog v-model=\"mdl_keterangan\" persistent>\n            <q-card class=\"mdl-md\">\n                <q-card-section class=\"bg-orange\">\n                    <div class=\"text-h6 h_modalhead\">KETERANGAN</div>\n                </q-card-section>\n\n                <q-card-section class=\"q-pt-none\">\n                    <br>\n                    <span style=\"margin-top:100px\">{{ selectedItem.catatan_admin }}</span>\n\n                </q-card-section>\n\n                <q-card-actions class=\"bg-grey-4 mdl-footer\" align=\"right\">\n\n                    <q-btn label=\"Close\" color=\"negative\" v-close-popup />\n\n                </q-card-actions>\n            </q-card>\n        </q-dialog>\n\n\n        <!-- ========================== KETERANGAN ================================ -->\n\n        <!-- MODAL DETAIL PENGAJUAN -->\n        <q-dialog v-model=\"mdl_lihat\" persistent>\n            <q-card class=\"mdl-md\">\n\n                <!-- Header -->\n                <q-card-section class=\"bg-primary text-white flex items-center\">\n                    <q-icon name=\"description\" size=\"md\" class=\"q-mr-sm\" />\n                    <div class=\"text-h6\">Detail Pengajuan Program CSR</div>\n                </q-card-section>\n\n                <q-separator />\n\n                <!-- Konten -->\n                <q-card-section class=\"q-gutter-md\">\n\n                    <!-- Lampiran File -->\n                    <div>\n                        <div class=\"text-subtitle1 text-bold q-mb-sm\">📂 Lampiran File</div>\n                        <div v-if=\"selectedItem.file_name\">\n                            <q-img :src=\"file_path + selectedItem.file_name\" spinner-color=\"primary\"\n                                style=\"max-height: 400px; cursor: pointer; border: 1px solid #ddd; border-radius: 6px;\"\n                                @click=\"downloadFile(selectedItem.file_name)\" />\n                        </div>\n                        <div v-else>\n                            <span class=\"text-grey\">Tidak ada file</span>\n                        </div>\n                    </div>\n\n                    <!-- Info Program -->\n                    <div>\n                        <div class=\"text-subtitle1 text-bold q-mb-sm\">📌 Informasi Program</div>\n                        <q-list dense bordered separator class=\"rounded-borders\">\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Nama Program</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.nama_kegiatan }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Bidang</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.uraian_bidang_csr || '-'\n                                    }}</q-item-section>\n                            </q-item>\n                            <q-item v-if=\"selectedItem.uraian_bidang_sub_csr\">\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Sub Bidang</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.uraian_bidang_sub_csr }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Jumlah Tersedia</b></q-item-section>\n                                <q-item-section>\n                                    <q-badge color=\"amber\" text-color=\"black\"\n                                        :label=\"selectedItem.jumlah_sisa + ' ' + selectedItem.satuan\" />\n                                </q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Jumlah Total</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.jumlah }} {{ selectedItem.satuan\n                                    }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Nilai Program</b></q-item-section>\n                                <q-item-section class=\"col-9\">Rp {{ Number(selectedItem.nilai).toLocaleString('id-ID')\n                                    }} / {{ selectedItem.satuan }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Tanggal Mulai</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ UMUM.tglConvert(selectedItem.tanggal_mulai)\n                                    }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Tanggal Selesai</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ UMUM.tglConvert(selectedItem.tanggal_selesai)\n                                    }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Alamat</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.alamat }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Kecamatan</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.nama_kecamatan }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Desa</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.nama_desa }}</q-item-section>\n                            </q-item>\n                        </q-list>\n                    </div>\n\n                    <!-- Info Perusahaan -->\n                    <div class=\"q-mt-md\">\n                        <div class=\"text-subtitle1 text-bold q-mb-sm\">🏢 Informasi Perusahaan</div>\n                        <q-list dense bordered separator class=\"rounded-borders\">\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Nama Perusahaan</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.nama_perusahaan }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Email\n                                        Perusahaan</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.email_perusahaan || '-'\n                                    }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Telp Perusahaan</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.telp_perusahaan || '-' }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Alamat\n                                        Perusahaan</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.alamat_perusahaan || '-'\n                                    }}</q-item-section>\n                            </q-item>\n                        </q-list>\n\n                        <q-separator spaced />\n\n                        <!-- Penanggung Jawab -->\n                        <div class=\"text-subtitle2 text-bold q-mb-sm\">👤 Penanggung Jawab</div>\n                        <q-list dense bordered separator class=\"rounded-borders\">\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Nama</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.nama_pj }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Jabatan</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.jabatan_pj }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>Email</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.email_pj }}</q-item-section>\n                            </q-item>\n                            <q-item>\n                                <q-item-section class=\"col-3 text-weight-medium\"><b>No Hp</b></q-item-section>\n                                <q-item-section class=\"col-9\">{{ selectedItem.hp_pj }}</q-item-section>\n                            </q-item>\n                        </q-list>\n                    </div>\n\n                </q-card-section>\n\n                <q-separator />\n\n                <!-- Actions -->\n                <q-card-actions align=\"right\" class=\"q-pa-md\">\n                    <q-btn label=\"Batal\" color=\"negative\" v-close-popup />\n                </q-card-actions>\n\n            </q-card>\n        </q-dialog>\n\n<!-- ===================== MODAL UPLOAD ===================== -->\n<q-dialog v-model=\"mdl_upload_eviden\" persistent>\n            <q-card class=\"mdl-md\">\n                <q-card-section class=\"bg-purple text-white\">\n                    <div class=\"text-h6\">Upload Bukti Program CSR</div>\n                </q-card-section>\n\n                <q-card-section>\n                    <q-input v-model=\"uploadData.keterangan\" outlined dense label=\"Keterangan\" type=\"textarea\"\n                        class=\"q-mb-md bg-white\" />\n\n                    <!-- Q-FILE (lebih simpel dari Q-Uploader) -->\n                    <q-file v-model=\"uploadData.file\" label=\"Pilih Foto\" accept=\"image/*\" outlined dense use-chips>\n                        <template v-slot:append>\n                            <q-icon name=\"attach_file\" />\n                        </template>\n                    </q-file>\n\n                    <!-- 🔹 Pembatas -->\n                    <hr class=\"hrpagin2\" />\n\n                    <!-- LIST DATA BUKTI -->\n                    <table width=\"100%\">\n                        <tr class=\"h_table_head bg-purple text-white\">\n                            <th width=\"5%\" class=\"text-center\">No</th>\n                            <th width=\"20%\">Foto</th>\n                            <th width=\"55%\">Keterangan</th>\n                            <th width=\"20%\" class=\"text-center\">Aksi</th>\n                        </tr>\n                        <tr class=\"h_table_body\" v-for=\"(row, index) in list_data_bukti\" :key=\"row.id + '-' + index\">\n                            <td class=\"text-center\">{{ index + 1 }}</td>\n                            <td>\n                                <a :href=\"file_path + row.file_name\" target=\"_blank\" class=\"text-blue\">\n                                    <img :src=\"file_path + row.file_name\" alt=\"foto\"\n                                        style=\"width:60px; height:auto; border-radius:4px;\" />\n                                </a>\n                            </td>\n                            <td>{{ row.keterangan }}</td>\n                            <td class=\"text-center q-gutter-sm\">\n\n                                <!-- Hapus -->\n                                <q-btn dense round color=\"red\" icon=\"delete\" @click=\"hapusBukti(row.id)\">\n                                    <q-tooltip>Hapus</q-tooltip>\n                                </q-btn>\n                            </td>\n                        </tr>\n                        <tr v-if=\"list_data_bukti.length === 0\">\n                            <td colspan=\"4\" class=\"text-center text-grey\">\n                                Belum ada bukti diunggah\n                            </td>\n                        </tr>\n                    </table>\n                </q-card-section>\n\n                <q-card-actions align=\"right\" class=\"bg-grey-4\">\n                    <q-btn label=\"Upload\" class=\"bg-purple text-white\" @click=\"submitUploadEviden\" />\n                    <q-btn label=\"Batal\" color=\"negative\" v-close-popup @click=\"resetUploadModal\" />\n                </q-card-actions>\n            </q-card>\n        </q-dialog>\n\n        <!-- ===================== MODAL UPLOAD ===================== -->\n\n        <!-- ===================== MODAL LIHAT UPLOAD DARI PERUSAHAAN ===================== -->\n        <q-dialog v-model=\"mdl_lihat_eviden\" persistent>\n            <q-card class=\"mdl-md\">\n                <q-card-section class=\"bg-purple text-white\">\n                    <div class=\"text-h6\">Daftar Bukti Program CSR</div>\n                </q-card-section>\n\n                <q-card-section>\n                    <table width=\"100%\">\n                        <tr class=\"h_table_head bg-purple text-white\">\n                            <th width=\"10%\">No</th>\n                            <th width=\"30%\">Foto</th>\n                            <th width=\"50%\">Keterangan</th>\n                        </tr>\n                        <tr class=\"h_table_body\" v-for=\"(row, idx) in list_data_bukti\" :key=\"row.id\">\n                            <td class=\"text-center\">{{ idx + 1 }}</td>\n                            <td>\n                                <a :href=\"$store.state.url.URL_APP + 'uploads/' + row.file_name\" target=\"_blank\">\n                                    <img :src=\"$store.state.url.URL_APP + 'uploads/' + row.file_name\" alt=\"bukti\"\n                                        width=\"80\" />\n                                </a>\n                            </td>\n                            <td>{{ row.keterangan }}</td>\n                        </tr>\n                    </table>\n                </q-card-section>\n\n                <q-card-actions align=\"right\">\n                    <q-btn label=\"Tutup\" color=\"red\" v-close-popup />\n                    <q-btn glossy color=\"green\" label=\"Selesaikan Program\"\n                        :disable=\"selectedData && selectedData.status == 4\"\n                        @click=\"selesaikanProgram(selectedData.id)\" />\n                </q-card-actions>\n            </q-card>\n        </q-dialog>\n\n\n        <!-- ===================== MODAL LIHAT UPLOAD DARI PERUSAHAAN ===================== -->\n\n\n\n\n\n\n\n\n\n    </div>\n</template>\n\n\n<script>\n\nimport UMUM from \"../../library/umum.js\";\nexport default {\n    data() {\n        return {\n\n            UMUM: UMUM,\n\n            list_data: [],\n\n            status: 4,\n            mdl_add: false,\n            mdl_edit: false,\n            mdl_delete: false,\n            mdl_kembalikan: false,\n            mdl_keterangan: false,\n            mdl_lihat: false,\n            mdl_catatan_admin: false,\n            alert: false,\n            simpan1: false,\n            selectedItem: {},\n            cari_value: \"\",\n            page_first: 1,\n            page_last: 1,\n            page_limit: 8,\n            total: 0,\n            mdlAmbil: false,\n            selectedProgram: {},\n            jumlahAmbil: 0,\n            mitra: {},\n            ambilSemua: false,\n            catatanAmbil: '',\n\n            tipe: null, // simpan tipe user\n\n\n            form: {\n                bidang_force_id: null,\n                nama_csr: \"\",\n                deskripsi: \"\",\n                jumlah: null,\n                satuan: \"\",\n                nilai: null,\n                tanggal_mulai: \"\",\n                tanggal_selesai: \"\",\n                kecamatan_id: null,\n                desa_id: null,\n                alamat: \"\",\n                file_name: null  // 🔹 untuk file upload\n            },\n\n            mitra: {\n                nama_perusahaan: '',\n                email_perusahaan: '',\n                telp_perusahaan: '',\n                alamat_perusahaan: '',\n                nama_pj: '',\n                jabatan: '',\n                email_pj: '',\n                hp_pj: ''\n            },\n            list_bidang: [],\n            list_kecamatan: [],\n            list_kecamatan_master: [], // simpan data asli\n            list_desa: [],\n            list_desa_master: [],\n            file_path: this.$store.state.url.URL_APP + \"uploads/\",\n\n\n            filterku: {\n                bidang_usaha_id: \"\",\n                perusahaan_id: \"\",\n                bidang_force_id: \"\",\n                status_pengajuan: \"\"\n            },\n\n\n            list_bidang_filter: [],\n\n            // hasil data yang difilter\n            dataView: [],\n\n            list_kecamatan_filter: [],\n            list_desa_filter: [],\n\n            statusOptions: [\n                { label: 'Semua Status', value: '' },\n                { label: 'Diproses', value: 1 },\n                { label: 'Diterima', value: 2 },\n                { label: 'Ditolak', value: 3 },\n            ],\n\n            list_perusahaan_filter: [],\n            bidangOptions: [], // <- ubah dari computed ke data\n            bidangUsahaOptions: [], // <- ubah dari computed ke data\n            mdl_upload_eviden: false,\n            uploadData: {\n                id: null,        // simpan id program\n                keterangan: '',\n                file: null\n            },\n            list_data_bukti: [],\n\n            columns_bukti: [\n                { name: 'foto', label: 'Foto', field: 'file_name' },\n                { name: 'keterangan', label: 'Keterangan', field: 'keterangan' },\n                { name: 'aksi', label: 'Aksi', field: 'aksi' }\n            ],\n\n            mdl_lihat_eviden: false,\n            selectedData: null, // ✅ tambahkan ini\n            selectedItemEviden: {\n                keterangan: '',\n                files: []\n            },\n\n\n        }\n\n\n    },\n\n\n    methods: {\n\n        async lihatEviden(item) {\n            const res = await fetch(this.$store.state.url.LIST_PENGAJUAN_FORCE + 'getEviden?id=' + item.id, {\n                headers: { authorization: \"kikensbatara \" + localStorage.token }\n            });\n            this.list_data_bukti = await res.json();\n            this.mdl_lihat_eviden = true;\n            this.selectedData = item; // ✅ simpan data yg dipilih\n        },\n\n        openUploadModal(item) {\n            this.uploadData.id = item.id\n            this.uploadData.keterangan = ''\n            this.uploadData.file = null\n            this.mdl_upload_eviden = true\n            this.getListBukti()\n        },\n\n        async getListBukti() {\n            if (!this.uploadData.id) return\n            const res = await fetch(\n                this.$store.state.url.LIST_PENGAJUAN_FORCE + 'getEviden?id=' + this.uploadData.id,\n                { headers: { authorization: 'kikensbatara ' + localStorage.token } }\n            )\n            const data = await res.json()\n            this.list_data_bukti = data\n        },\n\n        async hapusBukti(id) {\n            if (!confirm(\"Yakin hapus bukti ini?\")) return\n            await fetch(this.$store.state.url.LIST_PENGAJUAN_FORCE + 'deleteEviden?id=' + id, { method: 'DELETE' })\n            this.getListBukti()\n        },\n\n        resetUploadModal() {\n            this.uploadData.keterangan = ''\n            this.uploadData.file = null\n        },\n\n        async submitUploadEviden() {\n            if (!this.uploadData.keterangan) {\n                this.Notify('Keterangan harus diisi', 'negative', 'warning')\n                return\n            }\n\n            if (!this.uploadData.file) {\n                this.Notify('Pilih 1 foto terlebih dahulu', 'negative', 'warning')\n                return\n            }\n\n            const formData = new FormData()\n            formData.append('id', this.uploadData.id)\n            formData.append('keterangan', this.uploadData.keterangan)\n            formData.append('file', this.uploadData.file)  // 🔥 harus \"file\"\n\n            try {\n                const res = await fetch(this.$store.state.url.LIST_PENGAJUAN_FORCE + 'uploadEviden', {\n                    method: 'POST',\n                    headers: {\n                        authorization: 'kikensbatara ' + localStorage.token\n                    },\n                    body: formData\n                })\n\n                const data = await res.json()\n                if (data.success) {\n                    this.Notify('Bukti berhasil diupload', 'positive', 'check_circle_outline')\n                    this.resetUploadModal()\n                    this.mdl_upload_eviden = false\n                    this.getView() // refresh list\n                } else {\n                    this.Notify(data.message, 'negative', 'error_outline')\n                }\n            } catch (err) {\n                console.error(err)\n                this.Notify('Terjadi kesalahan server', 'negative', 'error_outline')\n            }\n        },\n        previewFile(row) {\n            window.open(this.fileBaseUrl + row.file_name, '_blank')\n        },\n\n\n\n        hapusBukti(id) {\n            if (!confirm(\"Yakin hapus bukti ini?\")) return;\n\n            fetch(this.$store.state.url.LIST_PENGAJUAN_FORCE + \"removeEviden\", {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: JSON.stringify({ id })\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    if (res_data.success) {\n                        this.Notify(\"Bukti berhasil dihapus\", \"positive\", \"check_circle_outline\");\n                        this.getListBukti();\n                    } else {\n                        this.Notify(res_data.message || \"Gagal hapus bukti\", \"negative\", \"error\");\n                    }\n                })\n                .catch(err => {\n                    this.Notify(\"Error: \" + err.message, \"warning\", \"error\");\n                });\n        },\n        selesaikanProgram: async function (id) {\n            try {\n                // konfirmasi dulu\n                this.mdl_lihat_eviden = false;\n                await UMUM.notifApprove();\n\n                const res = await fetch(this.$store.state.url.LIST_PENGAJUAN_FORCE + \"selesaikanProgram\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        authorization: \"kikensbatara \" + localStorage.token\n                    },\n                    body: JSON.stringify({ id })\n                });\n\n                const result = await res.json();\n                if (result.success) {\n                    this.Notify(\"Program berhasil diselesaikan\", \"positive\", \"check_circle_outline\");\n                    this.mdl_lihat_eviden = false;\n                    this.getView(); // refresh tabel utama\n                } else {\n                    this.Notify(result.message || \"Gagal menyelesaikan program\", \"negative\", \"error_outline\");\n                }\n            } catch (err) {\n                // kalau user batal di notifApprove, dia juga bakal masuk ke sini\n                console.error(err);\n                this.Notify(\"Error: \" + err.message, \"negative\", \"error\");\n            }\n        },\n\n        downloadFile(fileName) {\n            if (fileName) {\n                window.open(this.file_path + fileName, \"_blank\");\n            }\n        },\n\n        lihatKeterangan: function (item) {\n            this.selectedItem = { ...item };\n            this.mdl_keterangan = true; // buka modal keterangan\n        },\n\n        tolakPengajuan: async function (id) {\n            // Cari data sesuai id dan simpan di selectedItem\n            const item = this.list_data.find(d => d.id === id);\n            if (!item) return;\n\n            this.selectedItem = { ...item, catatan_admin: '' };\n            this.mdl_catatan_admin = true; // buka modal\n        },\n\n\n        // Tombol Evaluasi di modal\n        submitTolak: async function () {\n            if (!this.selectedItem.catatan_admin) {\n                this.Notify('Catatan harus diisi', 'negative', 'warning');\n                return;\n            }\n\n            try {\n                const res = await fetch(this.$store.state.url.LIST_PENGAJUAN_FORCE + \"tolakPengajuan\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        authorization: \"kikensbatara \" + localStorage.token\n                    },\n                    body: JSON.stringify({\n                        id: this.selectedItem.id,\n                        catatan_admin: this.selectedItem.catatan_admin\n                    })\n                });\n\n                const data = await res.json();\n\n                if (data.success) {\n                    this.Notify('Pengajuan ditolak', 'negative', 'cancel');\n                    this.getView(); // refresh list\n                    this.mdl_catatan_admin = false; // tutup modal\n                } else {\n                    this.Notify(data.message, 'negative', 'error_outline');\n                }\n\n            } catch (err) {\n                console.error(err);\n                this.Notify('Terjadi kesalahan server', 'negative', 'error_outline');\n            }\n        },\n\n        selectData(item) {\n            this.selectedItem = item;\n            this.mdl_lihat = true; // buka modal\n        },\n\n\n        onStatusChange(val) {\n            this.getView()\n        },\n\n\n        onChangeBidang(val) {\n\n\n            this.getView(); // refresh data\n        },\n\n        formatRupiah(value) {\n            if (value == null) return \"-\";\n            return new Intl.NumberFormat('id-ID', {\n                style: 'currency',\n                currency: 'IDR',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0\n            }).format(value);\n        },\n\n\n        getBidang() {\n            fetch(this.$store.state.url.URL_DM_BID + \"force\", {\n                headers: {\n                    authorization: \"kikensbatara \" + localStorage.token\n                }\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    this.list_bidang = res_data\n                })\n        },\n        getMitra(userId) {\n            fetch(this.$store.state.url.KEGIATAN_CSR + \"mitra/\" + userId, {\n                method: \"GET\",\n                headers: {\n                    authorization: \"kikensbatara \" + localStorage.token\n                }\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    if (res_data.success) {\n                        this.mitra = res_data.data\n                    } else {\n                        this.Notify(\"Gagal mengambil data mitra\", \"negative\", \"error_outline\")\n                    }\n                })\n                .catch(err => {\n                    console.error(\"❌ Error:\", err)\n                    this.Notify(\"Terjadi kesalahan server\", \"negative\", \"error_outline\")\n                })\n        },\n\n\n\n\n        // ambil data utama\n        getView() {\n            this.$store.commit(\"shoWLoading\");\n            fetch(this.$store.state.url.LIST_PENGAJUAN_FORCE + \"view\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: JSON.stringify({\n                    status_pengajuan: this.filterku.status_pengajuan,\n                    bidang_usaha_id: this.filterku.bidang_usaha_id,   // 🔎 filter perusahaan\n                    perusahaan_id: this.filterku.perusahaan_id,   // 🔎 filter perusahaan\n                    bidang_force_id: this.filterku.bidang_force_id,       // 🔎 filter bidang CSR\n                    cari_value: this.cari_value,\n                    data_ke: this.page_first,\n                    page_limit: this.page_limit,\n                    tipe: this.tipe\n                })\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    if (res_data.success) {\n                        this.list_data = res_data.data;\n                        this.total = res_data.total || res_data.data.length;\n                        this.page_last = Math.ceil(this.total / this.page_limit);\n                    }\n                    this.$store.commit(\"hideLoading\");\n                })\n                .catch(err => {\n                    console.error(\"❌ Error getView:\", err);\n                    this.$store.commit(\"hideLoading\");\n                });\n        },\n\n\n        approvePengajuan: async function (id) {\n            await UMUM.notifApprove();\n            fetch(this.$store.state.url.LIST_PENGAJUAN_FORCE + \"approvePengajuan\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: JSON.stringify({ id }) // kirim id saja\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    if (res_data.success) {\n                        this.Notify('Pengajuan disetujui', 'positive', 'check_circle_outline');\n                        this.getView(); // refresh list\n                    } else {\n                        this.Notify(res_data.message, 'negative', 'error_outline');\n                    }\n                })\n                .catch(err => console.error(err));\n        },\n\n\n\n        getBidangFilter() {\n            fetch(this.$store.state.url.URL_DM_BID + \"force\", {\n                headers: {\n                    authorization: \"kikensbatara \" + localStorage.token\n                }\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    this.bidangOptions = [\n                        { id: \"\", uraian: \"-- SEMUA BIDANG --\" },\n                        ...res_data.map(b => ({\n                            ...b,\n                            id: b.id.toString()  // pastikan tipe sama dengan v-model\n                        }))\n                    ];\n                })\n        },\n\n\n        //   ================ FILTER BIDANG USAHA DAN PERUSAHAAN ==================\n        getBidangUsahaFilter() {\n            fetch(this.$store.state.url.DATA_MITRA + \"bidang\", {\n                headers: { authorization: \"kikensbatara \" + localStorage.token }\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    this.bidangUsahaOptions = [\n                        { id: \"\", uraian: \"-- SEMUA BIDANG USAHA --\" },\n                        ...res_data\n                    ]\n                })\n                .catch(err => console.error(\"❌ Error fetch bidang:\", err))\n        },\n\n        onChangeBidangUsahaFilter(val) {\n            this.filterku.bidang_usaha_id = val\n            this.filterku.perusahaan_id = \"\"\n            this.getPerusahaanFilter()\n            this.getView()\n        },\n\n        getPerusahaanFilter() {\n            if (!this.filterku.bidang_usaha_id) {\n                this.list_perusahaan_filter = []\n                return\n            }\n\n            fetch(this.$store.state.url.DATA_MITRA + \"byBidang\", {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: JSON.stringify({\n                    bidang_usaha_id: this.filterku.bidang_usaha_id\n                })\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    this.list_perusahaan_filter = res_data\n                })\n                .catch(err => {\n                    console.error(\"❌ Error fetch perusahaan:\", err)\n                })\n        },\n\n        onChangePerusahaanFilter(val) {\n            this.filterku.perusahaan_id = val\n            this.getView()\n        },\n\n        //   ================ FILTER BIDANG USAHA DAN PERUSAHAAN ==================\n\n\n\n        simulateProgress(number) {\n            // we set loading state\n            this[`simpan${number}`] = true\n            // simulate a delay\n            setTimeout(() => {\n                // we're done, we reset loading state\n                this[`simpan${number}`] = false\n            }, 3000)\n        },\n\n        Notify: function (message, positive, icon) {\n            this.$q.notify({\n                message: message,\n                color: positive,\n                icon: icon,\n                position: 'top',\n                timeout: 500,\n            })\n        },\n\n\n        btn_prev() {\n            if (this.page_first > 1) this.page_first--;\n            this.getView();\n        },\n\n        btn_next() {\n            if (this.page_first < this.page_last) this.page_first++;\n            this.getView();\n        },\n\n        cari_data() {\n            this.page_first = 1;\n            this.getView();\n        },\n\n        indexing(index) {\n            return ((this.page_first - 1) * this.page_limit) + index;\n        },\n\n\n\n    },\n    mounted() {\n\n        const get_profile = JSON.parse(localStorage.profile);\n        this.tipe = Number(get_profile.profile.db_csrkonsel); // ambil db_csrkonsel\n\n\n        // simpan data mitra (kalau yang login memang mitra)\n        this.mitra = {\n            id: get_profile._id,\n            nama: get_profile.profile.nama,\n            username: get_profile.username\n        }\n\n\n        // jalankan ketika halaman pertama kali dibuka\n        this.getView();\n        // this.getDesaFilter();\n        this.getBidang();\n        this.getBidangFilter();\n        this.getBidangUsahaFilter();\n        // this.getSubBidangFilter();\n    }\n}\n</script>"]}]}