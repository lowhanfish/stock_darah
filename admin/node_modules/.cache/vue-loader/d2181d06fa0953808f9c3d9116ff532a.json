{"remainingRequest":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/berita.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/berita.vue","mtime":1757230947091},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js","mtime":1758930419036},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js","mtime":1758930412679},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js","mtime":1758930412640}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKaW1wb3J0IFVNVU0gZnJvbSAiLi4vbGlicmFyeS91bXVtLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewoKICAgICAgbGlzdF9kYXRhOiBbXSwKICAgICAgZWRpdG9yVG9vbGJhcjogWwogICAgICAgIFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJ10sCiAgICAgICAgWydsaW5rJywgJ3F1b3RlJywgJ3Vub3JkZXJlZCcsICdvcmRlcmVkJ10sCiAgICAgICAgWydsZWZ0JywgJ2NlbnRlcicsICdyaWdodCcsICdqdXN0aWZ5J10sIC8vIOKchSByYXRhIHRla3MKICAgICAgICBbJ2ltYWdlJ10sIC8vIOKchSB1cGxvYWQgLyBpbnNlcnQgZ2FtYmFyCiAgICAgICAgWyd2aWV3c291cmNlJ10KICAgICAgXSwKICAgICAgZm9ybTogewogICAgICAgIGlzaTogJycsICAgIC8vIOKchSBpbmkgc3VkYWggYWRhCiAgICAgICAganVkdWw6ICcnLAogICAgICAgIHN1bWJlcjogJycsCiAgICAgICAgZGVza3JpcHNpOiAnJywKICAgICAgICBmaWxlX25hbWU6IG51bGwKICAgICAgfSwKICAgICAgZmlsZUJhcnU6IG51bGwsIC8vIGluaSBraHVzdXMgdW50dWsgcS1maWxlIChGaWxlIG9iamVjdCkKCiAgICAgIFVNVU06IFVNVU0sCiAgICAgIGJ0bl9hZGQ6IGZhbHNlLAogICAgICBidG5fZWRpdDogZmFsc2UsCgogICAgICBtZGxfYWRkOiBmYWxzZSwKICAgICAgbWRsX2VkaXQ6IGZhbHNlLAogICAgICBtZGxfZGVsZXRlOiBmYWxzZSwKICAgICAgbWRsX2xpaGF0OiBmYWxzZSwKICAgICAgbWRsX2ltYWdlOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRJbWFnZTogbnVsbCwKCiAgICAgIGFsZXJ0OiBmYWxzZSwKCgogICAgICBjYXJpX3ZhbHVlOiAiIiwKICAgICAgcGFnZV9maXJzdDogMSwKICAgICAgcGFnZV9sYXN0OiAxLAogICAgICBwYWdlX2xpbWl0OiA5LAogICAgICB0b3RhbDogMCwKCgogICAgICB0aXBlOiBudWxsLCAvLyBzaW1wYW4gdGlwZSB1c2VyCgoKICAgICAgZmlsZV9wYXRoOiB0aGlzLiRzdG9yZS5zdGF0ZS51cmwuVVJMX0FQUCArICJ1cGxvYWRzLyIsCgoKICAgIH0KCgogIH0sCgoKICBtZXRob2RzOiB7CgogICAgb3BlbkVkaXQoZGF0YSkgewogICAgICB0aGlzLmZvcm0gPSB7IC4uLmRhdGEsIGlzaTogZGF0YS5pc2kgfHwgJycgfQogICAgICB0aGlzLm1kbF9lZGl0ID0gdHJ1ZQogICAgfSwKICAgIG9wZW5EZWxldGUoZGF0YSkgewogICAgICB0aGlzLmZvcm0gPSB7IGlkOiBkYXRhLmlkIH0KICAgICAgdGhpcy5tZGxfZGVsZXRlID0gdHJ1ZQogICAgfSwKCiAgICBvcGVuTGloYXQoZGF0YSkgewogICAgICB0aGlzLmZvcm0gPSB7IC4uLmRhdGEsIGlzaTogZGF0YS5pc2kgfHwgJycgfQogICAgICB0aGlzLm1kbF9saWhhdCA9IHRydWUKICAgIH0sCgogICAgb3BlbkltYWdlKHNyYykgewogICAgICB0aGlzLnNlbGVjdGVkSW1hZ2UgPSBzcmMKICAgICAgdGhpcy5tZGxfaW1hZ2UgPSB0cnVlCiAgICB9LAoKCgoKICAgIGZvcm1hdFJ1cGlhaCh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuICItIjsKICAgICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgnaWQtSUQnLCB7CiAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgY3VycmVuY3k6ICdJRFInLAogICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCwKICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAKICAgICAgfSkuZm9ybWF0KHZhbHVlKTsKICAgIH0sCgoKICAgIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGp1ZHVsOiAnJywKICAgICAgICBzdW1iZXI6ICcnLAogICAgICAgIGRlc2tyaXBzaTogJycsCiAgICAgICAgaXNpOiAnJywKICAgICAgICBmaWxlX25hbWU6IG51bGwKICAgICAgfQogICAgfSwKCiAgICAvLyBhbWJpbCBkYXRhIHV0YW1hCiAgICBnZXRWaWV3KCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNob1dMb2FkaW5nIik7CgogICAgICBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS51cmwuQkVSSVRBICsgImdldHZpZXciLCB7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgIGF1dGhvcml6YXRpb246ICJraWtlbnNiYXRhcmEgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgZGF0YV9rZTogdGhpcy5wYWdlX2ZpcnN0LAogICAgICAgICAgY2FyaV92YWx1ZTogdGhpcy5jYXJpX3ZhbHVlLAogICAgICAgICAgcGFnZV9saW1pdDogdGhpcy5wYWdlX2xpbWl0CiAgICAgICAgfSkKICAgICAgfSkKICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgICAgICAudGhlbihyZXNfZGF0YSA9PiB7CiAgICAgICAgICB0aGlzLmxpc3RfZGF0YSA9IHJlc19kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzX2RhdGEudG90YWw7CiAgICAgICAgICB0aGlzLnBhZ2VfbGFzdCA9IE1hdGguY2VpbCh0aGlzLnRvdGFsIC8gdGhpcy5wYWdlX2xpbWl0KTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaGlkZUxvYWRpbmciKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcigi4p2MIEVycm9yIGdldFZpZXc6IiwgZXJyKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiaGlkZUxvYWRpbmciKTsKICAgICAgICB9KTsKICAgIH0sCgogICAgYWRkRGF0YSgpIHsKICAgICAgdGhpcy5idG5fYWRkID0gdHJ1ZTsKICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgianVkdWwiLCB0aGlzLmZvcm0uanVkdWwpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoInN1bWJlciIsIHRoaXMuZm9ybS5zdW1iZXIpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImRlc2tyaXBzaSIsIHRoaXMuZm9ybS5kZXNrcmlwc2kpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImlzaSIsIHRoaXMuZm9ybS5pc2kpOwogICAgICBpZiAodGhpcy5mb3JtLmZpbGVfbmFtZSkgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZV9uYW1lIiwgdGhpcy5mb3JtLmZpbGVfbmFtZSk7IC8vIGhhcnVzIHNhbWEgZGVuZ2FuIHVwbG9hZC5zaW5nbGUoImZpbGVfbmFtZSIpCiAgICAgIH0KCiAgICAgIGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5CRVJJVEEgKyAiYWRkRGF0YSIsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICB9LAogICAgICAgIGJvZHk6IGZvcm1EYXRhCiAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpCiAgICAgICAgLnRoZW4ocmVzX2RhdGEgPT4gewogICAgICAgICAgdGhpcy5idG5fYWRkID0gZmFsc2U7CiAgICAgICAgICBpZiAocmVzX2RhdGEuc3VjY2VzcykgewogICAgICAgICAgICB0aGlzLk5vdGlmeSgiU3Vrc2VzIE1lbmFtYmFoIERhdGEiLCAicHJpbWFyeSIsICJjaGVja19jaXJjbGVfb3V0bGluZSIpOwogICAgICAgICAgICB0aGlzLmdldFZpZXcoKTsKICAgICAgICAgICAgdGhpcy5tZGxfYWRkID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLk5vdGlmeShyZXNfZGF0YS5tZXNzYWdlIHx8ICJHYWdhbCBNZW5hbWJhaCBEYXRhIiwgIm5lZ2F0aXZlIiwgImVycm9yX291dGxpbmUiKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgdGhpcy5idG5fYWRkID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCLinYwgRXJyb3I6IiwgZXJyKTsKICAgICAgICAgIHRoaXMuTm90aWZ5KCJUZXJqYWRpIGtlc2FsYWhhbiBzZXJ2ZXIiLCAibmVnYXRpdmUiLCAiZXJyb3Jfb3V0bGluZSIpOwogICAgICAgIH0pOwogICAgfSwKCiAgICBhc3luYyB1cGRhdGVEYXRhKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImlkIiwgdGhpcy5mb3JtLmlkKQogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgianVkdWwiLCB0aGlzLmZvcm0uanVkdWwpCiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJzdW1iZXIiLCB0aGlzLmZvcm0uc3VtYmVyKQogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZGVza3JpcHNpIiwgdGhpcy5mb3JtLmRlc2tyaXBzaSkKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImlzaSIsIHRoaXMuZm9ybS5pc2kpCgogICAgICAgIC8vIGthbGF1IHVzZXIgdXBsb2FkIGZpbGUgYmFydSDihpIga2lyaW0gZmlsZQogICAgICAgIGlmICh0aGlzLmZpbGVCYXJ1KSB7CiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCB0aGlzLmZpbGVCYXJ1KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBrYWxhdSB0aWRhayB1cGxvYWQgZmlsZSBiYXJ1IOKGkiB0ZXRhcCBraXJpbSBuYW1hIGZpbGUgbGFtYQogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlX25hbWUiLCB0aGlzLmZvcm0uZmlsZV9uYW1lKQogICAgICAgIH0KCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkJFUklUQSArICJ1cGRhdGVEYXRhIiwgewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJraWtlbnNiYXRhcmEgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgICAgfSwKICAgICAgICAgIGJvZHk6IGZvcm1EYXRhCiAgICAgICAgfSkKCiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzLmpzb24oKQogICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgdGhpcy4kcS5ub3RpZnkoeyB0eXBlOiAicG9zaXRpdmUiLCBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9KQogICAgICAgICAgdGhpcy5tZGxfZWRpdCA9IGZhbHNlCiAgICAgICAgICB0aGlzLmdldFZpZXcoKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7IHR5cGU6ICJuZWdhdGl2ZSIsIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0pCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLinYwgRXJyb3IgdXBkYXRlRGF0YToiLCBlcnIpCiAgICAgICAgdGhpcy4kcS5ub3RpZnkoeyB0eXBlOiAibmVnYXRpdmUiLCBtZXNzYWdlOiAiR2FnYWwgdXBkYXRlIGRhdGEiIH0pCiAgICAgIH0KICAgIH0sCgogICAgcmVtb3ZlRGF0YSgpIHsKICAgICAgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkJFUklUQSArICJyZW1vdmVEYXRhIiwgewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaWQ6IHRoaXMuZm9ybS5pZCB9KQogICAgICB9KQogICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKQogICAgICAgIC50aGVuKHJlc19kYXRhID0+IHsKICAgICAgICAgIGlmIChyZXNfZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgIHRoaXMuTm90aWZ5KHJlc19kYXRhLm1lc3NhZ2UgfHwgJ+KchSBTdWtzZXMgTWVuZ2hhcHVzIERhdGEnLCAnbmVnYXRpdmUnLCAnY2hlY2tfY2lyY2xlX291dGxpbmUnKQogICAgICAgICAgICB0aGlzLmdldFZpZXcoKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5Ob3RpZnkocmVzX2RhdGEubWVzc2FnZSB8fCAn4pqg77iPIERhdGEgdGlkYWsgZGl0ZW11a2FuJywgJ3dhcm5pbmcnLCAnZXJyb3InKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICB0aGlzLk5vdGlmeSgn4p2MIEVycm9yOiAnICsgZXJyLm1lc3NhZ2UsICd3YXJuaW5nJywgJ2Vycm9yJykKICAgICAgICB9KQogICAgfSwKCgogICAgc2ltdWxhdGVQcm9ncmVzcyhudW1iZXIpIHsKICAgICAgLy8gd2Ugc2V0IGxvYWRpbmcgc3RhdGUKICAgICAgdGhpc1tgc2ltcGFuJHtudW1iZXJ9YF0gPSB0cnVlCiAgICAgIC8vIHNpbXVsYXRlIGEgZGVsYXkKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgLy8gd2UncmUgZG9uZSwgd2UgcmVzZXQgbG9hZGluZyBzdGF0ZQogICAgICAgIHRoaXNbYHNpbXBhbiR7bnVtYmVyfWBdID0gZmFsc2UKICAgICAgfSwgMzAwMCkKICAgIH0sCgogICAgTm90aWZ5OiBmdW5jdGlvbiAobWVzc2FnZSwgcG9zaXRpdmUsIGljb24pIHsKICAgICAgdGhpcy4kcS5ub3RpZnkoewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgY29sb3I6IHBvc2l0aXZlLAogICAgICAgIGljb246IGljb24sCiAgICAgICAgcG9zaXRpb246ICd0b3AnLAogICAgICAgIHRpbWVvdXQ6IDUwMCwKICAgICAgfSkKICAgIH0sCgoKICAgIGJ0bl9wcmV2KCkgewogICAgICBpZiAodGhpcy5wYWdlX2ZpcnN0ID4gMSkgdGhpcy5wYWdlX2ZpcnN0LS07CiAgICAgIHRoaXMuZ2V0VmlldygpOwogICAgfSwKCiAgICBidG5fbmV4dCgpIHsKICAgICAgaWYgKHRoaXMucGFnZV9maXJzdCA8IHRoaXMucGFnZV9sYXN0KSB0aGlzLnBhZ2VfZmlyc3QrKzsKICAgICAgdGhpcy5nZXRWaWV3KCk7CiAgICB9LAoKICAgIGNhcmlfZGF0YSgpIHsKICAgICAgdGhpcy5wYWdlX2ZpcnN0ID0gMTsKICAgICAgdGhpcy5nZXRWaWV3KCk7CiAgICB9LAoKICAgIGluZGV4aW5nKGluZGV4KSB7CiAgICAgIHJldHVybiAoKHRoaXMucGFnZV9maXJzdCAtIDEpICogdGhpcy5wYWdlX2xpbWl0KSArIGluZGV4OwogICAgfSwKCgogIH0sCiAgbW91bnRlZCgpIHsKCiAgICBjb25zdCBnZXRfcHJvZmlsZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnByb2ZpbGUpOwogICAgdGhpcy50aXBlID0gTnVtYmVyKGdldF9wcm9maWxlLnByb2ZpbGUuZGJfY3Nya29uc2VsKTsgLy8gYW1iaWwgZGJfY3Nya29uc2VsCgogICAgdGhpcy5nZXRWaWV3KCk7CgogIH0KfQo="},{"version":3,"sources":["berita.vue"],"names":[],"mappings":";;;AA0RA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA","file":"berita.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"about \" style=\"padding:15px\">\n    <q-card bordered class=\"my-card\">\n      <q-card-section class=\"main2 text-white\">\n        <div class=\"row items-center q-col-gutter-md\">\n          <div class=\"col-12 col-md-6\">\n            <div class=\"text-h6 h_titleHead\">Berita CSR</div>\n          </div>\n          <div class=\"col-12 col-md-2\">\n\n          </div>\n\n          <!-- Cari + Tombol Add -->\n          <div class=\"col-12 col-md-4\">\n            <div class=\"row\">\n              <q-input v-model=\"cari_value\" @keyup=\"cari_data()\" outlined square dense class=\"bg-white col q-mr-sm\" />\n              <q-btn v-if=\"tipe == 1\" glossy class=\"col-auto\" color=\"amber\" @click=\"mdl_add = true\" dense icon=\"add\">\n                <q-tooltip content-class=\"bg-amber-7\" content-style=\"font-size: 13px\">\n                  Click untuk menambah data\n                </q-tooltip>\n              </q-btn>\n            </div>\n          </div>\n        </div>\n\n      </q-card-section>\n\n    </q-card>\n\n\n    <hr class=\"hrpagin2\">\n\n    <div class=\"tbl_responsive\">\n      <!-- =================================================== KONTENT =========================================================== -->\n      <table width=\"100%\">\n        <tr class=\"h_table_head main1 text-white \">\n          <th width=\"5%\" class=\"text-center\">No</th>\n          <th width=\"10%\">Foto</th>\n          <th width=\"30%\">Judul</th>\n          <th width=\"40%\">Deskripsi</th>\n          <th width=\"15%\" class=\"text-center\">Act</th>\n          <!-- <th width=\"30%\">Keterangan</th> -->\n          <!-- <th width=\"10%\"></th> -->\n        </tr>\n        <tr class=\"h_table_body\" v-for=\"(data, index) in list_data\" :key=\"data.id\">\n          <td class=\"text-center\">{{ indexing(index + 1) }}.</td>\n          <td class=\"text-center\">\n            <img v-if=\"data.file_name\" :src=\"file_path + data.file_name\" alt=\"foto\"\n              style=\"max-width: 80px; border-radius: 6px; cursor: pointer;\"\n              @click=\"openImage(file_path + data.file_name)\" />\n            <q-icon v-else name=\"image_not_supported\" size=\"sm\" color=\"grey\" />\n          </td> <!-- Foto -->\n          <td>\n            <div class=\"text-bold\">{{ data.judul }}</div>\n            <div class=\"text-blue\" style=\"font-size: 12px;\">\n              {{ data.sumber }}\n            </div>\n          </td> <!-- Judul -->\n\n          <td>\n            <div>{{ data.deskripsi }}</div>\n          </td>\n\n\n          <td class=\"text-center q-gutter-sm\">\n            <q-btn dense round color=\"warning\" icon=\"edit\" @click=\"openEdit(data)\">\n              <q-tooltip content-class=\"bg-amber-7\">Edit Data</q-tooltip>\n            </q-btn>\n            <q-btn dense round color=\"negative\" icon=\"delete\" @click=\"openDelete(data)\">\n              <q-tooltip content-class=\"bg-red-7\">Hapus Data</q-tooltip>\n            </q-btn>\n            <q-btn dense round color=\"primary\" icon=\"visibility\" @click=\"openLihat(data)\">\n              <q-tooltip content-class=\"bg-blue-7\">Lihat Data</q-tooltip>\n            </q-btn>\n          </td> <!-- Act -->\n        </tr>\n\n      </table>\n\n      <!-- =================================================== KONTENT =========================================================== -->\n    </div>\n\n    <hr class=\"hrpagin\">\n    <br>\n    <div class=\"flex flex-center\">\n      <q-pagination v-model=\"page_first\" :max=\"page_last\" :max-pages=\"4\" color=\"grey-6\" :direction-links=\"true\"\n        :boundary-links=\"true\" icon-first=\"skip_previous\" icon-last=\"skip_next\" icon-prev=\"fast_rewind\"\n        icon-next=\"fast_forward\" @input=\"getView\" />\n    </div>\n\n    <!-- ===================== MODAL ADD BERITA ===================== -->\n    <q-dialog v-model=\"mdl_add\" persistent>\n      <q-card class=\"mdl-md\">\n        <q-card-section class=\"main2 text-white\">\n          <div class=\"text-h6 h_modalhead\">Tambah Berita / CSR</div>\n        </q-card-section>\n\n        <form @submit.prevent=\"addData()\">\n\n          <q-card-section class=\"q-pt-none\">\n\n            <hr class=\"hrpagin2\">\n\n            <!-- Judul -->\n            <span class=\"h_lable\">Judul</span>\n            <q-input v-model=\"form.judul\" outlined square dense class=\"bg-white margin_btn\" />\n\n            <!-- Sumber -->\n            <span class=\"h_lable\">Sumber</span>\n            <q-input v-model=\"form.sumber\" outlined square dense class=\"bg-white margin_btn\" />\n\n            <!-- Deskripsi -->\n            <span class=\"h_lable\">Deskripsi Singkat</span>\n            <q-input v-model=\"form.deskripsi\" type=\"textarea\" outlined square dense class=\"bg-white margin_btn\" />\n\n            <!-- Isi / Detail Berita -->\n            <span class=\"h_lable\">Isi</span>\n            <q-editor v-model=\"form.isi\" :toolbar=\"editorToolbar\" placeholder=\"Tulis isi berita...\" class=\"bg-white\" />\n\n            <!-- Lampiran File -->\n            <span class=\"h_lable\">Lampiran File</span>\n            <q-file v-model=\"form.file_name\" label=\"Pilih File\" outlined square dense class=\"bg-white margin_btn\" />\n\n            <hr class=\"hrpagin2\">\n\n          </q-card-section>\n\n          <q-card-actions class=\"bg-grey-4 mdl-footer\" align=\"right\">\n            <q-btn :loading=\"btn_add\" color=\"primary\" type=\"submit\" label=\"Simpan\" />\n            <q-btn label=\"Batal\" color=\"negative\" v-close-popup />\n          </q-card-actions>\n\n        </form>\n      </q-card>\n    </q-dialog>\n    <!-- ===================== MODAL ADD BERITA ===================== -->\n\n    <!-- ===================== MODAL EDIT BERITA ===================== -->\n    <q-dialog v-model=\"mdl_edit\" persistent>\n      <q-card class=\"mdl-md\">\n        <q-card-section class=\"main2 text-white\">\n          <div class=\"text-h6 h_modalhead\">Edit Berita / CSR</div>\n        </q-card-section>\n\n        <form @submit.prevent=\"updateData()\">\n\n          <q-card-section class=\"q-pt-none\">\n\n            <hr class=\"hrpagin2\">\n\n            <!-- Judul -->\n            <span class=\"h_lable\">Judul</span>\n            <q-input v-model=\"form.judul\" outlined square dense class=\"bg-white margin_btn\" />\n\n            <!-- Sumber -->\n            <span class=\"h_lable\">Sumber</span>\n            <q-input v-model=\"form.sumber\" outlined square dense class=\"bg-white margin_btn\" />\n\n            <!-- Deskripsi -->\n            <span class=\"h_lable\">Deskripsi Singkat</span>\n            <q-input v-model=\"form.deskripsi\" type=\"textarea\" outlined square dense class=\"bg-white margin_btn\" />\n\n            <!-- Isi / Detail Berita -->\n            <span class=\"h_lable\">Isi</span>\n            <q-editor v-model=\"form.isi\" :toolbar=\"editorToolbar\" placeholder=\"Tulis isi berita...\" class=\"bg-white\" />\n\n            <!-- Lampiran File -->\n            <!-- File Upload -->\n            <span class=\"h_lable\">Lampiran File</span>\n            <q-file v-model=\"fileBaru\" label=\"Pilih File Baru (opsional)\" outlined square dense\n              class=\"bg-white margin_btn\" />\n\n            <!-- Preview jika ada file lama -->\n            <div v-if=\"form.file_name && !fileBaru\" class=\"q-mt-sm\">\n              <q-img :src=\"file_path + form.file_name\" style=\"max-width: 150px; border-radius: 6px;\" />\n              <div class=\"text-caption text-grey\">File lama</div>\n            </div>\n            <hr class=\"hrpagin2\">\n\n          </q-card-section>\n\n          <q-card-actions class=\"bg-grey-4 mdl-footer\" align=\"right\">\n            <q-btn :loading=\"btn_edit\" color=\"primary\" type=\"submit\" label=\"Update\" />\n            <q-btn label=\"Batal\" color=\"negative\" v-close-popup />\n          </q-card-actions>\n\n        </form>\n      </q-card>\n    </q-dialog>\n    <!-- ===================== MODAL EDIT BERITA ===================== -->\n\n    <q-dialog v-model=\"mdl_lihat\" persistent>\n      <q-card class=\"mdl-lg q-pa-none\" style=\"max-width: 900px; border-radius: 16px; overflow: hidden;\">\n        <q-card-section class=\"main2 text-white\">\n          <div class=\"text-h6 h_modalhead\">lihat Berita</div>\n        </q-card-section>\n\n\n\n        <!-- Konten Scrollable -->\n        <q-card-section class=\"q-pa-lg scroll\" style=\"max-height: 70vh; overflow-y: auto;\">\n          <!-- Judul -->\n          <div class=\"text-h5 text-primary text-bold q-mb-md\">{{ form.judul }}</div>\n\n          <!-- Info Meta -->\n          <div class=\"text-grey-7 q-mb-md\" style=\"font-size: 14px;\">\n            <q-icon name=\"feed\" size=\"16px\" class=\"q-mr-xs\" />\n            <span class=\"q-mr-md\">Sumber: <span class=\"text-blue\">{{ form.sumber }}</span></span>\n            <q-icon name=\"event\" size=\"16px\" class=\"q-mr-xs\" />\n            <span>{{ UMUM.tglConvert(form.createAt) }}</span>\n          </div>\n\n          <!-- Deskripsi -->\n          <div class=\"q-mb-md\">\n            <div class=\"text-subtitle2 text-bold\">Deskripsi Singkat</div>\n            <div class=\"text-body2 text-grey-8\">{{ form.deskripsi }}</div>\n          </div>\n\n          <!-- Isi -->\n          <div class=\"q-mb-md\">\n            <div class=\"text-subtitle2 text-bold\">Isi Berita</div>\n            <div class=\"text-body1 q-mt-sm\" v-html=\"form.isi\"></div>\n          </div>\n        </q-card-section>\n\n        <!-- Footer -->\n        <q-separator />\n        <q-card-actions class=\"bg-grey-4 mdl-footer\" align=\"right\">\n          <q-btn label=\"Tutup\" color=\"negative\" v-close-popup />\n        </q-card-actions>\n      </q-card>\n    </q-dialog>\n\n\n\n\n    <!-- ================================================ MODAL HAPUS ================================================ -->\n    <q-dialog v-model=\"mdl_delete\" persistent>\n      <q-card class=\"mdl-sm \">\n        <q-card-section class=\"q-pt-none text-center orageGrad\">\n          <form @submit.prevent=\"removeData\">\n            <br>\n            <img src=\"img/alert.png\" alt=\"\" width=\"75\"> <br>\n            <span class=\"h_notifikasi\">APAKAH ANDA YAKIN INGIN MENGHAPUS DATA INI??</span>\n            <input type=\"submit\" style=\"position: absolute; left: -9999px\" />\n            <br>\n            <br>\n\n            <q-btn label=\"Batal\" size=\"sm\" color=\"negative\" v-close-popup />\n            &nbsp;\n            <q-btn type=\"submit\" label=\"Hapus\" size=\"sm\" color=\"primary\" v-close-popup />\n\n          </form>\n        </q-card-section>\n      </q-card>\n    </q-dialog>\n\n    <!-- ================================================ MODAL HAPUS ================================================ -->\n\n    <!-- ================================================ MODAL IMG ================================================ -->\n\n    <q-dialog v-model=\"mdl_image\">\n      <q-card class=\"bg-purple mdl-lg\">\n        <q-card-section class=\"text-center\">\n          <q-img :src=\"selectedImage\" style=\"max-width: 90vw; max-height: 90vh; border-radius: 10px;\" fit=\"contain\" />\n        </q-card-section>\n        <q-card-actions align=\"center\">\n          <q-btn flat label=\"Tutup\" color=\"white\" v-close-popup />\n        </q-card-actions>\n      </q-card>\n    </q-dialog>\n\n    <!-- ================================================ MODAL IMG ================================================ -->\n\n\n  </div>\n</template>\n\n\n<script>\n\n\nimport UMUM from \"../library/umum.js\";\nexport default {\n  data() {\n    return {\n\n      list_data: [],\n      editorToolbar: [\n        ['bold', 'italic', 'underline'],\n        ['link', 'quote', 'unordered', 'ordered'],\n        ['left', 'center', 'right', 'justify'], // ✅ rata teks\n        ['image'], // ✅ upload / insert gambar\n        ['viewsource']\n      ],\n      form: {\n        isi: '',    // ✅ ini sudah ada\n        judul: '',\n        sumber: '',\n        deskripsi: '',\n        file_name: null\n      },\n      fileBaru: null, // ini khusus untuk q-file (File object)\n\n      UMUM: UMUM,\n      btn_add: false,\n      btn_edit: false,\n\n      mdl_add: false,\n      mdl_edit: false,\n      mdl_delete: false,\n      mdl_lihat: false,\n      mdl_image: false,\n      selectedImage: null,\n\n      alert: false,\n\n\n      cari_value: \"\",\n      page_first: 1,\n      page_last: 1,\n      page_limit: 9,\n      total: 0,\n\n\n      tipe: null, // simpan tipe user\n\n\n      file_path: this.$store.state.url.URL_APP + \"uploads/\",\n\n\n    }\n\n\n  },\n\n\n  methods: {\n\n    openEdit(data) {\n      this.form = { ...data, isi: data.isi || '' }\n      this.mdl_edit = true\n    },\n    openDelete(data) {\n      this.form = { id: data.id }\n      this.mdl_delete = true\n    },\n\n    openLihat(data) {\n      this.form = { ...data, isi: data.isi || '' }\n      this.mdl_lihat = true\n    },\n\n    openImage(src) {\n      this.selectedImage = src\n      this.mdl_image = true\n    },\n\n\n\n\n    formatRupiah(value) {\n      if (value == null) return \"-\";\n      return new Intl.NumberFormat('id-ID', {\n        style: 'currency',\n        currency: 'IDR',\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n      }).format(value);\n    },\n\n\n    resetForm() {\n      this.form = {\n        judul: '',\n        sumber: '',\n        deskripsi: '',\n        isi: '',\n        file_name: null\n      }\n    },\n\n    // ambil data utama\n    getView() {\n      this.$store.commit(\"shoWLoading\");\n\n      fetch(this.$store.state.url.BERITA + \"getview\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n          authorization: \"kikensbatara \" + localStorage.token\n        },\n        body: JSON.stringify({\n          data_ke: this.page_first,\n          cari_value: this.cari_value,\n          page_limit: this.page_limit\n        })\n      })\n        .then(res => res.json())\n        .then(res_data => {\n          this.list_data = res_data.data;\n          this.total = res_data.total;\n          this.page_last = Math.ceil(this.total / this.page_limit);\n          this.$store.commit(\"hideLoading\");\n        })\n        .catch(err => {\n          console.error(\"❌ Error getView:\", err);\n          this.$store.commit(\"hideLoading\");\n        });\n    },\n\n    addData() {\n      this.btn_add = true;\n      const formData = new FormData();\n\n      formData.append(\"judul\", this.form.judul);\n      formData.append(\"sumber\", this.form.sumber);\n      formData.append(\"deskripsi\", this.form.deskripsi);\n      formData.append(\"isi\", this.form.isi);\n      if (this.form.file_name) {\n        formData.append(\"file_name\", this.form.file_name); // harus sama dengan upload.single(\"file_name\")\n      }\n\n      fetch(this.$store.state.url.BERITA + \"addData\", {\n        method: \"POST\",\n        headers: {\n          authorization: \"kikensbatara \" + localStorage.token\n        },\n        body: formData\n      })\n        .then(res => res.json())\n        .then(res_data => {\n          this.btn_add = false;\n          if (res_data.success) {\n            this.Notify(\"Sukses Menambah Data\", \"primary\", \"check_circle_outline\");\n            this.getView();\n            this.mdl_add = false;\n            this.resetForm();\n          } else {\n            this.Notify(res_data.message || \"Gagal Menambah Data\", \"negative\", \"error_outline\");\n          }\n        })\n        .catch(err => {\n          this.btn_add = false;\n          console.error(\"❌ Error:\", err);\n          this.Notify(\"Terjadi kesalahan server\", \"negative\", \"error_outline\");\n        });\n    },\n\n    async updateData() {\n      try {\n        const formData = new FormData()\n        formData.append(\"id\", this.form.id)\n        formData.append(\"judul\", this.form.judul)\n        formData.append(\"sumber\", this.form.sumber)\n        formData.append(\"deskripsi\", this.form.deskripsi)\n        formData.append(\"isi\", this.form.isi)\n\n        // kalau user upload file baru → kirim file\n        if (this.fileBaru) {\n          formData.append(\"file\", this.fileBaru)\n        } else {\n          // kalau tidak upload file baru → tetap kirim nama file lama\n          formData.append(\"file_name\", this.form.file_name)\n        }\n\n        const res = await fetch(this.$store.state.url.BERITA + \"updateData\", {\n          method: \"POST\",\n          headers: {\n            authorization: \"kikensbatara \" + localStorage.token\n          },\n          body: formData\n        })\n\n        const result = await res.json()\n        if (result.success) {\n          this.$q.notify({ type: \"positive\", message: result.message })\n          this.mdl_edit = false\n          this.getView()\n        } else {\n          this.$q.notify({ type: \"negative\", message: result.message })\n        }\n      } catch (err) {\n        console.error(\"❌ Error updateData:\", err)\n        this.$q.notify({ type: \"negative\", message: \"Gagal update data\" })\n      }\n    },\n\n    removeData() {\n      fetch(this.$store.state.url.BERITA + \"removeData\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n          authorization: \"kikensbatara \" + localStorage.token\n        },\n        body: JSON.stringify({ id: this.form.id })\n      })\n        .then(res => res.json())\n        .then(res_data => {\n          if (res_data.success) {\n            this.Notify(res_data.message || '✅ Sukses Menghapus Data', 'negative', 'check_circle_outline')\n            this.getView()\n          } else {\n            this.Notify(res_data.message || '⚠️ Data tidak ditemukan', 'warning', 'error')\n          }\n        })\n        .catch(err => {\n          this.Notify('❌ Error: ' + err.message, 'warning', 'error')\n        })\n    },\n\n\n    simulateProgress(number) {\n      // we set loading state\n      this[`simpan${number}`] = true\n      // simulate a delay\n      setTimeout(() => {\n        // we're done, we reset loading state\n        this[`simpan${number}`] = false\n      }, 3000)\n    },\n\n    Notify: function (message, positive, icon) {\n      this.$q.notify({\n        message: message,\n        color: positive,\n        icon: icon,\n        position: 'top',\n        timeout: 500,\n      })\n    },\n\n\n    btn_prev() {\n      if (this.page_first > 1) this.page_first--;\n      this.getView();\n    },\n\n    btn_next() {\n      if (this.page_first < this.page_last) this.page_first++;\n      this.getView();\n    },\n\n    cari_data() {\n      this.page_first = 1;\n      this.getView();\n    },\n\n    indexing(index) {\n      return ((this.page_first - 1) * this.page_limit) + index;\n    },\n\n\n  },\n  mounted() {\n\n    const get_profile = JSON.parse(localStorage.profile);\n    this.tipe = Number(get_profile.profile.db_csrkonsel); // ambil db_csrkonsel\n\n    this.getView();\n\n  }\n}\n</script>\n"]}]}