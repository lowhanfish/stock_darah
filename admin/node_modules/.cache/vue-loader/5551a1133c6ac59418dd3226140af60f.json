{"remainingRequest":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/informasi/jadwal_donor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/informasi/jadwal_donor.vue","mtime":1761399533657},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js","mtime":1758930419036},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js","mtime":1758930412679},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js","mtime":1758930412640}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBVTVVNIGZyb20gIi4uLy4uL2xpYnJhcnkvdW11bS5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxpc3RfZGF0YTogW10sCiAgICAgICAgICAgIGZvcm06IHsKICAgICAgICAgICAgICAgIG5hbWFfa2VnaWF0YW46ICcnLAogICAgICAgICAgICAgICAgdGFuZ2dhbF9tdWxhaTogJycsCiAgICAgICAgICAgICAgICB0YW5nZ2FsX3NlbGVzYWk6ICcnLAogICAgICAgICAgICAgICAgamFtOiAnJywKICAgICAgICAgICAgICAgIGxva2FzaTogJycsCiAgICAgICAgICAgICAgICBtYXBfbGluazogJycsCiAgICAgICAgICAgICAgICBrZXRlcmFuZ2FuOiAnJywKICAgICAgICAgICAgICAgIGZpbGVfbmFtZTogbnVsbCwKICAgICAgICAgICAgICAgIGp1bWxhaF90ZXJkYWZ0YXI6IG51bGwsCiAgICAgICAgICAgICAgICBzdGF0dXM6IDEgLy8gZGVmYXVsdCBha3RpZgogICAgICAgICAgICB9LAogICAgICAgICAgICBmaWxlQmFydTogbnVsbCwKICAgICAgICAgICAgVU1VTTogVU1VTSwKICAgICAgICAgICAgYnRuX2FkZDogZmFsc2UsCiAgICAgICAgICAgIGJ0bl9lZGl0OiBmYWxzZSwKICAgICAgICAgICAgbWRsX2FkZDogZmFsc2UsCiAgICAgICAgICAgIG1kbF9lZGl0OiBmYWxzZSwKICAgICAgICAgICAgbWRsX2RlbGV0ZTogZmFsc2UsCiAgICAgICAgICAgIG1kbF9saWhhdDogZmFsc2UsCiAgICAgICAgICAgIG1kbF9pbWFnZTogZmFsc2UsCiAgICAgICAgICAgIHNlbGVjdGVkSW1hZ2U6IG51bGwsCiAgICAgICAgICAgIGNhcmlfdmFsdWU6ICIiLAogICAgICAgICAgICBwYWdlX2ZpcnN0OiAxLAogICAgICAgICAgICBwYWdlX2xhc3Q6IDEsCiAgICAgICAgICAgIHBhZ2VfbGltaXQ6IDksCiAgICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgICB0aXBlOiBudWxsLAogICAgICAgICAgICBmaWxlX3BhdGg6IHRoaXMuJHN0b3JlLnN0YXRlLnVybC5VUkxfQVBQICsgInVwbG9hZHMvIiwKICAgICAgICAgICAgc3RhdHVzT3B0aW9uczogWwogICAgICAgICAgICAgICAgeyBsYWJlbDogJzEgLSBBa3RpZicsIHZhbHVlOiAxIH0sCiAgICAgICAgICAgICAgICB7IGxhYmVsOiAnMiAtIFNlbGVzYWknLCB2YWx1ZTogMiB9LAogICAgICAgICAgICAgICAgeyBsYWJlbDogJzMgLSBEaWJhdGFsa2FuJywgdmFsdWU6IDMgfQogICAgICAgICAgICBdCiAgICAgICAgfQogICAgfSwKCiAgICBtZXRob2RzOiB7CgogICAgICAgIHN0YXR1c0xhYmVsKHZhbCkgewogICAgICAgICAgICBpZiAodmFsID09IDEpIHJldHVybiAnQWt0aWYnCiAgICAgICAgICAgIGlmICh2YWwgPT0gMikgcmV0dXJuICdTZWxlc2FpJwogICAgICAgICAgICBpZiAodmFsID09IDMpIHJldHVybiAnRGliYXRhbGthbicKICAgICAgICAgICAgcmV0dXJuICctJwogICAgICAgIH0sCgogICAgICAgIHN0YXR1c0NvbG9yKHZhbCkgewogICAgICAgICAgICBpZiAodmFsID09IDEpIHJldHVybiAncG9zaXRpdmUnCiAgICAgICAgICAgIGlmICh2YWwgPT0gMikgcmV0dXJuICd3YXJuaW5nJwogICAgICAgICAgICBpZiAodmFsID09IDMpIHJldHVybiAnbmVnYXRpdmUnCiAgICAgICAgICAgIHJldHVybiAnZ3JleScKICAgICAgICB9LAoKICAgICAgICBvcGVuRWRpdChkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgICAgICAgIGlkOiBkYXRhLmlkIHx8IG51bGwsCiAgICAgICAgICAgICAgICBuYW1hX2tlZ2lhdGFuOiBkYXRhLm5hbWFfa2VnaWF0YW4gfHwgJycsCiAgICAgICAgICAgICAgICB0YW5nZ2FsX211bGFpOiBkYXRhLnRhbmdnYWxfbXVsYWkgfHwgJycsCiAgICAgICAgICAgICAgICB0YW5nZ2FsX3NlbGVzYWk6IGRhdGEudGFuZ2dhbF9zZWxlc2FpIHx8ICcnLAogICAgICAgICAgICAgICAgamFtOiBkYXRhLmphbSB8fCAnJywKICAgICAgICAgICAgICAgIGxva2FzaTogZGF0YS5sb2thc2kgfHwgJycsCiAgICAgICAgICAgICAgICBtYXBfbGluazogZGF0YS5tYXBfbGluayB8fCAnJywKICAgICAgICAgICAgICAgIGtldGVyYW5nYW46IGRhdGEua2V0ZXJhbmdhbiB8fCAnJywKICAgICAgICAgICAgICAgIGZpbGVfbmFtZTogZGF0YS5maWxlX25hbWUgfHwgbnVsbCwKICAgICAgICAgICAgICAgIGp1bWxhaF90ZXJkYWZ0YXI6IGRhdGEuanVtbGFoX3RlcmRhZnRhciA/PyBudWxsLAogICAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLnN0YXR1cyAhPSBudWxsID8gTnVtYmVyKGRhdGEuc3RhdHVzKSA6IDEKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmZpbGVCYXJ1ID0gbnVsbAogICAgICAgICAgICB0aGlzLm1kbF9lZGl0ID0gdHJ1ZQogICAgICAgIH0sCgoKICAgICAgICBvcGVuRGVsZXRlKGRhdGEpIHsKICAgICAgICAgICAgdGhpcy5mb3JtID0geyBpZDogZGF0YS5pZCB9CiAgICAgICAgICAgIHRoaXMubWRsX2RlbGV0ZSA9IHRydWUKICAgICAgICB9LAoKICAgICAgICBvcGVuTGloYXQoZGF0YSkgewogICAgICAgICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgICAgICAgICBpZDogZGF0YS5pZCB8fCBudWxsLAogICAgICAgICAgICAgICAgbmFtYV9rZWdpYXRhbjogZGF0YS5uYW1hX2tlZ2lhdGFuIHx8ICcnLAogICAgICAgICAgICAgICAgdGFuZ2dhbF9tdWxhaTogZGF0YS50YW5nZ2FsX211bGFpIHx8ICcnLAogICAgICAgICAgICAgICAgdGFuZ2dhbF9zZWxlc2FpOiBkYXRhLnRhbmdnYWxfc2VsZXNhaSB8fCAnJywKICAgICAgICAgICAgICAgIGphbTogZGF0YS5qYW0gfHwgJycsCiAgICAgICAgICAgICAgICBsb2thc2k6IGRhdGEubG9rYXNpIHx8ICcnLAogICAgICAgICAgICAgICAgbWFwX2xpbms6IGRhdGEubWFwX2xpbmsgfHwgJycsCiAgICAgICAgICAgICAgICBrZXRlcmFuZ2FuOiBkYXRhLmtldGVyYW5nYW4gfHwgJycsCiAgICAgICAgICAgICAgICBmaWxlX25hbWU6IGRhdGEuZmlsZV9uYW1lIHx8IG51bGwsCiAgICAgICAgICAgICAgICBqdW1sYWhfdGVyZGFmdGFyOiBkYXRhLmp1bWxhaF90ZXJkYWZ0YXIgPz8gbnVsbCwKICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMgIT0gbnVsbCA/IE51bWJlcihkYXRhLnN0YXR1cykgOiAxCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5tZGxfbGloYXQgPSB0cnVlCiAgICAgICAgfSwKCiAgICAgICAgb3BlbkltYWdlKHNyYykgewogICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2UgPSBzcmMKICAgICAgICAgICAgdGhpcy5tZGxfaW1hZ2UgPSB0cnVlCiAgICAgICAgfSwKCiAgICAgICAgcmVzZXRGb3JtKCkgewogICAgICAgICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgICAgICAgIG5hbWFfa2VnaWF0YW46ICcnLAogICAgICAgICAgICAgICAgdGFuZ2dhbF9tdWxhaTogJycsCiAgICAgICAgICAgICAgICB0YW5nZ2FsX3NlbGVzYWk6ICcnLAogICAgICAgICAgICAgICAgamFtOiAnJywKICAgICAgICAgICAgICAgIGxva2FzaTogJycsCiAgICAgICAgICAgICAgICBtYXBfbGluazogJycsCiAgICAgICAgICAgICAgICBrZXRlcmFuZ2FuOiAnJywKICAgICAgICAgICAgICAgIGZpbGVfbmFtZTogbnVsbCwKICAgICAgICAgICAgICAgIGp1bWxhaF90ZXJkYWZ0YXI6IG51bGwsCiAgICAgICAgICAgICAgICBzdGF0dXM6IDEKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmZpbGVCYXJ1ID0gbnVsbAogICAgICAgIH0sCgogICAgICAgIGdldFZpZXcoKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2hvV0xvYWRpbmciKTsKICAgICAgICAgICAgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkpBRFdBTF9ET05PUiArICJnZXR2aWV3IiwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgZGF0YV9rZTogdGhpcy5wYWdlX2ZpcnN0LAogICAgICAgICAgICAgICAgICAgIGNhcmlfdmFsdWU6IHRoaXMuY2FyaV92YWx1ZSwKICAgICAgICAgICAgICAgICAgICBwYWdlX2xpbWl0OiB0aGlzLnBhZ2VfbGltaXQKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc19kYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RfZGF0YSA9IHJlc19kYXRhLmRhdGEgfHwgW107CiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlc19kYXRhLnRvdGFsIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlX2xhc3QgPSBNYXRoLmNlaWwodGhpcy50b3RhbCAvIHRoaXMucGFnZV9saW1pdCkgfHwgMTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImhpZGVMb2FkaW5nIik7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigi4p2MIEVycm9yIGdldFZpZXcgSmFkd2FsIERvbm9yOiIsIGVycik7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJoaWRlTG9hZGluZyIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgYWRkRGF0YSgpIHsKICAgICAgICAgICAgdGhpcy5idG5fYWRkID0gdHJ1ZTsKICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgibmFtYV9rZWdpYXRhbiIsIHRoaXMuZm9ybS5uYW1hX2tlZ2lhdGFuKTsKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJ0YW5nZ2FsX211bGFpIiwgdGhpcy5mb3JtLnRhbmdnYWxfbXVsYWkpOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInRhbmdnYWxfc2VsZXNhaSIsIHRoaXMuZm9ybS50YW5nZ2FsX3NlbGVzYWkpOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImphbSIsIHRoaXMuZm9ybS5qYW0pOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImxva2FzaSIsIHRoaXMuZm9ybS5sb2thc2kpOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoIm1hcF9saW5rIiwgdGhpcy5mb3JtLm1hcF9saW5rIHx8ICcnKTsKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJrZXRlcmFuZ2FuIiwgdGhpcy5mb3JtLmtldGVyYW5nYW4gfHwgJycpOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImp1bWxhaF90ZXJkYWZ0YXIiLCB0aGlzLmZvcm0uanVtbGFoX3RlcmRhZnRhciAhPSBudWxsID8gdGhpcy5mb3JtLmp1bWxhaF90ZXJkYWZ0YXIgOiAnJyk7CiAgICAgICAgICAgIC8vIHNldCBzdGF0dXMgZGVmYXVsdCA9IDEgKEFrdGlmKQogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInN0YXR1cyIsIDEpOwoKICAgICAgICAgICAgLy8gcS1maWxlIHYtbW9kZWwgc3VkYWggZGktYmluZCBrZSBmb3JtLmZpbGVfbmFtZSBwYWRhIHRlbXBsYXRlIEFuZGEKICAgICAgICAgICAgLy8gamlrYSB1c2VyIG1lbWlsaWggZmlsZSBkaSBhZGQgLT4gZm9ybS5maWxlX25hbWUgYWthbiBtZW5qYWRpIEZpbGUgb2JqZWN0CiAgICAgICAgICAgIGlmICh0aGlzLmZvcm0uZmlsZV9uYW1lKSB7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGVfbmFtZSIsIHRoaXMuZm9ybS5maWxlX25hbWUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS51cmwuSkFEV0FMX0RPTk9SICsgImFkZERhdGEiLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBib2R5OiBmb3JtRGF0YQogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihyZXNfZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5idG5fYWRkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc19kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcS5ub3RpZnkoeyB0eXBlOiAicG9zaXRpdmUiLCBtZXNzYWdlOiByZXNfZGF0YS5tZXNzYWdlIHx8ICJTdWtzZXMgbWVuYW1iYWggamFkd2FsIiB9KQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFZpZXcoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZGxfYWRkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcS5ub3RpZnkoeyB0eXBlOiAibmVnYXRpdmUiLCBtZXNzYWdlOiByZXNfZGF0YS5tZXNzYWdlIHx8ICJHYWdhbCBtZW5hbWJhaCBqYWR3YWwiIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuX2FkZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBFcnJvciBhZGREYXRhIEphZHdhbCBEb25vcjoiLCBlcnIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsgdHlwZTogIm5lZ2F0aXZlIiwgbWVzc2FnZTogIlRlcmphZGkga2VzYWxhaGFuIHNlcnZlciIgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgYXN5bmMgdXBkYXRlRGF0YSgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHRoaXMuYnRuX2VkaXQgPSB0cnVlOwogICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiaWQiLCB0aGlzLmZvcm0uaWQpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJuYW1hX2tlZ2lhdGFuIiwgdGhpcy5mb3JtLm5hbWFfa2VnaWF0YW4pOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJ0YW5nZ2FsX211bGFpIiwgdGhpcy5mb3JtLnRhbmdnYWxfbXVsYWkpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJ0YW5nZ2FsX3NlbGVzYWkiLCB0aGlzLmZvcm0udGFuZ2dhbF9zZWxlc2FpKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiamFtIiwgdGhpcy5mb3JtLmphbSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImxva2FzaSIsIHRoaXMuZm9ybS5sb2thc2kpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJtYXBfbGluayIsIHRoaXMuZm9ybS5tYXBfbGluayB8fCAnJyk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImtldGVyYW5nYW4iLCB0aGlzLmZvcm0ua2V0ZXJhbmdhbiB8fCAnJyk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImp1bWxhaF90ZXJkYWZ0YXIiLCB0aGlzLmZvcm0uanVtbGFoX3RlcmRhZnRhciAhPSBudWxsID8gdGhpcy5mb3JtLmp1bWxhaF90ZXJkYWZ0YXIgOiAnJyk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInN0YXR1cyIsIHRoaXMuZm9ybS5zdGF0dXMgIT0gbnVsbCA/IHRoaXMuZm9ybS5zdGF0dXMgOiAxKTsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5maWxlQmFydSkgewogICAgICAgICAgICAgICAgICAgIC8vIHVzZXIgdXBsb2FkIGZpbGUgYmFydSBwYWRhIGVkaXQKICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGVfbmFtZSIsIHRoaXMuZmlsZUJhcnUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyB0aWRhayB1cGxvYWQgYmFydSAtPiBraXJpbSBuYW1hIGZpbGUgbGFtYSBhZ2FyIGJhY2tlbmQgdGFodSB0ZXRhcCBtZW1ha2FpIGZpbGUgbGFtYQogICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZV9uYW1lIiwgdGhpcy5mb3JtLmZpbGVfbmFtZSB8fCAnJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkpBRFdBTF9ET05PUiArICJlZGl0RGF0YSIsIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJraWtlbnNiYXRhcmEgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgICAgICAgICAgICB0aGlzLmJ0bl9lZGl0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7IHR5cGU6ICJwb3NpdGl2ZSIsIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIHx8ICJTdWtzZXMgdXBkYXRlIGphZHdhbCIgfSkKICAgICAgICAgICAgICAgICAgICB0aGlzLm1kbF9lZGl0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRWaWV3KCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsgdHlwZTogIm5lZ2F0aXZlIiwgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfHwgIkdhZ2FsIHVwZGF0ZSBqYWR3YWwiIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgdGhpcy5idG5fZWRpdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigi4p2MIEVycm9yIHVwZGF0ZURhdGEgSmFkd2FsIERvbm9yOiIsIGVycik7CiAgICAgICAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7IHR5cGU6ICJuZWdhdGl2ZSIsIG1lc3NhZ2U6ICJHYWdhbCB1cGRhdGUgZGF0YSIgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHJlbW92ZURhdGEoKSB7CiAgICAgICAgICAgIGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5KQURXQUxfRE9OT1IgKyAicmVtb3ZlRGF0YSIsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpZDogdGhpcy5mb3JtLmlkIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc19kYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzX2RhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7IHR5cGU6ICJwb3NpdGl2ZSIsIG1lc3NhZ2U6IHJlc19kYXRhLm1lc3NhZ2UgfHwgJ1N1a3NlcyBtZW5naGFwdXMgamFkd2FsJyB9KQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFZpZXcoKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsgdHlwZTogIm5lZ2F0aXZlIiwgbWVzc2FnZTogcmVzX2RhdGEubWVzc2FnZSB8fCAnRGF0YSB0aWRhayBkaXRlbXVrYW4nIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBFcnJvciByZW1vdmVEYXRhIEphZHdhbCBEb25vcjoiLCBlcnIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsgdHlwZTogIm5lZ2F0aXZlIiwgbWVzc2FnZTogJ1RlcmphZGkga2VzYWxhaGFuIHNlcnZlcicgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgY2FyaV9kYXRhKCkgewogICAgICAgICAgICB0aGlzLnBhZ2VfZmlyc3QgPSAxOwogICAgICAgICAgICB0aGlzLmdldFZpZXcoKTsKICAgICAgICB9LAoKICAgICAgICBpbmRleGluZyhpbmRleCkgewogICAgICAgICAgICByZXR1cm4gKCh0aGlzLnBhZ2VfZmlyc3QgLSAxKSAqIHRoaXMucGFnZV9saW1pdCkgKyBpbmRleDsKICAgICAgICB9LAoKICAgIH0sCgogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdldFZpZXcoKTsKICAgIH0KfQo="},{"version":3,"sources":["jadwal_donor.vue"],"names":[],"mappings":";AA+SA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"jadwal_donor.vue","sourceRoot":"src/views/informasi","sourcesContent":["<template>\n    <div class=\"about \" style=\"padding:15px\">\n        <q-card bordered class=\"my-card\">\n            <q-card-section class=\"main2 text-white\">\n                <div class=\"row items-center q-col-gutter-md\">\n                    <div class=\"col-12 col-md-6\">\n                        <div class=\"text-h6 h_titleHead\">Jadwal Donor</div>\n                    </div>\n\n                    <!-- Cari + Tombol Add -->\n                    <div class=\"col-12 col-md-6\">\n                        <div class=\"row\">\n                            <q-input v-model=\"cari_value\" @keyup=\"cari_data()\" outlined square dense\n                                class=\"bg-white col q-mr-sm\" placeholder=\"Cari lokasi / keterangan...\" />\n                            <q-btn glossy class=\"col-auto\" color=\"green\" @click=\"mdl_add = true\" dense icon=\"add\">\n                                <q-tooltip content-class=\"bg-green-7\" content-style=\"font-size: 13px\">\n                                    Tambah Jadwal Donor\n                                </q-tooltip>\n                            </q-btn>\n                        </div>\n                    </div>\n                </div>\n\n            </q-card-section>\n\n        </q-card>\n\n        <hr class=\"hrpagin2\">\n\n        <div class=\"tbl_responsive\">\n            <table width=\"100%\">\n                <tr class=\"h_table_head main1 text-white \">\n                    <th width=\"5%\" class=\"text-center\">No</th>\n                    <th width=\"15%\">Tanggal</th>\n                    <th width=\"25%\">Lokasi</th>\n                    <th width=\"15%\">Jam</th>\n                    <th width=\"15%\">Poster</th>\n                    <th width=\"25%\" class=\"text-center\">Act</th>\n                </tr>\n\n                <tr class=\"h_table_body\" v-for=\"(data, index) in list_data\" :key=\"data.id\">\n                    <td class=\"text-center\">{{ indexing(index + 1) }}.</td>\n\n                    <td>\n                        <div class=\"text-bold\">{{ UMUM.tglConvert(data.tanggal_mulai) }}</div>\n                        <div class=\"text-caption text-grey\">{{ data.keterangan || '-' }}</div>\n                    </td>\n\n                    <td>\n                        <div class=\"text-bold\">{{ data.lokasi }}</div>\n                        <div style=\"font-size:12px;\">\n                            <span class=\"text-blue\">{{ data.map_link ? 'Map tersedia' : 'Map: -' }}</span>\n                            <span style=\"margin-left:8px;\">\n                                <q-badge :color=\"statusColor(data.status)\" align=\"top\" class=\"q-ml-sm\"\n                                    style=\"font-size:11px\">\n                                    {{ statusLabel(data.status) }}\n                                </q-badge>\n                            </span>\n                        </div>\n                    </td>\n\n                    <td class=\"text-center\">{{ data.jam || '-' }}</td>\n\n                    <td class=\"text-center\">\n                        <img v-if=\"data.file_name\" :src=\"file_path + data.file_name\" alt=\"poster\"\n                            style=\"max-width: 80px; border-radius: 6px; cursor: pointer;\"\n                            @click=\"openImage(file_path + data.file_name)\" />\n                        <q-icon v-else name=\"image_not_supported\" size=\"sm\" color=\"grey\" />\n                    </td>\n\n                    <td class=\"text-center q-gutter-sm\">\n                        <q-btn dense round color=\"warning\" icon=\"edit\" @click=\"openEdit(data)\">\n                            <q-tooltip content-class=\"bg-amber-7\">Edit</q-tooltip>\n                        </q-btn>\n                        <q-btn dense round color=\"negative\" icon=\"delete\" @click=\"openDelete(data)\">\n                            <q-tooltip content-class=\"bg-red-7\">Hapus</q-tooltip>\n                        </q-btn>\n                        <q-btn dense round color=\"primary\" icon=\"visibility\" @click=\"openLihat(data)\">\n                            <q-tooltip content-class=\"bg-blue-7\">Lihat</q-tooltip>\n                        </q-btn>\n                    </td>\n                </tr>\n\n            </table>\n        </div>\n\n        <hr class=\"hrpagin\">\n        <br>\n        <div class=\"flex flex-center\">\n            <q-pagination v-model=\"page_first\" :max=\"page_last\" :max-pages=\"4\" color=\"grey-6\" :direction-links=\"true\"\n                :boundary-links=\"true\" icon-first=\"skip_previous\" icon-last=\"skip_next\" icon-prev=\"fast_rewind\"\n                icon-next=\"fast_forward\" @input=\"getView\" />\n        </div>\n\n        <!-- MODAL ADD -->\n        <q-dialog v-model=\"mdl_add\" persistent>\n            <q-card class=\"mdl-md\">\n                <q-card-section class=\"main2 text-white\">\n                    <div class=\"text-h6 h_modalhead\">Tambah Jadwal Donor</div>\n                </q-card-section>\n\n                <form @submit.prevent=\"addData()\">\n                    <q-card-section class=\"q-pt-none\">\n                        <hr class=\"hrpagin2\">\n\n                        <span class=\"h_lable\">Nama Kegiatan</span>\n                        <q-input v-model=\"form.nama_kegiatan\" outlined square dense class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Tanggal Mulai</span>\n                        <q-input v-model=\"form.tanggal_mulai\" type=\"date\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Tanggal Selesai</span>\n                        <q-input v-model=\"form.tanggal_selesai\" type=\"date\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Jam Mulai - Selesai</span>\n                        <q-input v-model=\"form.jam\" placeholder=\"08:00 - 24:00\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Lokasi</span>\n                        <q-input v-model=\"form.lokasi\" outlined square dense class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Map Link (opsional)</span>\n                        <q-input v-model=\"form.map_link\" outlined square dense class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Keterangan (opsional)</span>\n                        <q-input v-model=\"form.keterangan\" type=\"textarea\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Jumlah Terdaftar (opsional)</span>\n                        <q-input v-model=\"form.jumlah_terdaftar\" type=\"textarea\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Poster (opsional)</span>\n                        <q-file v-model=\"form.file_name\" label=\"Pilih Poster\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <hr class=\"hrpagin2\">\n                    </q-card-section>\n\n                    <q-card-actions class=\"bg-grey-4 mdl-footer\" align=\"right\">\n                        <q-btn :loading=\"btn_add\" color=\"primary\" type=\"submit\" label=\"Simpan\" />\n                        <q-btn label=\"Batal\" color=\"negative\" v-close-popup />\n                    </q-card-actions>\n                </form>\n            </q-card>\n        </q-dialog>\n\n        <!-- MODAL EDIT -->\n        <q-dialog v-model=\"mdl_edit\" persistent>\n            <q-card class=\"mdl-md\">\n                <q-card-section class=\"main2 text-white\">\n                    <div class=\"text-h6 h_modalhead\">Edit Jadwal Donor</div>\n                </q-card-section>\n\n                <form @submit.prevent=\"updateData()\">\n                    <q-card-section class=\"q-pt-none\">\n                        <hr class=\"hrpagin2\">\n\n                        <span class=\"h_lable\">Status</span>\n                        <q-select v-model=\"form.status\" :options=\"statusOptions\" option-label=\"label\"\n                            option-value=\"value\" outlined dense class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Nama Kegiatan</span>\n                        <q-input v-model=\"form.nama_kegiatan\" outlined square dense class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Tanggal Mulai</span>\n                        <q-input v-model=\"form.tanggal_mulai\" type=\"date\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Tanggal Selesai</span>\n                        <q-input v-model=\"form.tanggal_selesai\" type=\"date\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Jam Mulai - Selesai</span>\n                        <q-input v-model=\"form.jam\" placeholder=\"08:00 - 24:00\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Lokasi</span>\n                        <q-input v-model=\"form.lokasi\" outlined square dense class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Map Link (opsional)</span>\n                        <q-input v-model=\"form.map_link\" outlined square dense class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Keterangan (opsional)</span>\n                        <q-input v-model=\"form.keterangan\" type=\"textarea\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <span class=\"h_lable\">Jumlah Terdaftar (opsional)</span>\n                        <q-input v-model=\"form.jumlah_terdaftar\" type=\"textarea\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n\n\n                        <span class=\"h_lable\">Poster Baru (opsional)</span>\n                        <q-file v-model=\"fileBaru\" label=\"Pilih Poster Baru\" outlined square dense\n                            class=\"bg-white margin_btn\" />\n\n                        <!-- preview menggunakan file_name -->\n                        <div v-if=\"form.file_name && !fileBaru\" class=\"q-mt-sm\">\n                            <q-img :src=\"file_path + form.file_name\" style=\"max-width: 150px; border-radius: 6px;\" />\n                            <div class=\"text-caption text-grey\">Poster lama</div>\n                        </div>\n\n                        <hr class=\"hrpagin2\">\n                    </q-card-section>\n\n                    <q-card-actions class=\"bg-grey-4 mdl-footer\" align=\"right\">\n                        <q-btn :loading=\"btn_edit\" color=\"primary\" type=\"submit\" label=\"Update\" />\n                        <q-btn label=\"Batal\" color=\"negative\" v-close-popup />\n                    </q-card-actions>\n                </form>\n            </q-card>\n        </q-dialog>\n\n        <q-dialog v-model=\"mdl_lihat\" persistent>\n            <q-card class=\"mdl-lg q-pa-none\" style=\"max-width: 900px; border-radius: 16px; overflow: hidden;\">\n                <q-card-section class=\"main2 text-white\">\n                    <div class=\"text-h6 h_modalhead\">Detail Jadwal Donor</div>\n                </q-card-section>\n\n                <q-card-section class=\"q-pa-lg scroll\" style=\"max-height: 70vh; overflow-y: auto;\">\n                    <div class=\"text-h5 q-mb-md\">{{ form.lokasi }}</div>\n\n                    <div class=\"text-grey-7 q-mb-md\" style=\"font-size: 14px;\">\n                        <q-icon name=\"event\" size=\"16px\" class=\"q-mr-xs\" />\n                        <span class=\"q-mr-md\">Tanggal: <span class=\"text-blue\">{{ UMUM.tglConvert(form.tanggal_mulai)\n                                }}</span></span>\n                        <q-icon name=\"schedule\" size=\"16px\" class=\"q-mr-xs\" />\n                        <span>{{ form.jam }}</span>\n                        <div style=\"margin-top:6px;\">\n                            <q-badge :color=\"statusColor(form.status)\" class=\"q-mt-sm\">{{ statusLabel(form.status)\n                                }}</q-badge>\n                        </div>\n                    </div>\n\n                    <div class=\"q-mb-md\">\n                        <div class=\"text-subtitle2 text-bold\">Keterangan</div>\n                        <div class=\"text-body2 text-grey-8\">{{ form.keterangan || '-' }}</div>\n                    </div>\n\n                    <div v-if=\"form.map_link\" class=\"q-mb-md\">\n                        <div class=\"text-subtitle2 text-bold\">Map Link</div>\n                        <div class=\"text-body2 q-mt-sm\"><a :href=\"form.map_link\" target=\"_blank\">{{ form.map_link }}</a>\n                        </div>\n                    </div>\n\n                    <div v-if=\"form.file_name\" class=\"q-mb-md\">\n                        <div class=\"text-subtitle2 text-bold\">Poster</div>\n                        <q-img :src=\"file_path + form.file_name\" style=\"max-width: 100%; border-radius: 6px;\" />\n                    </div>\n\n\n                    <div class=\"q-mb-md\">\n                        <div class=\"text-subtitle2 text-bold\">Jumlah Terdaftar</div>\n                        <div class=\"text-body2 text-grey-8\">{{ form.jumlah_terdaftar != null ? form.jumlah_terdaftar :\n                                '-' }}</div>\n                    </div>\n                </q-card-section>\n\n                <q-separator />\n                <q-card-actions class=\"bg-grey-4 mdl-footer\" align=\"right\">\n                    <q-btn label=\"Tutup\" color=\"negative\" v-close-popup />\n                </q-card-actions>\n            </q-card>\n        </q-dialog>\n\n        <!-- MODAL HAPUS -->\n        <q-dialog v-model=\"mdl_delete\" persistent>\n            <q-card class=\"mdl-sm \">\n                <q-card-section class=\"q-pt-none text-center orageGrad\">\n                    <form @submit.prevent=\"removeData\">\n                        <br>\n                        <img src=\"img/alert.png\" alt=\"\" width=\"75\"> <br>\n                        <span class=\"h_notifikasi\">APAKAH ANDA YAKIN INGIN MENGHAPUS DATA INI??</span>\n                        <input type=\"submit\" style=\"position: absolute; left: -9999px\" />\n                        <br><br>\n                        <q-btn label=\"Batal\" size=\"sm\" color=\"negative\" v-close-popup />\n                        &nbsp;\n                        <q-btn type=\"submit\" label=\"Hapus\" size=\"sm\" color=\"primary\" v-close-popup />\n                    </form>\n                </q-card-section>\n            </q-card>\n        </q-dialog>\n\n        <!-- MODAL IMG -->\n        <q-dialog v-model=\"mdl_image\">\n            <q-card class=\"bg-purple mdl-lg\">\n                <q-card-section class=\"text-center\">\n                    <q-img :src=\"selectedImage\" style=\"max-width: 90vw; max-height: 90vh; border-radius: 10px;\"\n                        fit=\"contain\" />\n                </q-card-section>\n                <q-card-actions align=\"center\">\n                    <q-btn flat label=\"Tutup\" color=\"white\" v-close-popup />\n                </q-card-actions>\n            </q-card>\n        </q-dialog>\n\n    </div>\n</template>\n\n<script>\nimport UMUM from \"../../library/umum.js\";\n\nexport default {\n    data() {\n        return {\n            list_data: [],\n            form: {\n                nama_kegiatan: '',\n                tanggal_mulai: '',\n                tanggal_selesai: '',\n                jam: '',\n                lokasi: '',\n                map_link: '',\n                keterangan: '',\n                file_name: null,\n                jumlah_terdaftar: null,\n                status: 1 // default aktif\n            },\n            fileBaru: null,\n            UMUM: UMUM,\n            btn_add: false,\n            btn_edit: false,\n            mdl_add: false,\n            mdl_edit: false,\n            mdl_delete: false,\n            mdl_lihat: false,\n            mdl_image: false,\n            selectedImage: null,\n            cari_value: \"\",\n            page_first: 1,\n            page_last: 1,\n            page_limit: 9,\n            total: 0,\n            tipe: null,\n            file_path: this.$store.state.url.URL_APP + \"uploads/\",\n            statusOptions: [\n                { label: '1 - Aktif', value: 1 },\n                { label: '2 - Selesai', value: 2 },\n                { label: '3 - Dibatalkan', value: 3 }\n            ]\n        }\n    },\n\n    methods: {\n\n        statusLabel(val) {\n            if (val == 1) return 'Aktif'\n            if (val == 2) return 'Selesai'\n            if (val == 3) return 'Dibatalkan'\n            return '-'\n        },\n\n        statusColor(val) {\n            if (val == 1) return 'positive'\n            if (val == 2) return 'warning'\n            if (val == 3) return 'negative'\n            return 'grey'\n        },\n\n        openEdit(data) {\n            this.form = {\n                id: data.id || null,\n                nama_kegiatan: data.nama_kegiatan || '',\n                tanggal_mulai: data.tanggal_mulai || '',\n                tanggal_selesai: data.tanggal_selesai || '',\n                jam: data.jam || '',\n                lokasi: data.lokasi || '',\n                map_link: data.map_link || '',\n                keterangan: data.keterangan || '',\n                file_name: data.file_name || null,\n                jumlah_terdaftar: data.jumlah_terdaftar ?? null,\n                status: data.status != null ? Number(data.status) : 1\n            }\n            this.fileBaru = null\n            this.mdl_edit = true\n        },\n\n\n        openDelete(data) {\n            this.form = { id: data.id }\n            this.mdl_delete = true\n        },\n\n        openLihat(data) {\n            this.form = {\n                id: data.id || null,\n                nama_kegiatan: data.nama_kegiatan || '',\n                tanggal_mulai: data.tanggal_mulai || '',\n                tanggal_selesai: data.tanggal_selesai || '',\n                jam: data.jam || '',\n                lokasi: data.lokasi || '',\n                map_link: data.map_link || '',\n                keterangan: data.keterangan || '',\n                file_name: data.file_name || null,\n                jumlah_terdaftar: data.jumlah_terdaftar ?? null,\n                status: data.status != null ? Number(data.status) : 1\n            }\n            this.mdl_lihat = true\n        },\n\n        openImage(src) {\n            this.selectedImage = src\n            this.mdl_image = true\n        },\n\n        resetForm() {\n            this.form = {\n                id: null,\n                nama_kegiatan: '',\n                tanggal_mulai: '',\n                tanggal_selesai: '',\n                jam: '',\n                lokasi: '',\n                map_link: '',\n                keterangan: '',\n                file_name: null,\n                jumlah_terdaftar: null,\n                status: 1\n            }\n            this.fileBaru = null\n        },\n\n        getView() {\n            this.$store.commit(\"shoWLoading\");\n            fetch(this.$store.state.url.JADWAL_DONOR + \"getview\", {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: JSON.stringify({\n                    data_ke: this.page_first,\n                    cari_value: this.cari_value,\n                    page_limit: this.page_limit\n                })\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    this.list_data = res_data.data || [];\n                    this.total = res_data.total || 0;\n                    this.page_last = Math.ceil(this.total / this.page_limit) || 1;\n                    this.$store.commit(\"hideLoading\");\n                })\n                .catch(err => {\n                    console.error(\"❌ Error getView Jadwal Donor:\", err);\n                    this.$store.commit(\"hideLoading\");\n                });\n        },\n\n        addData() {\n            this.btn_add = true;\n            const formData = new FormData();\n\n            formData.append(\"nama_kegiatan\", this.form.nama_kegiatan);\n            formData.append(\"tanggal_mulai\", this.form.tanggal_mulai);\n            formData.append(\"tanggal_selesai\", this.form.tanggal_selesai);\n            formData.append(\"jam\", this.form.jam);\n            formData.append(\"lokasi\", this.form.lokasi);\n            formData.append(\"map_link\", this.form.map_link || '');\n            formData.append(\"keterangan\", this.form.keterangan || '');\n            formData.append(\"jumlah_terdaftar\", this.form.jumlah_terdaftar != null ? this.form.jumlah_terdaftar : '');\n            // set status default = 1 (Aktif)\n            formData.append(\"status\", 1);\n\n            // q-file v-model sudah di-bind ke form.file_name pada template Anda\n            // jika user memilih file di add -> form.file_name akan menjadi File object\n            if (this.form.file_name) {\n                formData.append(\"file_name\", this.form.file_name);\n            }\n\n            fetch(this.$store.state.url.JADWAL_DONOR + \"addData\", {\n                method: \"POST\",\n                headers: {\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: formData\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    this.btn_add = false;\n                    if (res_data.success) {\n                        this.$q.notify({ type: \"positive\", message: res_data.message || \"Sukses menambah jadwal\" })\n                        this.getView();\n                        this.mdl_add = false;\n                        this.resetForm();\n                    } else {\n                        this.$q.notify({ type: \"negative\", message: res_data.message || \"Gagal menambah jadwal\" })\n                    }\n                })\n                .catch(err => {\n                    this.btn_add = false;\n                    console.error(\"❌ Error addData Jadwal Donor:\", err);\n                    this.$q.notify({ type: \"negative\", message: \"Terjadi kesalahan server\" })\n                })\n        },\n\n        async updateData() {\n            try {\n                this.btn_edit = true;\n                const formData = new FormData();\n                formData.append(\"id\", this.form.id);\n                formData.append(\"nama_kegiatan\", this.form.nama_kegiatan);\n                formData.append(\"tanggal_mulai\", this.form.tanggal_mulai);\n                formData.append(\"tanggal_selesai\", this.form.tanggal_selesai);\n                formData.append(\"jam\", this.form.jam);\n                formData.append(\"lokasi\", this.form.lokasi);\n                formData.append(\"map_link\", this.form.map_link || '');\n                formData.append(\"keterangan\", this.form.keterangan || '');\n                formData.append(\"jumlah_terdaftar\", this.form.jumlah_terdaftar != null ? this.form.jumlah_terdaftar : '');\n                formData.append(\"status\", this.form.status != null ? this.form.status : 1);\n\n                if (this.fileBaru) {\n                    // user upload file baru pada edit\n                    formData.append(\"file_name\", this.fileBaru);\n                } else {\n                    // tidak upload baru -> kirim nama file lama agar backend tahu tetap memakai file lama\n                    formData.append(\"file_name\", this.form.file_name || '');\n                }\n\n                const res = await fetch(this.$store.state.url.JADWAL_DONOR + \"editData\", {\n                    method: \"POST\",\n                    headers: {\n                        authorization: \"kikensbatara \" + localStorage.token\n                    },\n                    body: formData\n                });\n\n                const result = await res.json();\n                this.btn_edit = false;\n                if (result.success) {\n                    this.$q.notify({ type: \"positive\", message: result.message || \"Sukses update jadwal\" })\n                    this.mdl_edit = false;\n                    this.getView();\n                } else {\n                    this.$q.notify({ type: \"negative\", message: result.message || \"Gagal update jadwal\" })\n                }\n            } catch (err) {\n                this.btn_edit = false;\n                console.error(\"❌ Error updateData Jadwal Donor:\", err);\n                this.$q.notify({ type: \"negative\", message: \"Gagal update data\" })\n            }\n        },\n\n        removeData() {\n            fetch(this.$store.state.url.JADWAL_DONOR + \"removeData\", {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: JSON.stringify({ id: this.form.id })\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    if (res_data.success) {\n                        this.$q.notify({ type: \"positive\", message: res_data.message || 'Sukses menghapus jadwal' })\n                        this.getView()\n                    } else {\n                        this.$q.notify({ type: \"negative\", message: res_data.message || 'Data tidak ditemukan' })\n                    }\n                })\n                .catch(err => {\n                    console.error(\"❌ Error removeData Jadwal Donor:\", err);\n                    this.$q.notify({ type: \"negative\", message: 'Terjadi kesalahan server' })\n                })\n        },\n\n        cari_data() {\n            this.page_first = 1;\n            this.getView();\n        },\n\n        indexing(index) {\n            return ((this.page_first - 1) * this.page_limit) + index;\n        },\n\n    },\n\n    mounted() {\n        this.getView();\n    }\n}\n</script>"]}]}