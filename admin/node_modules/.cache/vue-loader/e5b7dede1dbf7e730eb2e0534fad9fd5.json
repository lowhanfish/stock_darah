{"remainingRequest":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/dataMaster/regisMitra.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/dataMaster/regisMitra.vue","mtime":1757297772365},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js","mtime":1758930419036},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js","mtime":1758930412679},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js","mtime":1758930412640}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAKICAgICAgbGlzdF9kYXRhOiBbXSwKICAgICAgbGlzdF9iaWRhbmc6IFtdLAogICAgICBmb3JtOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgbmFtYTogJycsCiAgICAgICAgYmlkYW5nX3VzYWhhX2lkOiAnJywKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgaHA6ICcnLAogICAgICAgIGFsYW1hdDogJycKICAgICAgfSwKICAgICAgdGlwZTogbnVsbCwgLy8gc2ltcGFuIHRpcGUgdXNlcgogICAgICBwYWdlX2ZpcnN0OiAxLAogICAgICBwYWdlX2xhc3Q6IDAsCiAgICAgIHBhZ2VfbGltaXQ6IDEwLAogICAgICBjYXJpX3ZhbHVlOiAnJywKICAgICAgbWRsX2FkZDogZmFsc2UsCiAgICAgIG1kbF9lZGl0OiBmYWxzZSwKICAgICAgbWRsX2hhcHVzOiBmYWxzZSwKICAgICAgbWRsX3BpYzogZmFsc2UsCiAgICAgIHBpY19kYXRhOiBudWxsLAogICAgICBidG5fYWRkOiBmYWxzZSwKICAgICAgYnRuX2VkaXQ6IGZhbHNlLAogICAgICBmaWx0ZXJrdTogewogICAgICAgICAgbWFzdGVyX2JpZGFuZ191c2FoYTogJycgIC8vIGZpbHRlciBwYWthaSBiaWRhbmcKICAgICAgICB9LAogICAgICAgIGxpc3RfYmlkYW5nIDogW10sCgogICAgICAgIG1kbF9wYXNzd29yZDogZmFsc2UsCiAgICAgICAgZGF0YWt1OiB7CiAgICAgICAgICB1c2Vyc19pZDogJycsCiAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICcnCiAgICAgICAgfSwKICAgICAgICBlcnJvck1lc3NhZ2U6ICcnLAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QmlkYW5nKCkgewogICAgICBmZXRjaCgiL2FwaS9iaWRhbmdfdXNhaGEiKQogICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKQogICAgICAgIC50aGVuKHJlc19kYXRhID0+IHsKICAgICAgICAgIHRoaXMubGlzdF9iaWRhbmcgPSByZXNfZGF0YS5kYXRhIHx8IFtdOwogICAgICAgIH0pOwogICAgfSwKICAgIGdldFZpZXcoKSB7CgogICAgICBjb25zdCBib2R5ID0gewogICAgcGFnZV9saW1pdDogdGhpcy5wYWdlX2xpbWl0LAogICAgZGF0YV9rZTogKHRoaXMucGFnZV9maXJzdCAtIDEpICogdGhpcy5wYWdlX2xpbWl0LAogICAgY2FyaV92YWx1ZTogdGhpcy5jYXJpX3ZhbHVlLAogICAgbWFzdGVyX2JpZGFuZ191c2FoYTogdGhpcy5maWx0ZXJrdS5tYXN0ZXJfYmlkYW5nX3VzYWhhCiAgfTsKCiAgaWYgKHRoaXMudGlwZSA9PT0gNCkgewogIC8vIGNvbnN0IHVzZXJJZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnByb2ZpbGUpLnByb2ZpbGUuaWQ7CiAgLy8gYm9keS51c2Vyc19pZCA9IHVzZXJJZDsKICBjb25zdCBwcm9maWxlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UucHJvZmlsZSk7CiAgY29uc29sZS5sb2coIlVzZXIgdGlwZSA0LCBraXJpbSB1c2Vyc19pZDoiLCBwcm9maWxlKTsKYm9keS51c2Vyc19pZCA9IHByb2ZpbGUuX2lkOyAvLyBwYWthaSBpbmkKfQoKICBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS51cmwuREFUQV9NSVRSQSArICJsaXN0UmVnaXMiLCB7CiAgICBtZXRob2Q6ICJQT1NUIiwKICAgIGhlYWRlcnM6IHsKICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICB9LAogICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkKICB9KQogIC50aGVuKHJlcyA9PiByZXMuanNvbigpKQogIC50aGVuKHJlc19kYXRhID0+IHsKICAgIHRoaXMubGlzdF9kYXRhID0gcmVzX2RhdGEuZGF0YTsKICAgIHRoaXMuam1sX2RhdGEgPSByZXNfZGF0YS5qbWxfZGF0YTsKICAgIHRoaXMudG90YWxfZGF0YSA9IHJlc19kYXRhLnRvdGFsX2RhdGE7CiAgICB0aGlzLnBhZ2VfbGFzdCA9IE1hdGguY2VpbCh0aGlzLnRvdGFsX2RhdGEgLyB0aGlzLnBhZ2VfbGltaXQpOwogIH0pOwp9LAogICAgYWRkRGF0YSgpIHsKICAgICAgdGhpcy5idG5fYWRkID0gdHJ1ZTsKICAgICAgZmV0Y2goIi9hcGkvcGVydXNhaGFhbi9hZGQiLCB7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgaGVhZGVyczogeyAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtKQogICAgICB9KQogICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5idG5fYWRkID0gZmFsc2U7CiAgICAgICAgdGhpcy5tZGxfYWRkID0gZmFsc2U7CiAgICAgICAgdGhpcy5nZXRWaWV3KCk7CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXREYXRhKCkgewogICAgICB0aGlzLmJ0bl9lZGl0ID0gdHJ1ZTsKICAgICAgZmV0Y2goIi9hcGkvcGVydXNhaGFhbi9lZGl0IiwgewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIGhlYWRlcnM6IHsgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybSkKICAgICAgfSkKICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuYnRuX2VkaXQgPSBmYWxzZTsKICAgICAgICB0aGlzLm1kbF9lZGl0ID0gZmFsc2U7CiAgICAgICAgdGhpcy5nZXRWaWV3KCk7CiAgICAgIH0pOwogICAgfSwKICAgIGxpaGF0UElDKHVzZXJzX2lkKSB7CiAgICAgICAgICBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS51cmwuREFUQV9NSVRSQSArICJ2aWV3UElDIiwgewogICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcnNfaWQgfSkKICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKQogICAgICAgICAgICAudGhlbihyZXNfZGF0YSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc19kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgIHRoaXMucGljX2RhdGEgPSByZXNfZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgdGhpcy5tZGxfcGljID0gdHJ1ZTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kcS5ub3RpZnkoeyB0eXBlOiAibmVnYXRpdmUiLCBtZXNzYWdlOiByZXNfZGF0YS5tZXNzYWdlIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsgdHlwZTogIm5lZ2F0aXZlIiwgbWVzc2FnZTogIkdhZ2FsIGFtYmlsIGRhdGEgUElDIiB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICBnZXRCaWRhbmcoKSB7CiAgICAgICAgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkRBVEFfTUlUUkEgKyAidmlld0JpZGFuZyIsIHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICAgIH0sCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSkKICAgICAgICB9KQogICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpCiAgICAgICAgICAudGhlbihyZXNfZGF0YSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLwn5OMIGhhc2lsIGJpZGFuZzoiLCByZXNfZGF0YSk7IC8vIGRlYnVnCiAgICAgICAgICAgIHRoaXMubGlzdF9iaWRhbmcgPSByZXNfZGF0YS5kYXRhIHx8IFtdOwogICAgICAgICAgfSk7CiAgICAgIH0sCgogIAogIC8vIC4uLiBtZXRob2QgbGFpbiBzdWRhaCBhZGEKICBzZWxlY3REYXRhKGRhdGEpIHsKICAgIC8vIGFtYmlsIGRhdGEgdXNlciBzYWF0IGtsaWsgdG9tYm9sIGVkaXQgcGFzc3dvcmQKICAgIHRoaXMuZGF0YWt1ID0gewogICAgICB1c2Vyc19pZDogZGF0YS51c2Vyc19pZCwKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBjb25maXJtUGFzc3dvcmQ6ICcnCiAgICB9OwogICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnJzsKCiAgfSwKCiAgc2VsZWN0RGF0YShkYXRhKSB7CiAgICAgIHRoaXMuZGF0YWt1ID0gewogICAgICAgIHVzZXJzX2lkOiBkYXRhLnVzZXJzX2lkLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJyc7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAuLi5kYXRhLAogICAgICAgIHVzZXJzX2lkOiBkYXRhLnVzZXJzX2lkLAogICAgICAgIGlkOiBkYXRhLmlkIC8vIGlkIHBlcnVzYWhhYW4KICAgICAgfTsKICAgIH0sCgogIGFzeW5jIGVkaXREYXRhUGFzc3dvcmQoKSB7CiAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICcnOwoKICAgIC8vIHZhbGlkYXNpIHBhc3N3b3JkCiAgICBpZiAoIXRoaXMuZGF0YWt1LnBhc3N3b3JkIHx8ICF0aGlzLmRhdGFrdS5jb25maXJtUGFzc3dvcmQpIHsKICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAiUGFzc3dvcmQgZGFuIENvbmZpcm0gUGFzc3dvcmQgd2FqaWIgZGlpc2khIjsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICh0aGlzLmRhdGFrdS5wYXNzd29yZCAhPT0gdGhpcy5kYXRha3UuY29uZmlybVBhc3N3b3JkKSB7CiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gIlBhc3N3b3JkIGRhbiBDb25maXJtIFBhc3N3b3JkIHRpZGFrIHNhbWEhIjsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRyeSB7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5EQVRBX01JVFJBICsgImVkaXRQYXNzd29yZCIsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICB1c2Vyc19pZDogdGhpcy5kYXRha3UudXNlcnNfaWQsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5kYXRha3UucGFzc3dvcmQKICAgICAgICB9KQogICAgICB9KTsKCiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpOwoKICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgIHRoaXMuJHEubm90aWZ5KHsgdHlwZTogInBvc2l0aXZlIiwgbWVzc2FnZTogIlBhc3N3b3JkIGJlcmhhc2lsIGRpdWJhaCEiIH0pOwogICAgICAgIHRoaXMubWRsX3Bhc3N3b3JkID0gZmFsc2U7IC8vIHR1dHVwIG1vZGFsCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2UgfHwgIkdhZ2FsIG1lbmd1YmFoIHBhc3N3b3JkISI7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICJUZXJqYWRpIGtlc2FsYWhhbiBzYWF0IG1lbmd1YmFoIHBhc3N3b3JkLiI7CiAgICB9CiAgfSwKCiAgZWRpdERhdGEoKSB7CiAgdGhpcy5idG5fZWRpdCA9IHRydWU7CiAgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkRBVEFfTUlUUkEgKyAiRWRpdE1pdHJhIiwgewogICAgbWV0aG9kOiAiUE9TVCIsCiAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgfSwKICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgdXNlcnNfaWQ6IHRoaXMuZm9ybS51c2Vyc19pZCwKICAgICAgcGVydXNhaGFhbl9pZDogdGhpcy5mb3JtLmlkLAogICAgICBwYXNzd29yZDogdGhpcy5mb3JtLnBhc3N3b3JkIHx8ICIiLCAvLyBvcHRpb25hbAogICAgICBuYW1hOiB0aGlzLmZvcm0ucGljX25hbWEsCiAgICAgIGphYmF0YW46IHRoaXMuZm9ybS5waWNfamFiYXRhbiwKICAgICAgcGljX2VtYWlsOiB0aGlzLmZvcm0ucGljX2VtYWlsLAogICAgICBwaWNfaHA6IHRoaXMuZm9ybS5waWNfaHAsCiAgICAgIHBlcnVzYWhhYW5fbmFtYTogdGhpcy5mb3JtLm5hbWEsCiAgICAgIGJpZGFuZ191c2FoYV9pZDogdGhpcy5mb3JtLmJpZGFuZ191c2FoYV9pZCwKICAgICAgcGVydXNhaGFhbl9lbWFpbDogdGhpcy5mb3JtLmVtYWlsLAogICAgICBwZXJ1c2FoYWFuX2hwOiB0aGlzLmZvcm0uaHAsCiAgICAgIGFsYW1hdDogdGhpcy5mb3JtLmFsYW1hdAogICAgfSkKICB9KQogIC50aGVuKHJlcyA9PiByZXMuanNvbigpKQogIC50aGVuKHJlc19kYXRhID0+IHsKICAgIHRoaXMuYnRuX2VkaXQgPSBmYWxzZTsKICAgIGlmKHJlc19kYXRhLnN1Y2Nlc3MpewogICAgICB0aGlzLm1kbF9lZGl0ID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0VmlldygpOwogICAgICB0aGlzLiRxLm5vdGlmeSh7IHR5cGU6ICdwb3NpdGl2ZScsIG1lc3NhZ2U6IHJlc19kYXRhLm1lc3NhZ2UgfSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLiRxLm5vdGlmeSh7IHR5cGU6ICduZWdhdGl2ZScsIG1lc3NhZ2U6IHJlc19kYXRhLmVycm9yIHx8ICdHYWdhbCB1cGRhdGUnIH0pOwogICAgfQogIH0pCiAgLmNhdGNoKGVyciA9PiB7CiAgICB0aGlzLmJ0bl9lZGl0ID0gZmFsc2U7CiAgICB0aGlzLiRxLm5vdGlmeSh7IHR5cGU6ICduZWdhdGl2ZScsIG1lc3NhZ2U6ICdUZXJqYWRpIGtlc2FsYWhhbicgfSk7CiAgfSk7Cn0sCiAgICBpbmRleGluZyhpZHgpIHsKICAgICAgcmV0dXJuICgodGhpcy5wYWdlX2ZpcnN0LTEpKnRoaXMucGFnZV9saW1pdCkraWR4OwogICAgfSwKICAgIGVkaXRNb2RhbChkYXRhKSB7CiAgdGhpcy5mb3JtID0gewogICAgLi4uZGF0YSwKICAgIHBpY19uYW1hOiBkYXRhLm5hbWFfcGljIHx8ICcnLAogICAgcGljX2phYmF0YW46IGRhdGEuamFiYXRhbiB8fCAnJywKICAgIHBpY19lbWFpbDogZGF0YS5lbWFpbF9waWMgfHwgJycsCiAgICBwaWNfaHA6IGRhdGEuaHBfcGljIHx8ICcnCiAgfTsKICB0aGlzLm1kbF9lZGl0ID0gdHJ1ZTsKfSwKCmhhcHVzRGF0YSgpIHsKICAgIHRoaXMuYnRuX2hhcHVzID0gdHJ1ZTsKICAgIGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5EQVRBX01JVFJBICsgImhhcHVzbWl0cmEiLCB7CiAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgfSwKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHVzZXJzX2lkOiB0aGlzLmZvcm0udXNlcnNfaWQsICAgICAgLy8gaGFydXMgYWRhCiAgICAgIHBlcnVzYWhhYW5faWQ6IHRoaXMuZm9ybS5pZCAgICAKICAgICAgfSkKICAgIH0pCiAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgIC50aGVuKHJlc19kYXRhID0+IHsKICAgICAgdGhpcy5idG5faGFwdXMgPSBmYWxzZTsKICAgICAgaWYocmVzX2RhdGEuc3VjY2Vzcyl7CiAgICAgICAgdGhpcy5tZGxfaGFwdXMgPSBmYWxzZTsKICAgICAgICB0aGlzLmdldFZpZXcoKTsgLy8gcmVmcmVzaCB0YWJlbAogICAgICAgIHRoaXMuJHEubm90aWZ5KHsgdHlwZTogJ3Bvc2l0aXZlJywgbWVzc2FnZTogcmVzX2RhdGEubWVzc2FnZSB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRxLm5vdGlmeSh7IHR5cGU6ICduZWdhdGl2ZScsIG1lc3NhZ2U6IHJlc19kYXRhLmVycm9yIHx8ICdHYWdhbCBoYXB1cycgfSk7CiAgICAgIH0KICAgIH0pCiAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgdGhpcy5idG5faGFwdXMgPSBmYWxzZTsKICAgICAgdGhpcy4kcS5ub3RpZnkoeyB0eXBlOiAnbmVnYXRpdmUnLCBtZXNzYWdlOiAnVGVyamFkaSBrZXNhbGFoYW4nIH0pOwogICAgfSk7CiAgfSwKICAgIGxpaGF0TW9kYWwoZGF0YSkgewogICAgICB0aGlzLmxpaGF0UElDKGRhdGEudXNlcnNfaWQpOwogICAgfSwKICAgIGNhcmlfZGF0YSgpIHsgdGhpcy5wYWdlX2ZpcnN0ID0gMTsgdGhpcy5nZXRWaWV3KCk7IH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBnZXRfcHJvZmlsZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnByb2ZpbGUpOwogICAgICAgIHRoaXMudGlwZSA9IE51bWJlcihnZXRfcHJvZmlsZS5wcm9maWxlLmRiX2NzcmtvbnNlbCk7IC8vIGFtYmlsIGRiX2NzcmtvbnNlbAogICAgdGhpcy5nZXRWaWV3KCk7CiAgICB0aGlzLmdldEJpZGFuZygpOwogIH0KfQo="},{"version":3,"sources":["regisMitra.vue"],"names":[],"mappings":";AA4TA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"regisMitra.vue","sourceRoot":"src/views/dataMaster","sourcesContent":["<template>\n  <div class=\"about\" style=\"padding:15px\">\n    <q-card bordered class=\"my-card\">\n      <q-card-section class=\"main2 text-white\">\n        <div class=\"row\">\n          <div class=\"col-12 col-md-6\">\n            <div class=\"text-h6 h_titleHead\">Registrasi Mitra</div>\n            <!-- <div class=\"text-subtitle2\">Program/Kegiatan</div> -->\n          </div>\n          <div class=\"col-12 col-md-2\"></div>\n          <div class=\"col-12 col-md-4\">\n            <div class=\"row\">\n              <q-input v-model=\"cari_value\" @keyup=\"cari_data()\" outlined square :dense=\"true\" class=\"bg-white\" style=\"width:90%\"/>\n              <q-btn v-if=\"tipe===1\" glossy class=\"main1\" @click=\"mdl_add = true\" dense flat icon=\"add\" style=\"width:10%\">\n                  <q-tooltip content-class=\"bg-cyan-9\" content-style=\"font-size: 13px\">\n                    Click untuk menambah data\n                  </q-tooltip>\n              </q-btn>\n            </div>\n\n          </div>\n        </div>\n      </q-card-section>\n\n      <q-separator dark inset />\n\n      <q-card-section>\n        <!-- <hr class=\"hrpagin2\"> -->\n\n        <div class=\"row\">\n            <div class=\"col-12\" v-if=\"tipe === 1 || tipe === 5\">\n              <span class=\"h_lable\">Bidang Usaha</span>\n              <select v-model=\"filterku.master_bidang_usaha\" @change=\"getView()\" class=\"bg-white\">\n                <option value=\"\">-- SEMUA BIDANG --</option>\n                <option v-for=\"data in list_bidang\" :key=\"data.id\" :value=\"data.id\">\n                  🔹 {{ data.uraian }}\n                </option>\n              </select>\n            </div>\n          </div>\n\n          <hr class=\"hrpagin2\">\n        <div class=\"tbl_responsive\">\n          <table width=\"100%\">\n            <thead class=\"h_table_head main1 text-white\">\n              <tr>\n                <th width=\"5%\" class=\"text-center\">No</th>\n                <th width=\"20%\">Nama Perusahaan</th>\n                <th width=\"15%\">Bidang Usaha</th>\n                <th width=\"15%\">Email</th>\n                <th width=\"10%\">No HP</th>\n                <th width=\"25%\">Alamat</th>\n                <th width=\"10%\">Aksi</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(data, index) in list_data\" :key=\"data.id+'-'+index\">\n                <td class=\"text-center\">{{ indexing(index+1) }}</td>\n                <td>{{ data.nama }}\n                  <div class=\"h_nip text-blue cursor-pointer\" @click=\"lihatPIC(data.users_id)\">\n                    Lihat PIC\n                  </div>\n                </td>\n                <td>{{ data.bidang_usaha }}</td>\n                <td>{{ data.email }}</td>\n                <td>{{ data.hp }}</td>\n                <td>{{ data.alamat }}</td>\n                <td class=\"text-center\">\n                  <!-- <q-btn-group flat>\n                    <q-btn icon=\"edit\" color=\"orange\" @click=\"editModal(data)\" round>\n                      <q-tooltip>Edit</q-tooltip>\n                    </q-btn>\n                    <q-btn icon=\"visibility\" color=\"primary\" @click=\"lihatModal(data)\" round>\n                      <q-tooltip>Lihat</q-tooltip>\n                    </q-btn>\n                  </q-btn-group> -->\n                  <q-btn-group>\n                    <q-btn @click=\"mdl_password = true, selectData(data)\" glossy color=\"blue\" icon=\"vpn_key\" class=\"tbl_btn\">\n                      <q-tooltip content-class=\"bg-blue-9\" content-style=\"font-size: 13px\">\n                        Click untuk mengubah password pengguna ini\n                      </q-tooltip>\n                    </q-btn>\n                    <q-btn @click=\"editModal(data)\" glossy color=\"orange\" icon=\"create\" class=\"tbl_btn\">\n                      <q-tooltip content-class=\"bg-orange-9\" content-style=\"font-size: 13px\">\n                        Click untuk mengubah data ini\n                      </q-tooltip>\n                    </q-btn>\n                    <q-btn @click=\"mdl_hapus = true, selectData(data)\" glossy color=\"negative\" icon=\"delete_forever\" class=\"tbl_btn\">\n                      <q-tooltip content-class=\"bg-red\" content-style=\"font-size: 13px\">\n                        Click untuk menghapus data ini\n                      </q-tooltip>\n                    </q-btn>\n                  </q-btn-group>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <div class=\"flex flex-center q-mt-md\">\n          <q-pagination\n            v-model=\"page_first\"\n            :max=\"page_last\"\n            @update:model-value=\"getView()\"\n            color=\"grey-6\"\n            :max-pages=\"4\"\n            :direction-links=\"true\"\n            :boundary-links=\"true\"\n          />\n        </div>\n      </q-card-section>\n    </q-card>\n\n    <!-- ================= MODAL TAMBAH ================= -->\n    <q-dialog v-model=\"mdl_add\" persistent>\n      <q-card class=\"mdl-md\">\n        <q-card-section class=\"main1\">\n          <div class=\"text-h6\">Tambah Perusahaan</div>\n        </q-card-section>\n        <form @submit.prevent=\"addData\">\n          <q-card-section>\n            <q-input v-model=\"form.nama\" label=\"Nama Perusahaan\" outlined dense class=\"q-mb-sm\"/>\n            <q-select\n              v-model=\"form.bidang_usaha_id\"\n              :options=\"list_bidang\"\n              option-value=\"id\"\n              option-label=\"uraian\"\n              label=\"Bidang Usaha\"\n              outlined dense class=\"q-mb-sm\"\n            />\n            <q-input v-model=\"form.email\" label=\"Email\" type=\"email\" outlined dense class=\"q-mb-sm\"/>\n            <q-input v-model=\"form.hp\" label=\"No HP\" type=\"tel\" outlined dense class=\"q-mb-sm\"/>\n            <q-input v-model=\"form.alamat\" label=\"Alamat\" type=\"textarea\" outlined dense class=\"q-mb-sm\"/>\n          </q-card-section>\n          <q-card-actions align=\"right\">\n            <q-btn label=\"Simpan\" type=\"submit\" color=\"primary\" :loading=\"btn_add\"/>\n            <q-btn label=\"Batal\" color=\"negative\" v-close-popup/>\n          </q-card-actions>\n        </form>\n      </q-card>\n    </q-dialog>\n\n    <!-- ================= MODAL EDIT ================= -->\n<q-dialog v-model=\"mdl_edit\" persistent>\n  <q-card class=\"mdl-md\">\n    <q-card-section class=\"bg-orange\">\n      <div class=\"text-h6 h_modalhead\">Edit Data Perusahaan</div>\n    </q-card-section>\n\n    <form @submit.prevent=\"editData\">\n      <q-card-section>\n\n        <!-- ===== Data Perusahaan ===== -->\n        <div class=\"col-12 col-md-12 frame_cari\">\n          <span class=\"h_lable \">Nama</span>\n          <q-input v-model=\"form.nama\" outlined square :dense=\"true\" class=\"bg-white margin_btn\" />\n        </div>\n\n        <div class=\"col-12 col-md-12 frame_cari\">\n          <span class=\"h_lable\">Bidang Usaha</span>\n          <select v-model=\"form.bidang_usaha_id\" class=\"bg-white\">\n            <option value=\"\" disabled>Pilih Bidang Usaha</option>\n            <option \n              v-for=\"item in list_bidang\" \n              :key=\"item.id\" \n              :value=\"item.id\">\n              {{ item.uraian }}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"col-12 col-md-12 frame_cari\">\n          <span class=\"h_lable \">No Hp</span>\n          <q-input v-model=\"form.hp\" outlined square :dense=\"true\" class=\"bg-white margin_btn\" />\n        </div>\n\n        <div class=\"col-12 col-md-12 frame_cari\">\n          <span class=\"h_lable \">Alamat</span>\n          <q-input v-model=\"form.alamat\" outlined square :dense=\"true\" class=\"bg-white margin_btn\" />\n        </div>\n\n        <!-- ===== Separator ===== -->\n        <hr class=\"hrpagin2 q-my-md\">\n\n        <!-- ===== Data PIC ===== -->\n        <div class=\"col-12 col-md-12 frame_cari\">\n          <span class=\"h_lable \">Nama PIC</span>\n          <q-input v-model=\"form.pic_nama\" outlined square :dense=\"true\" class=\"bg-white margin_btn\" />\n        </div>\n\n        <div class=\"col-12 col-md-12 frame_cari\">\n          <span class=\"h_lable \">Jabatan PIC</span>\n          <q-input v-model=\"form.pic_jabatan\" outlined square :dense=\"true\" class=\"bg-white margin_btn\" />\n        </div>\n\n        <div class=\"col-12 col-md-12 frame_cari\">\n          <span class=\"h_lable \">Email PIC</span>\n          <q-input v-model=\"form.pic_email\" type=\"email\" outlined square :dense=\"true\" class=\"bg-white margin_btn\" />\n        </div>\n\n        <div class=\"col-12 col-md-12 frame_cari\">\n          <span class=\"h_lable \">No HP PIC</span>\n          <q-input v-model=\"form.pic_hp\" type=\"tel\" outlined square :dense=\"true\" class=\"bg-white margin_btn\" />\n        </div>\n\n      </q-card-section>\n\n      <q-card-actions align=\"right\" class=\"bg-grey-4 mdl-footer\">\n        <q-btn label=\"Simpan\" type=\"submit\" color=\"primary\" :loading=\"btn_edit\"/>\n        <q-btn label=\"Batal\" color=\"negative\" v-close-popup/>\n      </q-card-actions>\n    </form>\n  </q-card>\n</q-dialog>\n\n\n    <!-- ================= MODAL Lihat PIC ================= -->\n    <q-dialog v-model=\"mdl_pic\" persistent>\n      <q-card class=\"q-pa-md\" style=\"max-width: 480px; border-radius: 18px; overflow: hidden;\">\n        <q-card-section class=\"text-center text-white\" style=\"background: linear-gradient(135deg, #1976D2, #42A5F5);\">\n          <q-avatar size=\"100px\" class=\"q-mb-sm shadow-2\" style=\"border: 3px solid white;\">\n            <img v-if=\"pic_data?.foto\" :src=\"pic_data.foto\" alt=\"Foto PIC\"/>\n            <q-icon v-else name=\"person\" size=\"80px\" color=\"white\"/>\n          </q-avatar>\n          <div class=\"text-h6\">{{ pic_data?.nama }}</div>\n          <div class=\"text-subtitle2\">{{ pic_data?.jabatan }}</div>\n        </q-card-section>\n        <q-card-section class=\"bg-grey-2\">\n          <q-card flat bordered class=\"q-pa-sm row items-center\">\n            <q-icon name=\"email\" size=\"22px\" class=\"q-mr-sm text-primary\"/>\n            <span>{{ pic_data?.email || '-' }}</span>\n          </q-card>\n          <q-card flat bordered class=\"q-pa-sm row items-center\">\n            <q-icon name=\"phone\" size=\"22px\" class=\"q-mr-sm text-green\"/>\n            <span>{{ pic_data?.hp || '-' }}</span>\n          </q-card>\n          <q-card flat bordered class=\"q-pa-sm row items-center\">\n            <q-icon name=\"badge\" size=\"22px\" class=\"q-mr-sm text-indigo\"/>\n            <span>Username: {{ pic_data?.username }}</span>\n          </q-card>\n        </q-card-section>\n        <q-card-actions align=\"right\" class=\"bg-grey-3\">\n          <q-btn label=\"Tutup\" flat color=\"negative\" v-close-popup/>\n        </q-card-actions>\n      </q-card>\n    </q-dialog>\n    <!-- ================= MODAL Lihat PIC ================= -->\n\n    <!-- ================================================= MODAL PASSWORD ================================================ -->\n    <q-dialog v-model=\"mdl_password\" persistent>\n                <q-card class=\"mdl-md\">\n                  <q-card-section class=\"bg-blue\">\n                    <div class=\"text-h6 h_modalhead text-center\">Edit Password</div>\n                  </q-card-section>\n\n                  <q-card-section class=\"q-pt-none\">\n                        <br>\n                        <div class=\"row\">\n\n                          <div class=\"col-12 col-md-12 frame_cari\">\n                            <span class=\"h_lable \">Password</span>\n                            <q-input v-model=\"dataku.password\" type=\"password\" outlined square :dense=\"true\" class=\"bg-white margin_btn\" />\n                          </div>\n\n                          <div class=\"col-12 col-md-12 frame_cari\">\n                            <span class=\"h_lable \">Confirm Password</span>\n                            <q-input v-model=\"dataku.confirmPassword\" type=\"password\" outlined square :dense=\"true\" class=\"bg-white margin_btn\" />\n                          </div>\n\n                          <div class=\"col-12 col-md-12 frame_cari\">\n                            <div class=\"bg-red text-center\" v-if=\"errorMessage\" style=\"padding:2%\">\n                              <span style=\"color:white\">{{ errorMessage }}</span>\n                            </div>\n                          </div>\n\n                        </div>\n\n                  </q-card-section>\n\n                  <q-card-actions class=\"bg-grey-4 mdl-footer\" align=\"right\">\n                    \n                      <q-btn color=\"primary\" @click=\"editDataPassword()\" label=\"Simpan\" />\n                      <q-btn label=\"Batal\" color=\"negative\" v-close-popup />\n             \n                  </q-card-actions>\n                </q-card>\n              </q-dialog>\n            <!-- ================================================= MODAL PASSWORD ================================================ -->\n<!-- ================================================ MODAL HAPUS ================================================ -->\n<q-dialog v-model=\"mdl_hapus\" persistent>\n                <q-card class=\"mdl-sm \">\n                  <q-card-section class=\"q-pt-none text-center orageGrad\">\n                      <form @submit.prevent=\"hapusData\">\n                          <br>\n                          <img src=\"img/alert.png\" alt=\"\" width=\"75\"> <br>\n                          <span class=\"h_notifikasi\">APAKAH ANDA YAKIN INGIN MENGHAPUS DATA INI??</span>\n                          <input type=\"submit\" style=\"position: absolute; left: -9999px\"/>\n                          <br>\n                          <br>\n\n                        <q-btn label=\"Batal\" size=\"sm\" color=\"negative\"  v-close-popup/>\n                        &nbsp;\n                        <q-btn type=\"submit\" label=\"Hapus\" size=\"sm\" color=\"primary\" v-close-popup/>\n\n                      </form>\n                  </q-card-section>\n                </q-card>\n              </q-dialog>\n            <!-- ================================================ MODAL HAPUS ================================================ -->\n\n\n  </div>\n</template>\n\n\n<script>\nexport default {\n  data() {\n    return {\n  \n      list_data: [],\n      list_bidang: [],\n      form: {\n        id: null,\n        nama: '',\n        bidang_usaha_id: '',\n        email: '',\n        hp: '',\n        alamat: ''\n      },\n      tipe: null, // simpan tipe user\n      page_first: 1,\n      page_last: 0,\n      page_limit: 10,\n      cari_value: '',\n      mdl_add: false,\n      mdl_edit: false,\n      mdl_hapus: false,\n      mdl_pic: false,\n      pic_data: null,\n      btn_add: false,\n      btn_edit: false,\n      filterku: {\n          master_bidang_usaha: ''  // filter pakai bidang\n        },\n        list_bidang : [],\n\n        mdl_password: false,\n        dataku: {\n          users_id: '',\n          password: '',\n          confirmPassword: ''\n        },\n        errorMessage: '',\n    }\n  },\n  methods: {\n    getBidang() {\n      fetch(\"/api/bidang_usaha\")\n        .then(res => res.json())\n        .then(res_data => {\n          this.list_bidang = res_data.data || [];\n        });\n    },\n    getView() {\n\n      const body = {\n    page_limit: this.page_limit,\n    data_ke: (this.page_first - 1) * this.page_limit,\n    cari_value: this.cari_value,\n    master_bidang_usaha: this.filterku.master_bidang_usaha\n  };\n\n  if (this.tipe === 4) {\n  // const userId = JSON.parse(localStorage.profile).profile.id;\n  // body.users_id = userId;\n  const profile = JSON.parse(localStorage.profile);\n  console.log(\"User tipe 4, kirim users_id:\", profile);\nbody.users_id = profile._id; // pakai ini\n}\n\n  fetch(this.$store.state.url.DATA_MITRA + \"listRegis\", {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n      authorization: \"kikensbatara \" + localStorage.token\n    },\n    body: JSON.stringify(body)\n  })\n  .then(res => res.json())\n  .then(res_data => {\n    this.list_data = res_data.data;\n    this.jml_data = res_data.jml_data;\n    this.total_data = res_data.total_data;\n    this.page_last = Math.ceil(this.total_data / this.page_limit);\n  });\n},\n    addData() {\n      this.btn_add = true;\n      fetch(\"/api/perusahaan/add\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(this.form)\n      })\n      .then(() => {\n        this.btn_add = false;\n        this.mdl_add = false;\n        this.getView();\n      });\n    },\n    editData() {\n      this.btn_edit = true;\n      fetch(\"/api/perusahaan/edit\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(this.form)\n      })\n      .then(() => {\n        this.btn_edit = false;\n        this.mdl_edit = false;\n        this.getView();\n      });\n    },\n    lihatPIC(users_id) {\n          fetch(this.$store.state.url.DATA_MITRA + \"viewPIC\", {\n            method: \"POST\",\n            headers: {\n              \"content-type\": \"application/json\",\n              authorization: \"kikensbatara \" + localStorage.token\n            },\n            body: JSON.stringify({ users_id })\n          })\n            .then(res => res.json())\n            .then(res_data => {\n              if (res_data.success) {\n                this.pic_data = res_data.data;\n                this.mdl_pic = true;\n              } else {\n                this.$q.notify({ type: \"negative\", message: res_data.message });\n              }\n            })\n            .catch(err => {\n              console.error(err);\n              this.$q.notify({ type: \"negative\", message: \"Gagal ambil data PIC\" });\n            });\n        },\n\n    getBidang() {\n        fetch(this.$store.state.url.DATA_MITRA + \"viewBidang\", {\n          method: \"POST\",\n          headers: {\n            \"content-type\": \"application/json\",\n            authorization: \"kikensbatara \" + localStorage.token\n          },\n          body: JSON.stringify({})\n        })\n          .then(res => res.json())\n          .then(res_data => {\n            console.log(\"📌 hasil bidang:\", res_data); // debug\n            this.list_bidang = res_data.data || [];\n          });\n      },\n\n  \n  // ... method lain sudah ada\n  selectData(data) {\n    // ambil data user saat klik tombol edit password\n    this.dataku = {\n      users_id: data.users_id,\n      password: '',\n      confirmPassword: ''\n    };\n    this.errorMessage = '';\n\n  },\n\n  selectData(data) {\n      this.dataku = {\n        users_id: data.users_id,\n        password: '',\n        confirmPassword: ''\n      };\n      this.errorMessage = '';\n      this.form = {\n        ...data,\n        users_id: data.users_id,\n        id: data.id // id perusahaan\n      };\n    },\n\n  async editDataPassword() {\n    this.errorMessage = '';\n\n    // validasi password\n    if (!this.dataku.password || !this.dataku.confirmPassword) {\n      this.errorMessage = \"Password dan Confirm Password wajib diisi!\";\n      return;\n    }\n\n    if (this.dataku.password !== this.dataku.confirmPassword) {\n      this.errorMessage = \"Password dan Confirm Password tidak sama!\";\n      return;\n    }\n\n    try {\n      const res = await fetch(this.$store.state.url.DATA_MITRA + \"editPassword\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"kikensbatara \" + localStorage.token\n        },\n        body: JSON.stringify({\n          users_id: this.dataku.users_id,\n          password: this.dataku.password\n        })\n      });\n\n      const data = await res.json();\n\n      if (data.success) {\n        this.$q.notify({ type: \"positive\", message: \"Password berhasil diubah!\" });\n        this.mdl_password = false; // tutup modal\n      } else {\n        this.errorMessage = data.message || \"Gagal mengubah password!\";\n      }\n    } catch (error) {\n      console.error(error);\n      this.errorMessage = \"Terjadi kesalahan saat mengubah password.\";\n    }\n  },\n\n  editData() {\n  this.btn_edit = true;\n  fetch(this.$store.state.url.DATA_MITRA + \"EditMitra\", {\n    method: \"POST\",\n    headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"kikensbatara \" + localStorage.token\n        },\n    body: JSON.stringify({\n      users_id: this.form.users_id,\n      perusahaan_id: this.form.id,\n      password: this.form.password || \"\", // optional\n      nama: this.form.pic_nama,\n      jabatan: this.form.pic_jabatan,\n      pic_email: this.form.pic_email,\n      pic_hp: this.form.pic_hp,\n      perusahaan_nama: this.form.nama,\n      bidang_usaha_id: this.form.bidang_usaha_id,\n      perusahaan_email: this.form.email,\n      perusahaan_hp: this.form.hp,\n      alamat: this.form.alamat\n    })\n  })\n  .then(res => res.json())\n  .then(res_data => {\n    this.btn_edit = false;\n    if(res_data.success){\n      this.mdl_edit = false;\n      this.getView();\n      this.$q.notify({ type: 'positive', message: res_data.message });\n    } else {\n      this.$q.notify({ type: 'negative', message: res_data.error || 'Gagal update' });\n    }\n  })\n  .catch(err => {\n    this.btn_edit = false;\n    this.$q.notify({ type: 'negative', message: 'Terjadi kesalahan' });\n  });\n},\n    indexing(idx) {\n      return ((this.page_first-1)*this.page_limit)+idx;\n    },\n    editModal(data) {\n  this.form = {\n    ...data,\n    pic_nama: data.nama_pic || '',\n    pic_jabatan: data.jabatan || '',\n    pic_email: data.email_pic || '',\n    pic_hp: data.hp_pic || ''\n  };\n  this.mdl_edit = true;\n},\n\nhapusData() {\n    this.btn_hapus = true;\n    fetch(this.$store.state.url.DATA_MITRA + \"hapusmitra\", {\n      method: \"POST\",\n      headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: \"kikensbatara \" + localStorage.token\n        },\n      body: JSON.stringify({\n        users_id: this.form.users_id,      // harus ada\n      perusahaan_id: this.form.id    \n      })\n    })\n    .then(res => res.json())\n    .then(res_data => {\n      this.btn_hapus = false;\n      if(res_data.success){\n        this.mdl_hapus = false;\n        this.getView(); // refresh tabel\n        this.$q.notify({ type: 'positive', message: res_data.message });\n      } else {\n        this.$q.notify({ type: 'negative', message: res_data.error || 'Gagal hapus' });\n      }\n    })\n    .catch(err => {\n      this.btn_hapus = false;\n      this.$q.notify({ type: 'negative', message: 'Terjadi kesalahan' });\n    });\n  },\n    lihatModal(data) {\n      this.lihatPIC(data.users_id);\n    },\n    cari_data() { this.page_first = 1; this.getView(); }\n  },\n  mounted() {\n    const get_profile = JSON.parse(localStorage.profile);\n        this.tipe = Number(get_profile.profile.db_csrkonsel); // ambil db_csrkonsel\n    this.getView();\n    this.getBidang();\n  }\n}\n</script>\n"]}]}