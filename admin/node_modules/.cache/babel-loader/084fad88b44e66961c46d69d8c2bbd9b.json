{"remainingRequest":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js!/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/quasar/src/components/date/QDate.js","dependencies":[{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/quasar/src/components/date/QDate.js","mtime":1758930416698},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/babel.config.js","mtime":1755527684372},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js","mtime":1758930419036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnVuc2hpZnQuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBRQnRuIGZyb20gJy4uL2J0bi9RQnRuLmpzJzsKaW1wb3J0IERhdGVUaW1lTWl4aW4gZnJvbSAnLi4vLi4vbWl4aW5zL2RhdGV0aW1lLmpzJzsKaW1wb3J0IHsgc2xvdCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUvc2xvdC5qcyc7CmltcG9ydCB7IGZvcm1hdERhdGUsIF9fc3BsaXREYXRlLCBnZXREYXRlRGlmZiB9IGZyb20gJy4uLy4uL3V0aWxzL2RhdGUuanMnOwppbXBvcnQgeyBwYWQgfSBmcm9tICcuLi8uLi91dGlscy9mb3JtYXQuanMnOwppbXBvcnQgeyBqYWxhYWxpTW9udGhMZW5ndGgsIHRvR3JlZ29yaWFuIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9kYXRlLXBlcnNpYW4uanMnOwppbXBvcnQgY2FjaGUgZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9jYWNoZS5qcyc7CmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnOwpjb25zdCB5ZWFyc0ludGVydmFsID0gMjA7CmNvbnN0IHZpZXdzID0gWydDYWxlbmRhcicsICdZZWFycycsICdNb250aHMnXTsKY29uc3Qgdmlld0lzVmFsaWQgPSB2ID0+IHZpZXdzLmluY2x1ZGVzKHYpOwpjb25zdCB5ZWFyTW9udGhWYWxpZGF0b3IgPSB2ID0+IC9eLT9bXGRdK1wvWzAtMV1cZCQvLnRlc3Qodik7CmNvbnN0IGxpbmVTdHIgPSAnIFx1MjAxNCAnOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnUURhdGUnLAogIG1peGluczogW0RhdGVUaW1lTWl4aW5dLAogIHByb3BzOiB7CiAgICBtdWx0aXBsZTogQm9vbGVhbiwKICAgIHJhbmdlOiBCb29sZWFuLAogICAgdGl0bGU6IFN0cmluZywKICAgIHN1YnRpdGxlOiBTdHJpbmcsCiAgICBtYXNrOiB7CiAgICAgIC8vIHRoaXMgbWFzayBpcyBmb3JjZWQKICAgICAgLy8gd2hlbiB1c2luZyBwZXJzaWFuIGNhbGVuZGFyCiAgICAgIGRlZmF1bHQ6ICdZWVlZL01NL0REJwogICAgfSwKICAgIGRlZmF1bHRZZWFyTW9udGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICB2YWxpZGF0b3I6IHllYXJNb250aFZhbGlkYXRvcgogICAgfSwKICAgIHllYXJzSW5Nb250aFZpZXc6IEJvb2xlYW4sCiAgICBldmVudHM6IFtBcnJheSwgRnVuY3Rpb25dLAogICAgZXZlbnRDb2xvcjogW1N0cmluZywgRnVuY3Rpb25dLAogICAgZW1pdEltbWVkaWF0ZWx5OiBCb29sZWFuLAogICAgb3B0aW9uczogW0FycmF5LCBGdW5jdGlvbl0sCiAgICBuYXZpZ2F0aW9uTWluWWVhck1vbnRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgdmFsaWRhdG9yOiB5ZWFyTW9udGhWYWxpZGF0b3IKICAgIH0sCiAgICBuYXZpZ2F0aW9uTWF4WWVhck1vbnRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgdmFsaWRhdG9yOiB5ZWFyTW9udGhWYWxpZGF0b3IKICAgIH0sCiAgICBub1Vuc2V0OiBCb29sZWFuLAogICAgZmlyc3REYXlPZldlZWs6IFtTdHJpbmcsIE51bWJlcl0sCiAgICB0b2RheUJ0bjogQm9vbGVhbiwKICAgIG1pbmltYWw6IEJvb2xlYW4sCiAgICBkZWZhdWx0VmlldzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdDYWxlbmRhcicsCiAgICAgIHZhbGlkYXRvcjogdmlld0lzVmFsaWQKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBjb25zdCBpbm5lck1hc2sgPSB0aGlzLl9fZ2V0TWFzaygpLAogICAgICBpbm5lckxvY2FsZSA9IHRoaXMuX19nZXRMb2NhbGUoKSwKICAgICAgdmlld01vZGVsID0gdGhpcy5fX2dldFZpZXdNb2RlbChpbm5lck1hc2ssIGlubmVyTG9jYWxlKSwKICAgICAgeWVhciA9IHZpZXdNb2RlbC55ZWFyLAogICAgICBkaXJlY3Rpb24gPSB0aGlzLiRxLmxhbmcucnRsID09PSB0cnVlID8gJ3JpZ2h0JyA6ICdsZWZ0JzsKICAgIHJldHVybiB7CiAgICAgIHZpZXc6IHRoaXMuZGVmYXVsdFZpZXcsCiAgICAgIG1vbnRoRGlyZWN0aW9uOiBkaXJlY3Rpb24sCiAgICAgIHllYXJEaXJlY3Rpb246IGRpcmVjdGlvbiwKICAgICAgc3RhcnRZZWFyOiB5ZWFyIC0geWVhciAlIHllYXJzSW50ZXJ2YWwgLSAoeWVhciA8IDAgPyB5ZWFyc0ludGVydmFsIDogMCksCiAgICAgIGVkaXRSYW5nZTogdm9pZCAwLAogICAgICBpbm5lck1hc2ssCiAgICAgIGlubmVyTG9jYWxlLAogICAgICB2aWV3TW9kZWwgLy8gbW9kZWwgb2YgY3VycmVudCBjYWxlbmRhciB2aWV3CiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICB2YWx1ZSh2KSB7CiAgICAgIGlmICh0aGlzLmxhc3RFbWl0VmFsdWUgPT09IHYpIHsKICAgICAgICB0aGlzLmxhc3RFbWl0VmFsdWUgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fX2dldFZpZXdNb2RlbCh0aGlzLmlubmVyTWFzaywgdGhpcy5pbm5lckxvY2FsZSk7CiAgICAgICAgdGhpcy5fX3VwZGF0ZVZpZXdNb2RlbChtb2RlbC55ZWFyLCBtb2RlbC5tb250aCwgbW9kZWwpOwogICAgICB9CiAgICB9LAogICAgdmlldygpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuYmx1clRhcmdldCAhPT0gdm9pZCAwICYmIHRoaXMuJGVsLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy4kcmVmcy5ibHVyVGFyZ2V0LmZvY3VzKCk7CiAgICAgIH0KICAgIH0sCiAgICAndmlld01vZGVsLnllYXInKHllYXIpIHsKICAgICAgdGhpcy4kZW1pdCgnbmF2aWdhdGlvbicsIHsKICAgICAgICB5ZWFyLAogICAgICAgIG1vbnRoOiB0aGlzLnZpZXdNb2RlbC5tb250aAogICAgICB9KTsKICAgIH0sCiAgICAndmlld01vZGVsLm1vbnRoJyhtb250aCkgewogICAgICB0aGlzLiRlbWl0KCduYXZpZ2F0aW9uJywgewogICAgICAgIHllYXI6IHRoaXMudmlld01vZGVsLnllYXIsCiAgICAgICAgbW9udGgKICAgICAgfSk7CiAgICB9LAogICAgY29tcHV0ZWRNYXNrKHZhbCkgewogICAgICB0aGlzLl9fdXBkYXRlVmFsdWUodmFsLCB0aGlzLmlubmVyTG9jYWxlLCAnbWFzaycpOwogICAgICB0aGlzLmlubmVyTWFzayA9IHZhbDsKICAgIH0sCiAgICBjb21wdXRlZExvY2FsZSh2YWwpIHsKICAgICAgdGhpcy5fX3VwZGF0ZVZhbHVlKHRoaXMuaW5uZXJNYXNrLCB2YWwsICdsb2NhbGUnKTsKICAgICAgdGhpcy5pbm5lckxvY2FsZSA9IHZhbDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjbGFzc2VzKCkgewogICAgICBjb25zdCB0eXBlID0gdGhpcy5sYW5kc2NhcGUgPT09IHRydWUgPyAnbGFuZHNjYXBlJyA6ICdwb3J0cmFpdCc7CiAgICAgIHJldHVybiBgcS1kYXRlIHEtZGF0ZS0tJHt0eXBlfSBxLWRhdGUtLSR7dHlwZX0tJHt0aGlzLm1pbmltYWwgPT09IHRydWUgPyAnbWluaW1hbCcgOiAnc3RhbmRhcmQnfWAgKyAodGhpcy5pc0RhcmsgPT09IHRydWUgPyAnIHEtZGF0ZS0tZGFyayBxLWRhcmsnIDogJycpICsgKHRoaXMuYm9yZGVyZWQgPT09IHRydWUgPyAnIHEtZGF0ZS0tYm9yZGVyZWQnIDogJycpICsgKHRoaXMuc3F1YXJlID09PSB0cnVlID8gJyBxLWRhdGUtLXNxdWFyZSBuby1ib3JkZXItcmFkaXVzJyA6ICcnKSArICh0aGlzLmZsYXQgPT09IHRydWUgPyAnIHEtZGF0ZS0tZmxhdCBuby1zaGFkb3cnIDogJycpICsgKHRoaXMuZGlzYWJsZSA9PT0gdHJ1ZSA/ICcgZGlzYWJsZWQnIDogdGhpcy5yZWFkb25seSA9PT0gdHJ1ZSA/ICcgcS1kYXRlLS1yZWFkb25seScgOiAnJyk7CiAgICB9LAogICAgaXNJbW1lZGlhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmVtaXRJbW1lZGlhdGVseSA9PT0gdHJ1ZSAmJiB0aGlzLm11bHRpcGxlICE9PSB0cnVlICYmIHRoaXMucmFuZ2UgIT09IHRydWU7CiAgICB9LAogICAgbm9ybWFsaXplZE1vZGVsKCkgewogICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSA9PT0gdHJ1ZSA/IHRoaXMudmFsdWUgOiB0aGlzLnZhbHVlICE9PSBudWxsICYmIHRoaXMudmFsdWUgIT09IHZvaWQgMCA/IFt0aGlzLnZhbHVlXSA6IFtdOwogICAgfSwKICAgIGRheXNNb2RlbCgpIHsKICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplZE1vZGVsLmZpbHRlcihkYXRlID0+IHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykubWFwKGRhdGUgPT4gdGhpcy5fX2RlY29kZVN0cmluZyhkYXRlLCB0aGlzLmlubmVyTWFzaywgdGhpcy5pbm5lckxvY2FsZSkpLmZpbHRlcihkYXRlID0+IGRhdGUuZGF0ZUhhc2ggIT09IG51bGwgJiYgZGF0ZS5kYXkgIT09IG51bGwgJiYgZGF0ZS5tb250aCAhPT0gbnVsbCAmJiBkYXRlLnllYXIgIT09IG51bGwpOwogICAgfSwKICAgIHJhbmdlTW9kZWwoKSB7CiAgICAgIGNvbnN0IGZuID0gZGF0ZSA9PiB0aGlzLl9fZGVjb2RlU3RyaW5nKGRhdGUsIHRoaXMuaW5uZXJNYXNrLCB0aGlzLmlubmVyTG9jYWxlKTsKICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplZE1vZGVsLmZpbHRlcihkYXRlID0+IGlzT2JqZWN0KGRhdGUpID09PSB0cnVlICYmIGRhdGUuZnJvbSAhPT0gdm9pZCAwICYmIGRhdGUudG8gIT09IHZvaWQgMCkubWFwKHJhbmdlID0+ICh7CiAgICAgICAgZnJvbTogZm4ocmFuZ2UuZnJvbSksCiAgICAgICAgdG86IGZuKHJhbmdlLnRvKQogICAgICB9KSkuZmlsdGVyKHJhbmdlID0+IHJhbmdlLmZyb20uZGF0ZUhhc2ggIT09IG51bGwgJiYgcmFuZ2UudG8uZGF0ZUhhc2ggIT09IG51bGwgJiYgcmFuZ2UuZnJvbS5kYXRlSGFzaCA8IHJhbmdlLnRvLmRhdGVIYXNoKTsKICAgIH0sCiAgICBnZXROYXRpdmVEYXRlRm4oKSB7CiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyICE9PSAncGVyc2lhbicgPyBtb2RlbCA9PiBuZXcgRGF0ZShtb2RlbC55ZWFyLCBtb2RlbC5tb250aCAtIDEsIG1vZGVsLmRheSkgOiBtb2RlbCA9PiB7CiAgICAgICAgY29uc3QgZ0RhdGUgPSB0b0dyZWdvcmlhbihtb2RlbC55ZWFyLCBtb2RlbC5tb250aCwgbW9kZWwuZGF5KTsKICAgICAgICByZXR1cm4gbmV3IERhdGUoZ0RhdGUuZ3ksIGdEYXRlLmdtIC0gMSwgZ0RhdGUuZ2QpOwogICAgICB9OwogICAgfSwKICAgIGVuY29kZU9iamVjdEZuKCkgewogICAgICByZXR1cm4gdGhpcy5jYWxlbmRhciA9PT0gJ3BlcnNpYW4nID8gdGhpcy5fX2dldERheUhhc2ggOiAoZGF0ZSwgbWFzaywgbG9jYWxlKSA9PiBmb3JtYXREYXRlKG5ldyBEYXRlKGRhdGUueWVhciwgZGF0ZS5tb250aCAtIDEsIGRhdGUuZGF5LCBkYXRlLmhvdXIsIGRhdGUubWludXRlLCBkYXRlLnNlY29uZCwgZGF0ZS5taWxsaXNlY29uZCksIG1hc2sgPT09IHZvaWQgMCA/IHRoaXMuaW5uZXJNYXNrIDogbWFzaywgbG9jYWxlID09PSB2b2lkIDAgPyB0aGlzLmlubmVyTG9jYWxlIDogbG9jYWxlLCBkYXRlLnllYXIsIGRhdGUudGltZXpvbmVPZmZzZXQpOwogICAgfSwKICAgIGRheXNJbk1vZGVsKCkgewogICAgICByZXR1cm4gdGhpcy5kYXlzTW9kZWwubGVuZ3RoICsgdGhpcy5yYW5nZU1vZGVsLnJlZHVjZSgoYWNjLCByYW5nZSkgPT4gYWNjICsgMSArIGdldERhdGVEaWZmKHRoaXMuZ2V0TmF0aXZlRGF0ZUZuKHJhbmdlLnRvKSwgdGhpcy5nZXROYXRpdmVEYXRlRm4ocmFuZ2UuZnJvbSkpLCAwKTsKICAgIH0sCiAgICBoZWFkZXJUaXRsZSgpIHsKICAgICAgaWYgKHRoaXMudGl0bGUgIT09IHZvaWQgMCAmJiB0aGlzLnRpdGxlICE9PSBudWxsICYmIHRoaXMudGl0bGUubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiB0aGlzLnRpdGxlOwogICAgICB9CiAgICAgIGlmICh0aGlzLmVkaXRSYW5nZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmVkaXRSYW5nZS5pbml0OwogICAgICAgIGNvbnN0IGRhdGUgPSB0aGlzLmdldE5hdGl2ZURhdGVGbihtb2RlbCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJMb2NhbGUuZGF5c1Nob3J0W2RhdGUuZ2V0RGF5KCldICsgJywgJyArIHRoaXMuaW5uZXJMb2NhbGUubW9udGhzU2hvcnRbbW9kZWwubW9udGggLSAxXSArICcgJyArIG1vZGVsLmRheSArIGxpbmVTdHIgKyAnPyc7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZGF5c0luTW9kZWwgPT09IDApIHsKICAgICAgICByZXR1cm4gbGluZVN0cjsKICAgICAgfQogICAgICBpZiAodGhpcy5kYXlzSW5Nb2RlbCA+IDEpIHsKICAgICAgICByZXR1cm4gYCR7dGhpcy5kYXlzSW5Nb2RlbH0gJHt0aGlzLmlubmVyTG9jYWxlLnBsdXJhbERheX1gOwogICAgICB9CiAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5kYXlzTW9kZWxbMF07CiAgICAgIGNvbnN0IGRhdGUgPSB0aGlzLmdldE5hdGl2ZURhdGVGbihtb2RlbCk7CiAgICAgIGlmIChpc05hTihkYXRlLnZhbHVlT2YoKSkgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gbGluZVN0cjsKICAgICAgfQogICAgICBpZiAodGhpcy5pbm5lckxvY2FsZS5oZWFkZXJUaXRsZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJMb2NhbGUuaGVhZGVyVGl0bGUoZGF0ZSwgbW9kZWwpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmlubmVyTG9jYWxlLmRheXNTaG9ydFtkYXRlLmdldERheSgpXSArICcsICcgKyB0aGlzLmlubmVyTG9jYWxlLm1vbnRoc1Nob3J0W21vZGVsLm1vbnRoIC0gMV0gKyAnICcgKyBtb2RlbC5kYXk7CiAgICB9LAogICAgaGVhZGVyU3VidGl0bGUoKSB7CiAgICAgIGlmICh0aGlzLnN1YnRpdGxlICE9PSB2b2lkIDAgJiYgdGhpcy5zdWJ0aXRsZSAhPT0gbnVsbCAmJiB0aGlzLnN1YnRpdGxlLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5zdWJ0aXRsZTsKICAgICAgfQogICAgICBpZiAodGhpcy5kYXlzSW5Nb2RlbCA9PT0gMCkgewogICAgICAgIHJldHVybiBsaW5lU3RyOwogICAgICB9CiAgICAgIGlmICh0aGlzLmRheXNJbk1vZGVsID4gMSkgewogICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLm1pblNlbGVjdGVkTW9kZWw7CiAgICAgICAgY29uc3QgdG8gPSB0aGlzLm1heFNlbGVjdGVkTW9kZWw7CiAgICAgICAgY29uc3QgbW9udGggPSB0aGlzLmlubmVyTG9jYWxlLm1vbnRoc1Nob3J0OwogICAgICAgIHJldHVybiBtb250aFtmcm9tLm1vbnRoIC0gMV0gKyAoZnJvbS55ZWFyICE9PSB0by55ZWFyID8gJyAnICsgZnJvbS55ZWFyICsgbGluZVN0ciArIG1vbnRoW3RvLm1vbnRoIC0gMV0gKyAnICcgOiBmcm9tLm1vbnRoICE9PSB0by5tb250aCA/IGxpbmVTdHIgKyBtb250aFt0by5tb250aCAtIDFdIDogJycpICsgJyAnICsgdG8ueWVhcjsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5kYXlzTW9kZWxbMF0ueWVhcjsKICAgIH0sCiAgICBtaW5TZWxlY3RlZE1vZGVsKCkgewogICAgICBjb25zdCBtb2RlbCA9IHRoaXMuZGF5c01vZGVsLmNvbmNhdCh0aGlzLnJhbmdlTW9kZWwubWFwKHJhbmdlID0+IHJhbmdlLmZyb20pKS5zb3J0KChhLCBiKSA9PiBhLnllYXIgLSBiLnllYXIgfHwgYS5tb250aCAtIGIubW9udGgpOwogICAgICByZXR1cm4gbW9kZWxbMF07CiAgICB9LAogICAgbWF4U2VsZWN0ZWRNb2RlbCgpIHsKICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmRheXNNb2RlbC5jb25jYXQodGhpcy5yYW5nZU1vZGVsLm1hcChyYW5nZSA9PiByYW5nZS50bykpLnNvcnQoKGEsIGIpID0+IGIueWVhciAtIGEueWVhciB8fCBiLm1vbnRoIC0gYS5tb250aCk7CiAgICAgIHJldHVybiBtb2RlbFswXTsKICAgIH0sCiAgICBkYXRlQXJyb3coKSB7CiAgICAgIGNvbnN0IHZhbCA9IFt0aGlzLiRxLmljb25TZXQuZGF0ZXRpbWUuYXJyb3dMZWZ0LCB0aGlzLiRxLmljb25TZXQuZGF0ZXRpbWUuYXJyb3dSaWdodF07CiAgICAgIHJldHVybiB0aGlzLiRxLmxhbmcucnRsID09PSB0cnVlID8gdmFsLnJldmVyc2UoKSA6IHZhbDsKICAgIH0sCiAgICBjb21wdXRlZEZpcnN0RGF5T2ZXZWVrKCkgewogICAgICByZXR1cm4gdGhpcy5maXJzdERheU9mV2VlayAhPT0gdm9pZCAwID8gTnVtYmVyKHRoaXMuZmlyc3REYXlPZldlZWspIDogdGhpcy5pbm5lckxvY2FsZS5maXJzdERheU9mV2VlazsKICAgIH0sCiAgICBkYXlzT2ZXZWVrKCkgewogICAgICBjb25zdCBkYXlzID0gdGhpcy5pbm5lckxvY2FsZS5kYXlzU2hvcnQsCiAgICAgICAgZmlyc3QgPSB0aGlzLmNvbXB1dGVkRmlyc3REYXlPZldlZWs7CiAgICAgIHJldHVybiBmaXJzdCA+IDAgPyBkYXlzLnNsaWNlKGZpcnN0LCA3KS5jb25jYXQoZGF5cy5zbGljZSgwLCBmaXJzdCkpIDogZGF5czsKICAgIH0sCiAgICBkYXlzSW5Nb250aCgpIHsKICAgICAgY29uc3QgZGF0ZSA9IHRoaXMudmlld01vZGVsOwogICAgICByZXR1cm4gdGhpcy5jYWxlbmRhciAhPT0gJ3BlcnNpYW4nID8gbmV3IERhdGUoZGF0ZS55ZWFyLCBkYXRlLm1vbnRoLCAwKS5nZXREYXRlKCkgOiBqYWxhYWxpTW9udGhMZW5ndGgoZGF0ZS55ZWFyLCBkYXRlLm1vbnRoKTsKICAgIH0sCiAgICB0b2RheSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX19nZXRDdXJyZW50RGF0ZSgpOwogICAgfSwKICAgIGV2dENvbG9yKCkgewogICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXZlbnRDb2xvciA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuZXZlbnRDb2xvciA6ICgpID0+IHRoaXMuZXZlbnRDb2xvcjsKICAgIH0sCiAgICBtaW5OYXYoKSB7CiAgICAgIGlmICh0aGlzLm5hdmlnYXRpb25NaW5ZZWFyTW9udGggIT09IHZvaWQgMCkgewogICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm5hdmlnYXRpb25NaW5ZZWFyTW9udGguc3BsaXQoJy8nKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeWVhcjogcGFyc2VJbnQoZGF0YVswXSwgMTApLAogICAgICAgICAgbW9udGg6IHBhcnNlSW50KGRhdGFbMV0sIDEwKQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBtYXhOYXYoKSB7CiAgICAgIGlmICh0aGlzLm5hdmlnYXRpb25NYXhZZWFyTW9udGggIT09IHZvaWQgMCkgewogICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLm5hdmlnYXRpb25NYXhZZWFyTW9udGguc3BsaXQoJy8nKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeWVhcjogcGFyc2VJbnQoZGF0YVswXSwgMTApLAogICAgICAgICAgbW9udGg6IHBhcnNlSW50KGRhdGFbMV0sIDEwKQogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBuYXZCb3VuZGFyaWVzKCkgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIG1vbnRoOiB7CiAgICAgICAgICBwcmV2OiB0cnVlLAogICAgICAgICAgbmV4dDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgeWVhcjogewogICAgICAgICAgcHJldjogdHJ1ZSwKICAgICAgICAgIG5leHQ6IHRydWUKICAgICAgICB9CiAgICAgIH07CiAgICAgIGlmICh0aGlzLm1pbk5hdiAhPT0gdm9pZCAwICYmIHRoaXMubWluTmF2LnllYXIgPj0gdGhpcy52aWV3TW9kZWwueWVhcikgewogICAgICAgIGRhdGEueWVhci5wcmV2ID0gZmFsc2U7CiAgICAgICAgaWYgKHRoaXMubWluTmF2LnllYXIgPT09IHRoaXMudmlld01vZGVsLnllYXIgJiYgdGhpcy5taW5OYXYubW9udGggPj0gdGhpcy52aWV3TW9kZWwubW9udGgpIHsKICAgICAgICAgIGRhdGEubW9udGgucHJldiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5tYXhOYXYgIT09IHZvaWQgMCAmJiB0aGlzLm1heE5hdi55ZWFyIDw9IHRoaXMudmlld01vZGVsLnllYXIpIHsKICAgICAgICBkYXRhLnllYXIubmV4dCA9IGZhbHNlOwogICAgICAgIGlmICh0aGlzLm1heE5hdi55ZWFyID09PSB0aGlzLnZpZXdNb2RlbC55ZWFyICYmIHRoaXMubWF4TmF2Lm1vbnRoIDw9IHRoaXMudmlld01vZGVsLm1vbnRoKSB7CiAgICAgICAgICBkYXRhLm1vbnRoLm5leHQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGRhdGE7CiAgICB9LAogICAgZGF5c01hcCgpIHsKICAgICAgY29uc3QgbWFwID0ge307CiAgICAgIHRoaXMuZGF5c01vZGVsLmZvckVhY2goZW50cnkgPT4gewogICAgICAgIGNvbnN0IGhhc2ggPSB0aGlzLl9fZ2V0TW9udGhIYXNoKGVudHJ5KTsKICAgICAgICBpZiAobWFwW2hhc2hdID09PSB2b2lkIDApIHsKICAgICAgICAgIG1hcFtoYXNoXSA9IFtdOwogICAgICAgIH0KICAgICAgICBtYXBbaGFzaF0ucHVzaChlbnRyeS5kYXkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIG1hcDsKICAgIH0sCiAgICByYW5nZU1hcCgpIHsKICAgICAgY29uc3QgbWFwID0ge307CiAgICAgIHRoaXMucmFuZ2VNb2RlbC5mb3JFYWNoKGVudHJ5ID0+IHsKICAgICAgICBjb25zdCBoYXNoRnJvbSA9IHRoaXMuX19nZXRNb250aEhhc2goZW50cnkuZnJvbSk7CiAgICAgICAgY29uc3QgaGFzaFRvID0gdGhpcy5fX2dldE1vbnRoSGFzaChlbnRyeS50byk7CiAgICAgICAgaWYgKG1hcFtoYXNoRnJvbV0gPT09IHZvaWQgMCkgewogICAgICAgICAgbWFwW2hhc2hGcm9tXSA9IFtdOwogICAgICAgIH0KICAgICAgICBtYXBbaGFzaEZyb21dLnB1c2goewogICAgICAgICAgZnJvbTogZW50cnkuZnJvbS5kYXksCiAgICAgICAgICB0bzogaGFzaEZyb20gPT09IGhhc2hUbyA/IGVudHJ5LnRvLmRheSA6IHZvaWQgMCwKICAgICAgICAgIHJhbmdlOiBlbnRyeQogICAgICAgIH0pOwogICAgICAgIGlmIChoYXNoRnJvbSA8IGhhc2hUbykgewogICAgICAgICAgbGV0IGhhc2g7CiAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgIHllYXIsCiAgICAgICAgICAgIG1vbnRoCiAgICAgICAgICB9ID0gZW50cnkuZnJvbTsKICAgICAgICAgIGNvbnN0IGN1ciA9IG1vbnRoIDwgMTIgPyB7CiAgICAgICAgICAgIHllYXIsCiAgICAgICAgICAgIG1vbnRoOiBtb250aCArIDEKICAgICAgICAgIH0gOiB7CiAgICAgICAgICAgIHllYXI6IHllYXIgKyAxLAogICAgICAgICAgICBtb250aDogMQogICAgICAgICAgfTsKICAgICAgICAgIHdoaWxlICgoaGFzaCA9IHRoaXMuX19nZXRNb250aEhhc2goY3VyKSkgPD0gaGFzaFRvKSB7CiAgICAgICAgICAgIGlmIChtYXBbaGFzaF0gPT09IHZvaWQgMCkgewogICAgICAgICAgICAgIG1hcFtoYXNoXSA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1hcFtoYXNoXS5wdXNoKHsKICAgICAgICAgICAgICBmcm9tOiB2b2lkIDAsCiAgICAgICAgICAgICAgdG86IGhhc2ggPT09IGhhc2hUbyA/IGVudHJ5LnRvLmRheSA6IHZvaWQgMCwKICAgICAgICAgICAgICByYW5nZTogZW50cnkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGN1ci5tb250aCsrOwogICAgICAgICAgICBpZiAoY3VyLm1vbnRoID4gMTIpIHsKICAgICAgICAgICAgICBjdXIueWVhcisrOwogICAgICAgICAgICAgIGN1ci5tb250aCA9IDE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gbWFwOwogICAgfSwKICAgIHJhbmdlVmlldygpIHsKICAgICAgaWYgKHRoaXMuZWRpdFJhbmdlID09PSB2b2lkIDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgewogICAgICAgIGluaXQsCiAgICAgICAgaW5pdEhhc2gsCiAgICAgICAgZmluYWwsCiAgICAgICAgZmluYWxIYXNoCiAgICAgIH0gPSB0aGlzLmVkaXRSYW5nZTsKICAgICAgY29uc3QgW2Zyb20sIHRvXSA9IGluaXRIYXNoIDw9IGZpbmFsSGFzaCA/IFtpbml0LCBmaW5hbF0gOiBbZmluYWwsIGluaXRdOwogICAgICBjb25zdCBmcm9tSGFzaCA9IHRoaXMuX19nZXRNb250aEhhc2goZnJvbSk7CiAgICAgIGNvbnN0IHRvSGFzaCA9IHRoaXMuX19nZXRNb250aEhhc2godG8pOwogICAgICBpZiAoZnJvbUhhc2ggIT09IHRoaXMudmlld01vbnRoSGFzaCAmJiB0b0hhc2ggIT09IHRoaXMudmlld01vbnRoSGFzaCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCB2aWV3ID0ge307CiAgICAgIGlmIChmcm9tSGFzaCA9PT0gdGhpcy52aWV3TW9udGhIYXNoKSB7CiAgICAgICAgdmlldy5mcm9tID0gZnJvbS5kYXk7CiAgICAgICAgdmlldy5pbmNsdWRlRnJvbSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmlldy5mcm9tID0gMTsKICAgICAgfQogICAgICBpZiAodG9IYXNoID09PSB0aGlzLnZpZXdNb250aEhhc2gpIHsKICAgICAgICB2aWV3LnRvID0gdG8uZGF5OwogICAgICAgIHZpZXcuaW5jbHVkZVRvID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2aWV3LnRvID0gdGhpcy5kYXlzSW5Nb250aDsKICAgICAgfQogICAgICByZXR1cm4gdmlldzsKICAgIH0sCiAgICB2aWV3TW9udGhIYXNoKCkgewogICAgICByZXR1cm4gdGhpcy5fX2dldE1vbnRoSGFzaCh0aGlzLnZpZXdNb2RlbCk7CiAgICB9LAogICAgc2VsZWN0aW9uRGF5c01hcCgpIHsKICAgICAgY29uc3QgbWFwID0ge307CiAgICAgIGlmICh0aGlzLm9wdGlvbnMgPT09IHZvaWQgMCkgewogICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMuZGF5c0luTW9udGg7IGkrKykgewogICAgICAgICAgbWFwW2ldID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1hcDsKICAgICAgfQogICAgICBjb25zdCBmbiA9IHR5cGVvZiB0aGlzLm9wdGlvbnMgPT09ICdmdW5jdGlvbicgPyB0aGlzLm9wdGlvbnMgOiBkYXRlID0+IHRoaXMub3B0aW9ucy5pbmNsdWRlcyhkYXRlKTsKICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdGhpcy5kYXlzSW5Nb250aDsgaSsrKSB7CiAgICAgICAgY29uc3QgZGF5SGFzaCA9IHRoaXMudmlld01vbnRoSGFzaCArICcvJyArIHBhZChpKTsKICAgICAgICBtYXBbaV0gPSBmbihkYXlIYXNoKTsKICAgICAgfQogICAgICByZXR1cm4gbWFwOwogICAgfSwKICAgIGV2ZW50RGF5c01hcCgpIHsKICAgICAgY29uc3QgbWFwID0ge307CiAgICAgIGlmICh0aGlzLmV2ZW50cyA9PT0gdm9pZCAwKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdGhpcy5kYXlzSW5Nb250aDsgaSsrKSB7CiAgICAgICAgICBtYXBbaV0gPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZm4gPSB0eXBlb2YgdGhpcy5ldmVudHMgPT09ICdmdW5jdGlvbicgPyB0aGlzLmV2ZW50cyA6IGRhdGUgPT4gdGhpcy5ldmVudHMuaW5jbHVkZXMoZGF0ZSk7CiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdGhpcy5kYXlzSW5Nb250aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBkYXlIYXNoID0gdGhpcy52aWV3TW9udGhIYXNoICsgJy8nICsgcGFkKGkpOwogICAgICAgICAgbWFwW2ldID0gZm4oZGF5SGFzaCkgPT09IHRydWUgJiYgdGhpcy5ldnRDb2xvcihkYXlIYXNoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG1hcDsKICAgIH0sCiAgICB2aWV3RGF5cygpIHsKICAgICAgbGV0IGRhdGUsIGVuZERheTsKICAgICAgY29uc3QgewogICAgICAgIHllYXIsCiAgICAgICAgbW9udGgKICAgICAgfSA9IHRoaXMudmlld01vZGVsOwogICAgICBpZiAodGhpcy5jYWxlbmRhciAhPT0gJ3BlcnNpYW4nKSB7CiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgMSk7CiAgICAgICAgZW5kRGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCAwKS5nZXREYXRlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZ0RhdGUgPSB0b0dyZWdvcmlhbih5ZWFyLCBtb250aCwgMSk7CiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGdEYXRlLmd5LCBnRGF0ZS5nbSAtIDEsIGdEYXRlLmdkKTsKICAgICAgICBsZXQgcHJldkpNID0gbW9udGggLSAxOwogICAgICAgIGxldCBwcmV2SlkgPSB5ZWFyOwogICAgICAgIGlmIChwcmV2Sk0gPT09IDApIHsKICAgICAgICAgIHByZXZKTSA9IDEyOwogICAgICAgICAgcHJldkpZLS07CiAgICAgICAgfQogICAgICAgIGVuZERheSA9IGphbGFhbGlNb250aExlbmd0aChwcmV2SlksIHByZXZKTSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBkYXlzOiBkYXRlLmdldERheSgpIC0gdGhpcy5jb21wdXRlZEZpcnN0RGF5T2ZXZWVrIC0gMSwKICAgICAgICBlbmREYXkKICAgICAgfTsKICAgIH0sCiAgICBkYXlzKCkgewogICAgICBjb25zdCByZXMgPSBbXTsKICAgICAgY29uc3QgewogICAgICAgIGRheXMsCiAgICAgICAgZW5kRGF5CiAgICAgIH0gPSB0aGlzLnZpZXdEYXlzOwogICAgICBjb25zdCBsZW4gPSBkYXlzIDwgMCA/IGRheXMgKyA3IDogZGF5czsKICAgICAgaWYgKGxlbiA8IDYpIHsKICAgICAgICBmb3IgKGxldCBpID0gZW5kRGF5IC0gbGVuOyBpIDw9IGVuZERheTsgaSsrKSB7CiAgICAgICAgICByZXMucHVzaCh7CiAgICAgICAgICAgIGksCiAgICAgICAgICAgIGZpbGw6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICBjb25zdCBpbmRleCA9IHJlcy5sZW5ndGg7CiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMuZGF5c0luTW9udGg7IGkrKykgewogICAgICAgIGNvbnN0IGRheSA9IHsKICAgICAgICAgIGksCiAgICAgICAgICBldmVudDogdGhpcy5ldmVudERheXNNYXBbaV0sCiAgICAgICAgICBjbGFzc2VzOiBbXQogICAgICAgIH07CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uRGF5c01hcFtpXSA9PT0gdHJ1ZSkgewogICAgICAgICAgZGF5LmluID0gdHJ1ZTsKICAgICAgICAgIGRheS5mbGF0ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgcmVzLnB1c2goZGF5KTsKICAgICAgfQoKICAgICAgLy8gaWYgY3VycmVudCB2aWV3IGhhcyBkYXlzIGluIG1vZGVsCiAgICAgIGlmICh0aGlzLmRheXNNYXBbdGhpcy52aWV3TW9udGhIYXNoXSAhPT0gdm9pZCAwKSB7CiAgICAgICAgdGhpcy5kYXlzTWFwW3RoaXMudmlld01vbnRoSGFzaF0uZm9yRWFjaChkYXkgPT4gewogICAgICAgICAgY29uc3QgaSA9IGluZGV4ICsgZGF5IC0gMTsKICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzW2ldLCB7CiAgICAgICAgICAgIHNlbGVjdGVkOiB0cnVlLAogICAgICAgICAgICB1bmVsZXZhdGVkOiB0cnVlLAogICAgICAgICAgICBmbGF0OiBmYWxzZSwKICAgICAgICAgICAgY29sb3I6IHRoaXMuY29tcHV0ZWRDb2xvciwKICAgICAgICAgICAgdGV4dENvbG9yOiB0aGlzLmNvbXB1dGVkVGV4dENvbG9yCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgLy8gaWYgY3VycmVudCB2aWV3IGhhcyByYW5nZXMgaW4gbW9kZWwKICAgICAgaWYgKHRoaXMucmFuZ2VNYXBbdGhpcy52aWV3TW9udGhIYXNoXSAhPT0gdm9pZCAwKSB7CiAgICAgICAgdGhpcy5yYW5nZU1hcFt0aGlzLnZpZXdNb250aEhhc2hdLmZvckVhY2goZW50cnkgPT4gewogICAgICAgICAgaWYgKGVudHJ5LmZyb20gIT09IHZvaWQgMCkgewogICAgICAgICAgICBjb25zdCBmcm9tID0gaW5kZXggKyBlbnRyeS5mcm9tIC0gMTsKICAgICAgICAgICAgY29uc3QgdG8gPSBpbmRleCArIChlbnRyeS50byB8fCB0aGlzLmRheXNJbk1vbnRoKSAtIDE7CiAgICAgICAgICAgIGZvciAobGV0IGRheSA9IGZyb207IGRheSA8PSB0bzsgZGF5KyspIHsKICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc1tkYXldLCB7CiAgICAgICAgICAgICAgICByYW5nZTogZW50cnkucmFuZ2UsCiAgICAgICAgICAgICAgICB1bmVsZXZhdGVkOiB0cnVlLAogICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuY29tcHV0ZWRDb2xvciwKICAgICAgICAgICAgICAgIHRleHRDb2xvcjogdGhpcy5jb21wdXRlZFRleHRDb2xvcgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzW2Zyb21dLCB7CiAgICAgICAgICAgICAgcmFuZ2VGcm9tOiB0cnVlLAogICAgICAgICAgICAgIGZsYXQ6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBlbnRyeS50byAhPT0gdm9pZCAwICYmIE9iamVjdC5hc3NpZ24ocmVzW3RvXSwgewogICAgICAgICAgICAgIHJhbmdlVG86IHRydWUsCiAgICAgICAgICAgICAgZmxhdDogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVudHJ5LnRvICE9PSB2b2lkIDApIHsKICAgICAgICAgICAgY29uc3QgdG8gPSBpbmRleCArIGVudHJ5LnRvIC0gMTsKICAgICAgICAgICAgZm9yIChsZXQgZGF5ID0gaW5kZXg7IGRheSA8PSB0bzsgZGF5KyspIHsKICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc1tkYXldLCB7CiAgICAgICAgICAgICAgICByYW5nZTogZW50cnkucmFuZ2UsCiAgICAgICAgICAgICAgICB1bmVsZXZhdGVkOiB0cnVlLAogICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuY29tcHV0ZWRDb2xvciwKICAgICAgICAgICAgICAgIHRleHRDb2xvcjogdGhpcy5jb21wdXRlZFRleHRDb2xvcgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzW3RvXSwgewogICAgICAgICAgICAgIGZsYXQ6IGZhbHNlLAogICAgICAgICAgICAgIHJhbmdlVG86IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCB0byA9IGluZGV4ICsgdGhpcy5kYXlzSW5Nb250aCAtIDE7CiAgICAgICAgICAgIGZvciAobGV0IGRheSA9IGluZGV4OyBkYXkgPD0gdG87IGRheSsrKSB7CiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXNbZGF5XSwgewogICAgICAgICAgICAgICAgcmFuZ2U6IGVudHJ5LnJhbmdlLAogICAgICAgICAgICAgICAgdW5lbGV2YXRlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbXB1dGVkQ29sb3IsCiAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IHRoaXMuY29tcHV0ZWRUZXh0Q29sb3IKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLnJhbmdlVmlldyAhPT0gdm9pZCAwKSB7CiAgICAgICAgY29uc3QgZnJvbSA9IGluZGV4ICsgdGhpcy5yYW5nZVZpZXcuZnJvbSAtIDE7CiAgICAgICAgY29uc3QgdG8gPSBpbmRleCArIHRoaXMucmFuZ2VWaWV3LnRvIC0gMTsKICAgICAgICBmb3IgKGxldCBkYXkgPSBmcm9tOyBkYXkgPD0gdG87IGRheSsrKSB7CiAgICAgICAgICByZXNbZGF5XS5jb2xvciA9IHRoaXMuY29tcHV0ZWRDb2xvcjsKICAgICAgICAgIHJlc1tkYXldLmVkaXRSYW5nZSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnJhbmdlVmlldy5pbmNsdWRlRnJvbSA9PT0gdHJ1ZSkgewogICAgICAgICAgcmVzW2Zyb21dLmVkaXRSYW5nZUZyb20gPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yYW5nZVZpZXcuaW5jbHVkZVRvID09PSB0cnVlKSB7CiAgICAgICAgICByZXNbdG9dLmVkaXRSYW5nZVRvID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHRoaXMudmlld01vZGVsLnllYXIgPT09IHRoaXMudG9kYXkueWVhciAmJiB0aGlzLnZpZXdNb2RlbC5tb250aCA9PT0gdGhpcy50b2RheS5tb250aCkgewogICAgICAgIHJlc1tpbmRleCArIHRoaXMudG9kYXkuZGF5IC0gMV0udG9kYXkgPSB0cnVlOwogICAgICB9CiAgICAgIGNvbnN0IGxlZnQgPSByZXMubGVuZ3RoICUgNzsKICAgICAgaWYgKGxlZnQgPiAwKSB7CiAgICAgICAgY29uc3QgYWZ0ZXJEYXlzID0gNyAtIGxlZnQ7CiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gYWZ0ZXJEYXlzOyBpKyspIHsKICAgICAgICAgIHJlcy5wdXNoKHsKICAgICAgICAgICAgaSwKICAgICAgICAgICAgZmlsbDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJlcy5mb3JFYWNoKGRheSA9PiB7CiAgICAgICAgbGV0IGNscyA9ICdxLWRhdGVfX2NhbGVuZGFyLWl0ZW0gJzsKICAgICAgICBpZiAoZGF5LmZpbGwgPT09IHRydWUpIHsKICAgICAgICAgIGNscyArPSAncS1kYXRlX19jYWxlbmRhci1pdGVtLS1maWxsJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2xzICs9IGBxLWRhdGVfX2NhbGVuZGFyLWl0ZW0tLSR7ZGF5LmluID09PSB0cnVlID8gJ2luJyA6ICdvdXQnfWA7CiAgICAgICAgICBpZiAoZGF5LnJhbmdlICE9PSB2b2lkIDApIHsKICAgICAgICAgICAgY2xzICs9IGAgcS1kYXRlX19yYW5nZSR7ZGF5LnJhbmdlVG8gPT09IHRydWUgPyAnLXRvJyA6IGRheS5yYW5nZUZyb20gPT09IHRydWUgPyAnLWZyb20nIDogJyd9YDsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChkYXkuZWRpdFJhbmdlID09PSB0cnVlKSB7CiAgICAgICAgICAgIGNscyArPSBgIHEtZGF0ZV9fZWRpdC1yYW5nZSR7ZGF5LmVkaXRSYW5nZUZyb20gPT09IHRydWUgPyAnLWZyb20nIDogJyd9JHtkYXkuZWRpdFJhbmdlVG8gPT09IHRydWUgPyAnLXRvJyA6ICcnfWA7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZGF5LnJhbmdlICE9PSB2b2lkIDAgfHwgZGF5LmVkaXRSYW5nZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBjbHMgKz0gYCB0ZXh0LSR7ZGF5LmNvbG9yfWA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGRheS5jbGFzc2VzID0gY2xzOwogICAgICB9KTsKICAgICAgcmV0dXJuIHJlczsKICAgIH0sCiAgICBhdHRycygpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZSA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAnYXJpYS1kaXNhYmxlZCc6ICd0cnVlJwogICAgICAgIH07CiAgICAgIH0KICAgICAgaWYgKHRoaXMucmVhZG9ubHkgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgJ2FyaWEtcmVhZG9ubHknOiAndHJ1ZScKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRUb2RheSgpIHsKICAgICAgY29uc3QgZGF0ZSA9IHRoaXMudG9kYXk7CiAgICAgIGNvbnN0IG1vbnRoID0gdGhpcy5kYXlzTWFwW3RoaXMuX19nZXRNb250aEhhc2goZGF0ZSldOwogICAgICBpZiAobW9udGggPT09IHZvaWQgMCB8fCBtb250aC5pbmNsdWRlcyhkYXRlLmRheSkgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5fX2FkZFRvTW9kZWwoZGF0ZSk7CiAgICAgIH0KICAgICAgdGhpcy5zZXRDYWxlbmRhclRvKHRoaXMudG9kYXkueWVhciwgdGhpcy50b2RheS5tb250aCk7CiAgICB9LAogICAgc2V0Vmlldyh2aWV3KSB7CiAgICAgIGlmICh2aWV3SXNWYWxpZCh2aWV3KSA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMudmlldyA9IHZpZXc7CiAgICAgIH0KICAgIH0sCiAgICBvZmZzZXRDYWxlbmRhcih0eXBlLCBkZXNjZW5kaW5nKSB7CiAgICAgIGlmIChbJ21vbnRoJywgJ3llYXInXS5pbmNsdWRlcyh0eXBlKSkgewogICAgICAgIHRoaXNbYF9fZ29UbyR7dHlwZSA9PT0gJ21vbnRoJyA/ICdNb250aCcgOiAnWWVhcid9YF0oZGVzY2VuZGluZyA9PT0gdHJ1ZSA/IC0xIDogMSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRDYWxlbmRhclRvKHllYXIsIG1vbnRoKSB7CiAgICAgIHRoaXMudmlldyA9ICdDYWxlbmRhcic7CiAgICAgIHRoaXMuX191cGRhdGVWaWV3TW9kZWwoeWVhciwgbW9udGgpOwogICAgfSwKICAgIHNldEVkaXRpbmdSYW5nZShmcm9tLCB0bykgewogICAgICBpZiAodGhpcy5yYW5nZSA9PT0gZmFsc2UgfHwgIWZyb20pIHsKICAgICAgICB0aGlzLmVkaXRSYW5nZSA9IHZvaWQgMDsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgaW5pdCA9IE9iamVjdC5hc3NpZ24oewogICAgICAgIC4uLnRoaXMudmlld01vZGVsCiAgICAgIH0sIGZyb20pOwogICAgICBjb25zdCBmaW5hbCA9IHRvICE9PSB2b2lkIDAgPyBPYmplY3QuYXNzaWduKHsKICAgICAgICAuLi50aGlzLnZpZXdNb2RlbAogICAgICB9LCB0bykgOiBpbml0OwogICAgICB0aGlzLmVkaXRSYW5nZSA9IHsKICAgICAgICBpbml0LAogICAgICAgIGluaXRIYXNoOiB0aGlzLl9fZ2V0RGF5SGFzaChpbml0KSwKICAgICAgICBmaW5hbCwKICAgICAgICBmaW5hbEhhc2g6IHRoaXMuX19nZXREYXlIYXNoKGZpbmFsKQogICAgICB9OwogICAgICB0aGlzLnNldENhbGVuZGFyVG8oaW5pdC55ZWFyLCBpbml0Lm1vbnRoKTsKICAgIH0sCiAgICBfX2dldE1hc2soKSB7CiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyID09PSAncGVyc2lhbicgPyAnWVlZWS9NTS9ERCcgOiB0aGlzLm1hc2s7CiAgICB9LAogICAgX19kZWNvZGVTdHJpbmcoZGF0ZSwgbWFzaywgbG9jYWxlKSB7CiAgICAgIHJldHVybiBfX3NwbGl0RGF0ZShkYXRlLCBtYXNrLCBsb2NhbGUsIHRoaXMuY2FsZW5kYXIsIHsKICAgICAgICBob3VyOiAwLAogICAgICAgIG1pbnV0ZTogMCwKICAgICAgICBzZWNvbmQ6IDAsCiAgICAgICAgbWlsbGlzZWNvbmQ6IDAKICAgICAgfSk7CiAgICB9LAogICAgX19nZXRWaWV3TW9kZWwobWFzaywgbG9jYWxlKSB7CiAgICAgIGNvbnN0IG1vZGVsID0gQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSA9PT0gdHJ1ZSA/IHRoaXMudmFsdWUgOiB0aGlzLnZhbHVlID8gW3RoaXMudmFsdWVdIDogW107CiAgICAgIGlmIChtb2RlbC5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5fX2dldERlZmF1bHRWaWV3TW9kZWwoKTsKICAgICAgfQogICAgICBjb25zdCBkZWNvZGVkID0gdGhpcy5fX2RlY29kZVN0cmluZyhtb2RlbFswXS5mcm9tICE9PSB2b2lkIDAgPyBtb2RlbFswXS5mcm9tIDogbW9kZWxbMF0sIG1hc2ssIGxvY2FsZSk7CiAgICAgIHJldHVybiBkZWNvZGVkLmRhdGVIYXNoID09PSBudWxsID8gdGhpcy5fX2dldERlZmF1bHRWaWV3TW9kZWwoKSA6IGRlY29kZWQ7CiAgICB9LAogICAgX19nZXREZWZhdWx0Vmlld01vZGVsKCkgewogICAgICBsZXQgeWVhciwgbW9udGg7CiAgICAgIGlmICh0aGlzLmRlZmF1bHRZZWFyTW9udGggIT09IHZvaWQgMCkgewogICAgICAgIGNvbnN0IGQgPSB0aGlzLmRlZmF1bHRZZWFyTW9udGguc3BsaXQoJy8nKTsKICAgICAgICB5ZWFyID0gcGFyc2VJbnQoZFswXSwgMTApOwogICAgICAgIG1vbnRoID0gcGFyc2VJbnQoZFsxXSwgMTApOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIG1heSBjb21lIGZyb20gZGF0YSgpIHdoZXJlIGNvbXB1dGVkCiAgICAgICAgLy8gcHJvcHMgYXJlIG5vdCB5ZXQgYXZhaWxhYmxlCiAgICAgICAgY29uc3QgZCA9IHRoaXMudG9kYXkgIT09IHZvaWQgMCA/IHRoaXMudG9kYXkgOiB0aGlzLl9fZ2V0Q3VycmVudERhdGUoKTsKICAgICAgICB5ZWFyID0gZC55ZWFyOwogICAgICAgIG1vbnRoID0gZC5tb250aDsKICAgICAgfQogICAgICByZXR1cm4gewogICAgICAgIHllYXIsCiAgICAgICAgbW9udGgsCiAgICAgICAgZGF5OiAxLAogICAgICAgIGhvdXI6IDAsCiAgICAgICAgbWludXRlOiAwLAogICAgICAgIHNlY29uZDogMCwKICAgICAgICBtaWxsaXNlY29uZDogMCwKICAgICAgICBkYXRlSGFzaDogeWVhciArICcvJyArIHBhZChtb250aCkgKyAnLzAxJwogICAgICB9OwogICAgfSwKICAgIF9fZ2V0SGVhZGVyKGgpIHsKICAgICAgaWYgKHRoaXMubWluaW1hbCA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICByZXR1cm4gaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19oZWFkZXInLAogICAgICAgIGNsYXNzOiB0aGlzLmhlYWRlckNsYXNzCiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdyZWxhdGl2ZS1wb3NpdGlvbicKICAgICAgfSwgW2goJ3RyYW5zaXRpb24nLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIG5hbWU6ICdxLXRyYW5zaXRpb24tLWZhZGUnCiAgICAgICAgfQogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIGtleTogJ2gteXItJyArIHRoaXMuaGVhZGVyU3VidGl0bGUsCiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX2hlYWRlci1zdWJ0aXRsZSBxLWRhdGVfX2hlYWRlci1saW5rJywKICAgICAgICBjbGFzczogdGhpcy52aWV3ID09PSAnWWVhcnMnID8gJ3EtZGF0ZV9faGVhZGVyLWxpbmstLWFjdGl2ZScgOiAnY3Vyc29yLXBvaW50ZXInLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4CiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ3ZZJywgewogICAgICAgICAgY2xpY2s6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy52aWV3ID0gJ1llYXJzJzsKICAgICAgICAgIH0sCiAgICAgICAgICBrZXl1cDogZSA9PiB7CiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gMTMgJiYgKHRoaXMudmlldyA9ICdZZWFycycpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0sIFt0aGlzLmhlYWRlclN1YnRpdGxlXSldKV0pLCBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX2hlYWRlci10aXRsZSByZWxhdGl2ZS1wb3NpdGlvbiBmbGV4IG5vLXdyYXAnCiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdyZWxhdGl2ZS1wb3NpdGlvbiBjb2wnCiAgICAgIH0sIFtoKCd0cmFuc2l0aW9uJywgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBuYW1lOiAncS10cmFuc2l0aW9uLS1mYWRlJwogICAgICAgIH0KICAgICAgfSwgW2goJ2RpdicsIHsKICAgICAgICBrZXk6ICdoLXN1YicgKyB0aGlzLmhlYWRlclRpdGxlLAogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19oZWFkZXItdGl0bGUtbGFiZWwgcS1kYXRlX19oZWFkZXItbGluaycsCiAgICAgICAgY2xhc3M6IHRoaXMudmlldyA9PT0gJ0NhbGVuZGFyJyA/ICdxLWRhdGVfX2hlYWRlci1saW5rLS1hY3RpdmUnIDogJ2N1cnNvci1wb2ludGVyJywKICAgICAgICBhdHRyczogewogICAgICAgICAgdGFiaW5kZXg6IHRoaXMuY29tcHV0ZWRUYWJpbmRleAogICAgICAgIH0sCiAgICAgICAgb246IGNhY2hlKHRoaXMsICd2QycsIHsKICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMudmlldyA9ICdDYWxlbmRhcic7CiAgICAgICAgICB9LAogICAgICAgICAga2V5dXA6IGUgPT4gewogICAgICAgICAgICBlLmtleUNvZGUgPT09IDEzICYmICh0aGlzLnZpZXcgPSAnQ2FsZW5kYXInKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9LCBbdGhpcy5oZWFkZXJUaXRsZV0pXSldKSwgdGhpcy50b2RheUJ0biA9PT0gdHJ1ZSA/IGgoUUJ0biwgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19oZWFkZXItdG9kYXkgc2VsZi1zdGFydCcsCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIGljb246IHRoaXMuJHEuaWNvblNldC5kYXRldGltZS50b2RheSwKICAgICAgICAgIGZsYXQ6IHRydWUsCiAgICAgICAgICBzaXplOiAnc20nLAogICAgICAgICAgcm91bmQ6IHRydWUsCiAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4CiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ3RvZGF5JywgewogICAgICAgICAgY2xpY2s6IHRoaXMuc2V0VG9kYXkKICAgICAgICB9KQogICAgICB9KSA6IG51bGxdKV0pOwogICAgfSwKICAgIF9fZ2V0TmF2aWdhdGlvbihoLCB7CiAgICAgIGxhYmVsLAogICAgICB2aWV3LAogICAgICBrZXksCiAgICAgIGRpciwKICAgICAgZ29UbywKICAgICAgYm91bmRhcmllcywKICAgICAgY2xzCiAgICB9KSB7CiAgICAgIHJldHVybiBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncm93IGl0ZW1zLWNlbnRlciBxLWRhdGVfX2Fycm93JwogICAgICB9LCBbaChRQnRuLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHJvdW5kOiB0cnVlLAogICAgICAgICAgZGVuc2U6IHRydWUsCiAgICAgICAgICBzaXplOiAnc20nLAogICAgICAgICAgZmxhdDogdHJ1ZSwKICAgICAgICAgIGljb246IHRoaXMuZGF0ZUFycm93WzBdLAogICAgICAgICAgdGFiaW5kZXg6IHRoaXMuY29tcHV0ZWRUYWJpbmRleCwKICAgICAgICAgIGRpc2FibGU6IGJvdW5kYXJpZXMucHJldiA9PT0gZmFsc2UKICAgICAgICB9LAogICAgICAgIG9uOiBjYWNoZSh0aGlzLCAnZ28tIycgKyB2aWV3LCB7CiAgICAgICAgICBjbGljaygpIHsKICAgICAgICAgICAgZ29UbygtMSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSldKSwgaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncmVsYXRpdmUtcG9zaXRpb24gb3ZlcmZsb3ctaGlkZGVuIGZsZXggZmxleC1jZW50ZXInICsgY2xzCiAgICAgIH0sIFtoKCd0cmFuc2l0aW9uJywgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBuYW1lOiAncS10cmFuc2l0aW9uLS1qdW1wLScgKyBkaXIKICAgICAgICB9CiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAga2V5CiAgICAgIH0sIFtoKFFCdG4sIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgZmxhdDogdHJ1ZSwKICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgbm9DYXBzOiB0cnVlLAogICAgICAgICAgbGFiZWwsCiAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4CiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ3ZpZXcjJyArIHZpZXcsIHsKICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMudmlldyA9IHZpZXc7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSldKV0pXSksIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3JvdyBpdGVtcy1jZW50ZXIgcS1kYXRlX19hcnJvdycKICAgICAgfSwgW2goUUJ0biwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICByb3VuZDogdHJ1ZSwKICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgc2l6ZTogJ3NtJywKICAgICAgICAgIGZsYXQ6IHRydWUsCiAgICAgICAgICBpY29uOiB0aGlzLmRhdGVBcnJvd1sxXSwKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgsCiAgICAgICAgICBkaXNhYmxlOiBib3VuZGFyaWVzLm5leHQgPT09IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ2dvKyMnICsgdmlldywgewogICAgICAgICAgY2xpY2soKSB7CiAgICAgICAgICAgIGdvVG8oMSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSldKV07CiAgICB9LAogICAgX19nZXRDYWxlbmRhclZpZXcoaCkgewogICAgICByZXR1cm4gW2goJ2RpdicsIHsKICAgICAgICBrZXk6ICdjYWxlbmRhci12aWV3JywKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fdmlldyBxLWRhdGVfX2NhbGVuZGFyJwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19uYXZpZ2F0aW9uIHJvdyBpdGVtcy1jZW50ZXIgbm8td3JhcCcKICAgICAgfSwgdGhpcy5fX2dldE5hdmlnYXRpb24oaCwgewogICAgICAgIGxhYmVsOiB0aGlzLmlubmVyTG9jYWxlLm1vbnRoc1t0aGlzLnZpZXdNb2RlbC5tb250aCAtIDFdLAogICAgICAgIHZpZXc6ICdNb250aHMnLAogICAgICAgIGtleTogdGhpcy52aWV3TW9kZWwubW9udGgsCiAgICAgICAgZGlyOiB0aGlzLm1vbnRoRGlyZWN0aW9uLAogICAgICAgIGdvVG86IHRoaXMuX19nb1RvTW9udGgsCiAgICAgICAgYm91bmRhcmllczogdGhpcy5uYXZCb3VuZGFyaWVzLm1vbnRoLAogICAgICAgIGNsczogJyBjb2wnCiAgICAgIH0pLmNvbmNhdCh0aGlzLl9fZ2V0TmF2aWdhdGlvbihoLCB7CiAgICAgICAgbGFiZWw6IHRoaXMudmlld01vZGVsLnllYXIsCiAgICAgICAgdmlldzogJ1llYXJzJywKICAgICAgICBrZXk6IHRoaXMudmlld01vZGVsLnllYXIsCiAgICAgICAgZGlyOiB0aGlzLnllYXJEaXJlY3Rpb24sCiAgICAgICAgZ29UbzogdGhpcy5fX2dvVG9ZZWFyLAogICAgICAgIGJvdW5kYXJpZXM6IHRoaXMubmF2Qm91bmRhcmllcy55ZWFyLAogICAgICAgIGNsczogJycKICAgICAgfSkpKSwgaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19jYWxlbmRhci13ZWVrZGF5cyByb3cgaXRlbXMtY2VudGVyIG5vLXdyYXAnCiAgICAgIH0sIHRoaXMuZGF5c09mV2Vlay5tYXAoZGF5ID0+IGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fY2FsZW5kYXItaXRlbScKICAgICAgfSwgW2goJ2RpdicsIFtkYXldKV0pKSksIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fY2FsZW5kYXItZGF5cy1jb250YWluZXIgcmVsYXRpdmUtcG9zaXRpb24gb3ZlcmZsb3ctaGlkZGVuJwogICAgICB9LCBbaCgndHJhbnNpdGlvbicsIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgbmFtZTogJ3EtdHJhbnNpdGlvbi0tc2xpZGUtJyArIHRoaXMubW9udGhEaXJlY3Rpb24KICAgICAgICB9CiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAga2V5OiB0aGlzLnZpZXdNb250aEhhc2gsCiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX2NhbGVuZGFyLWRheXMgZml0JwogICAgICB9LCB0aGlzLmRheXMubWFwKGRheSA9PiBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6IGRheS5jbGFzc2VzCiAgICAgIH0sIFtkYXkuaW4gPT09IHRydWUgPyBoKFFCdG4sIHsKICAgICAgICBzdGF0aWNDbGFzczogZGF5LnRvZGF5ID09PSB0cnVlID8gJ3EtZGF0ZV9fdG9kYXknIDogbnVsbCwKICAgICAgICBwcm9wczogewogICAgICAgICAgZGVuc2U6IHRydWUsCiAgICAgICAgICBmbGF0OiBkYXkuZmxhdCwKICAgICAgICAgIHVuZWxldmF0ZWQ6IGRheS51bmVsZXZhdGVkLAogICAgICAgICAgY29sb3I6IGRheS5jb2xvciwKICAgICAgICAgIHRleHRDb2xvcjogZGF5LnRleHRDb2xvciwKICAgICAgICAgIGxhYmVsOiBkYXkuaSwKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgKICAgICAgICB9LAogICAgICAgIG9uOiBjYWNoZSh0aGlzLCAnZGF5IycgKyBkYXkuaSwgewogICAgICAgICAgY2xpY2s6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5fX29uRGF5Q2xpY2soZGF5LmkpOwogICAgICAgICAgfSwKICAgICAgICAgIG1vdXNlb3ZlcjogKCkgPT4gewogICAgICAgICAgICB0aGlzLl9fb25EYXlNb3VzZW92ZXIoZGF5LmkpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0sIGRheS5ldmVudCAhPT0gZmFsc2UgPyBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19ldmVudCBiZy0nICsgZGF5LmV2ZW50CiAgICAgIH0pXSA6IG51bGwpIDogaCgnZGl2JywgW2RheS5pXSldKSkpXSldKV0pXTsKICAgIH0sCiAgICBfX2dldE1vbnRoc1ZpZXcoaCkgewogICAgICBjb25zdCBjdXJyZW50WWVhciA9IHRoaXMudmlld01vZGVsLnllYXIgPT09IHRoaXMudG9kYXkueWVhcjsKICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IG1vbnRoID0+IHsKICAgICAgICByZXR1cm4gdGhpcy5taW5OYXYgIT09IHZvaWQgMCAmJiB0aGlzLnZpZXdNb2RlbC55ZWFyID09PSB0aGlzLm1pbk5hdi55ZWFyICYmIHRoaXMubWluTmF2Lm1vbnRoID4gbW9udGggfHwgdGhpcy5tYXhOYXYgIT09IHZvaWQgMCAmJiB0aGlzLnZpZXdNb2RlbC55ZWFyID09PSB0aGlzLm1heE5hdi55ZWFyICYmIHRoaXMubWF4TmF2Lm1vbnRoIDwgbW9udGg7CiAgICAgIH07CiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmlubmVyTG9jYWxlLm1vbnRoc1Nob3J0Lm1hcCgobW9udGgsIGkpID0+IHsKICAgICAgICBjb25zdCBhY3RpdmUgPSB0aGlzLnZpZXdNb2RlbC5tb250aCA9PT0gaSArIDE7CiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19tb250aHMtaXRlbSBmbGV4IGZsZXgtY2VudGVyJwogICAgICAgIH0sIFtoKFFCdG4sIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiBjdXJyZW50WWVhciA9PT0gdHJ1ZSAmJiB0aGlzLnRvZGF5Lm1vbnRoID09PSBpICsgMSA/ICdxLWRhdGVfX3RvZGF5JyA6IG51bGwsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBmbGF0OiBhY3RpdmUgIT09IHRydWUsCiAgICAgICAgICAgIGxhYmVsOiBtb250aCwKICAgICAgICAgICAgdW5lbGV2YXRlZDogYWN0aXZlLAogICAgICAgICAgICBjb2xvcjogYWN0aXZlID09PSB0cnVlID8gdGhpcy5jb21wdXRlZENvbG9yIDogbnVsbCwKICAgICAgICAgICAgdGV4dENvbG9yOiBhY3RpdmUgPT09IHRydWUgPyB0aGlzLmNvbXB1dGVkVGV4dENvbG9yIDogbnVsbCwKICAgICAgICAgICAgdGFiaW5kZXg6IHRoaXMuY29tcHV0ZWRUYWJpbmRleCwKICAgICAgICAgICAgZGlzYWJsZTogaXNEaXNhYmxlZChpICsgMSkKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogY2FjaGUodGhpcywgJ21vbnRoIycgKyBpLCB7CiAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5fX3NldE1vbnRoKGkgKyAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9KV0pOwogICAgICB9KTsKICAgICAgdGhpcy55ZWFyc0luTW9udGhWaWV3ID09PSB0cnVlICYmIGNvbnRlbnQudW5zaGlmdChoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdyb3cgbm8td3JhcCBmdWxsLXdpZHRoJwogICAgICB9LCBbdGhpcy5fX2dldE5hdmlnYXRpb24oaCwgewogICAgICAgIGxhYmVsOiB0aGlzLnZpZXdNb2RlbC55ZWFyLAogICAgICAgIHZpZXc6ICdZZWFycycsCiAgICAgICAga2V5OiB0aGlzLnZpZXdNb2RlbC55ZWFyLAogICAgICAgIGRpcjogdGhpcy55ZWFyRGlyZWN0aW9uLAogICAgICAgIGdvVG86IHRoaXMuX19nb1RvWWVhciwKICAgICAgICBib3VuZGFyaWVzOiB0aGlzLm5hdkJvdW5kYXJpZXMueWVhciwKICAgICAgICBjbHM6ICcgY29sJwogICAgICB9KV0pKTsKICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICBrZXk6ICdtb250aHMtdmlldycsCiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX3ZpZXcgcS1kYXRlX19tb250aHMgZmxleCBmbGV4LWNlbnRlcicKICAgICAgfSwgY29udGVudCk7CiAgICB9LAogICAgX19nZXRZZWFyc1ZpZXcoaCkgewogICAgICBjb25zdCBzdGFydCA9IHRoaXMuc3RhcnRZZWFyLAogICAgICAgIHN0b3AgPSBzdGFydCArIHllYXJzSW50ZXJ2YWwsCiAgICAgICAgeWVhcnMgPSBbXTsKICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IHllYXIgPT4gewogICAgICAgIHJldHVybiB0aGlzLm1pbk5hdiAhPT0gdm9pZCAwICYmIHRoaXMubWluTmF2LnllYXIgPiB5ZWFyIHx8IHRoaXMubWF4TmF2ICE9PSB2b2lkIDAgJiYgdGhpcy5tYXhOYXYueWVhciA8IHllYXI7CiAgICAgIH07CiAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBzdG9wOyBpKyspIHsKICAgICAgICBjb25zdCBhY3RpdmUgPSB0aGlzLnZpZXdNb2RlbC55ZWFyID09PSBpOwogICAgICAgIHllYXJzLnB1c2goaCgnZGl2JywgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX3llYXJzLWl0ZW0gZmxleCBmbGV4LWNlbnRlcicKICAgICAgICB9LCBbaChRQnRuLCB7CiAgICAgICAgICBrZXk6ICd5cicgKyBpLAogICAgICAgICAgc3RhdGljQ2xhc3M6IHRoaXMudG9kYXkueWVhciA9PT0gaSA/ICdxLWRhdGVfX3RvZGF5JyA6IG51bGwsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBmbGF0OiAhYWN0aXZlLAogICAgICAgICAgICBsYWJlbDogaSwKICAgICAgICAgICAgZGVuc2U6IHRydWUsCiAgICAgICAgICAgIHVuZWxldmF0ZWQ6IGFjdGl2ZSwKICAgICAgICAgICAgY29sb3I6IGFjdGl2ZSA9PT0gdHJ1ZSA/IHRoaXMuY29tcHV0ZWRDb2xvciA6IG51bGwsCiAgICAgICAgICAgIHRleHRDb2xvcjogYWN0aXZlID09PSB0cnVlID8gdGhpcy5jb21wdXRlZFRleHRDb2xvciA6IG51bGwsCiAgICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgsCiAgICAgICAgICAgIGRpc2FibGU6IGlzRGlzYWJsZWQoaSkKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogY2FjaGUodGhpcywgJ3lyIycgKyBpLCB7CiAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5fX3NldFllYXIoaSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSldKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fdmlldyBxLWRhdGVfX3llYXJzIGZsZXggZmxleC1jZW50ZXInCiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdjb2wtYXV0bycKICAgICAgfSwgW2goUUJ0biwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICByb3VuZDogdHJ1ZSwKICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgZmxhdDogdHJ1ZSwKICAgICAgICAgIGljb246IHRoaXMuZGF0ZUFycm93WzBdLAogICAgICAgICAgdGFiaW5kZXg6IHRoaXMuY29tcHV0ZWRUYWJpbmRleCwKICAgICAgICAgIGRpc2FibGU6IGlzRGlzYWJsZWQoc3RhcnQpCiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ3ktJywgewogICAgICAgICAgY2xpY2s6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5zdGFydFllYXIgLT0geWVhcnNJbnRlcnZhbDsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KV0pLCBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX3llYXJzLWNvbnRlbnQgY29sIHNlbGYtc3RyZXRjaCByb3cgaXRlbXMtY2VudGVyJwogICAgICB9LCB5ZWFycyksIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ2NvbC1hdXRvJwogICAgICB9LCBbaChRQnRuLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHJvdW5kOiB0cnVlLAogICAgICAgICAgZGVuc2U6IHRydWUsCiAgICAgICAgICBmbGF0OiB0cnVlLAogICAgICAgICAgaWNvbjogdGhpcy5kYXRlQXJyb3dbMV0sCiAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4LAogICAgICAgICAgZGlzYWJsZTogaXNEaXNhYmxlZChzdG9wKQogICAgICAgIH0sCiAgICAgICAgb246IGNhY2hlKHRoaXMsICd5KycsIHsKICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3RhcnRZZWFyICs9IHllYXJzSW50ZXJ2YWw7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSldKV0pOwogICAgfSwKICAgIF9fZ29Ub01vbnRoKG9mZnNldCkgewogICAgICBsZXQgeWVhciA9IHRoaXMudmlld01vZGVsLnllYXI7CiAgICAgIGxldCBtb250aCA9IE51bWJlcih0aGlzLnZpZXdNb2RlbC5tb250aCkgKyBvZmZzZXQ7CiAgICAgIGlmIChtb250aCA9PT0gMTMpIHsKICAgICAgICBtb250aCA9IDE7CiAgICAgICAgeWVhcisrOwogICAgICB9IGVsc2UgaWYgKG1vbnRoID09PSAwKSB7CiAgICAgICAgbW9udGggPSAxMjsKICAgICAgICB5ZWFyLS07CiAgICAgIH0KICAgICAgdGhpcy5fX3VwZGF0ZVZpZXdNb2RlbCh5ZWFyLCBtb250aCk7CiAgICAgIHRoaXMuaXNJbW1lZGlhdGUgPT09IHRydWUgJiYgdGhpcy5fX2VtaXRJbW1lZGlhdGVseSgnbW9udGgnKTsKICAgIH0sCiAgICBfX2dvVG9ZZWFyKG9mZnNldCkgewogICAgICBjb25zdCB5ZWFyID0gTnVtYmVyKHRoaXMudmlld01vZGVsLnllYXIpICsgb2Zmc2V0OwogICAgICB0aGlzLl9fdXBkYXRlVmlld01vZGVsKHllYXIsIHRoaXMudmlld01vZGVsLm1vbnRoKTsKICAgICAgdGhpcy5pc0ltbWVkaWF0ZSA9PT0gdHJ1ZSAmJiB0aGlzLl9fZW1pdEltbWVkaWF0ZWx5KCd5ZWFyJyk7CiAgICB9LAogICAgX19zZXRZZWFyKHllYXIpIHsKICAgICAgdGhpcy5fX3VwZGF0ZVZpZXdNb2RlbCh5ZWFyLCB0aGlzLnZpZXdNb2RlbC5tb250aCk7CiAgICAgIHRoaXMudmlldyA9IHRoaXMuZGVmYXVsdFZpZXcgPT09ICdZZWFycycgPyAnTW9udGhzJyA6ICdDYWxlbmRhcic7CiAgICAgIHRoaXMuaXNJbW1lZGlhdGUgPT09IHRydWUgJiYgdGhpcy5fX2VtaXRJbW1lZGlhdGVseSgneWVhcicpOwogICAgfSwKICAgIF9fc2V0TW9udGgobW9udGgpIHsKICAgICAgdGhpcy5fX3VwZGF0ZVZpZXdNb2RlbCh0aGlzLnZpZXdNb2RlbC55ZWFyLCBtb250aCk7CiAgICAgIHRoaXMudmlldyA9ICdDYWxlbmRhcic7CiAgICAgIHRoaXMuaXNJbW1lZGlhdGUgPT09IHRydWUgJiYgdGhpcy5fX2VtaXRJbW1lZGlhdGVseSgnbW9udGgnKTsKICAgIH0sCiAgICBfX2dldE1vbnRoSGFzaChkYXRlKSB7CiAgICAgIHJldHVybiBkYXRlLnllYXIgKyAnLycgKyBwYWQoZGF0ZS5tb250aCk7CiAgICB9LAogICAgX190b2dnbGVEYXRlKGRhdGUsIG1vbnRoSGFzaCkgewogICAgICBjb25zdCBtb250aCA9IHRoaXMuZGF5c01hcFttb250aEhhc2hdOwogICAgICBjb25zdCBmbiA9IG1vbnRoICE9PSB2b2lkIDAgJiYgbW9udGguaW5jbHVkZXMoZGF0ZS5kYXkpID09PSB0cnVlID8gdGhpcy5fX3JlbW92ZUZyb21Nb2RlbCA6IHRoaXMuX19hZGRUb01vZGVsOwogICAgICBmbihkYXRlKTsKICAgIH0sCiAgICBfX2dldFNob3J0RGF0ZShkYXRlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgeWVhcjogZGF0ZS55ZWFyLAogICAgICAgIG1vbnRoOiBkYXRlLm1vbnRoLAogICAgICAgIGRheTogZGF0ZS5kYXkKICAgICAgfTsKICAgIH0sCiAgICBfX29uRGF5Q2xpY2soZGF5SW5kZXgpIHsKICAgICAgY29uc3QgZGF5ID0gewogICAgICAgIC4uLnRoaXMudmlld01vZGVsLAogICAgICAgIGRheTogZGF5SW5kZXgKICAgICAgfTsKICAgICAgaWYgKHRoaXMucmFuZ2UgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5fX3RvZ2dsZURhdGUoZGF5LCB0aGlzLnZpZXdNb250aEhhc2gpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5lZGl0UmFuZ2UgPT09IHZvaWQgMCkgewogICAgICAgIGNvbnN0IGRheVByb3BzID0gdGhpcy5kYXlzLmZpbmQoZGF5ID0+IGRheS5maWxsICE9PSB0cnVlICYmIGRheS5pID09PSBkYXlJbmRleCk7CiAgICAgICAgaWYgKGRheVByb3BzLnJhbmdlICE9PSB2b2lkIDApIHsKICAgICAgICAgIHRoaXMuX19yZW1vdmVGcm9tTW9kZWwoewogICAgICAgICAgICB0YXJnZXQ6IGRheSwKICAgICAgICAgICAgZnJvbTogZGF5UHJvcHMucmFuZ2UuZnJvbSwKICAgICAgICAgICAgdG86IGRheVByb3BzLnJhbmdlLnRvCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGRheVByb3BzLnNlbGVjdGVkID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLl9fcmVtb3ZlRnJvbU1vZGVsKGRheSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnN0IGluaXRIYXNoID0gdGhpcy5fX2dldERheUhhc2goZGF5KTsKICAgICAgICB0aGlzLmVkaXRSYW5nZSA9IHsKICAgICAgICAgIGluaXQ6IGRheSwKICAgICAgICAgIGluaXRIYXNoLAogICAgICAgICAgZmluYWw6IGRheSwKICAgICAgICAgIGZpbmFsSGFzaDogaW5pdEhhc2gKICAgICAgICB9OwogICAgICAgIHRoaXMuJGVtaXQoJ3JhbmdlLXN0YXJ0JywgdGhpcy5fX2dldFNob3J0RGF0ZShkYXkpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBpbml0SGFzaCA9IHRoaXMuZWRpdFJhbmdlLmluaXRIYXNoLAogICAgICAgICAgZmluYWxIYXNoID0gdGhpcy5fX2dldERheUhhc2goZGF5KSwKICAgICAgICAgIHBheWxvYWQgPSBpbml0SGFzaCA8PSBmaW5hbEhhc2ggPyB7CiAgICAgICAgICAgIGZyb206IHRoaXMuZWRpdFJhbmdlLmluaXQsCiAgICAgICAgICAgIHRvOiBkYXkKICAgICAgICAgIH0gOiB7CiAgICAgICAgICAgIGZyb206IGRheSwKICAgICAgICAgICAgdG86IHRoaXMuZWRpdFJhbmdlLmluaXQKICAgICAgICAgIH07CiAgICAgICAgdGhpcy5lZGl0UmFuZ2UgPSB2b2lkIDA7CiAgICAgICAgdGhpcy5fX2FkZFRvTW9kZWwoaW5pdEhhc2ggPT09IGZpbmFsSGFzaCA/IGRheSA6IHsKICAgICAgICAgIHRhcmdldDogZGF5LAogICAgICAgICAgLi4ucGF5bG9hZAogICAgICAgIH0pOwogICAgICAgIHRoaXMuJGVtaXQoJ3JhbmdlLWVuZCcsIHsKICAgICAgICAgIGZyb206IHRoaXMuX19nZXRTaG9ydERhdGUocGF5bG9hZC5mcm9tKSwKICAgICAgICAgIHRvOiB0aGlzLl9fZ2V0U2hvcnREYXRlKHBheWxvYWQudG8pCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBfX29uRGF5TW91c2VvdmVyKGRheUluZGV4KSB7CiAgICAgIGlmICh0aGlzLmVkaXRSYW5nZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgY29uc3QgZmluYWwgPSB7CiAgICAgICAgICAuLi50aGlzLnZpZXdNb2RlbCwKICAgICAgICAgIGRheTogZGF5SW5kZXgKICAgICAgICB9OwogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5lZGl0UmFuZ2UsIHsKICAgICAgICAgIGZpbmFsLAogICAgICAgICAgZmluYWxIYXNoOiB0aGlzLl9fZ2V0RGF5SGFzaChmaW5hbCkKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIF9fdXBkYXRlVmlld01vZGVsKHllYXIsIG1vbnRoLCB0aW1lKSB7CiAgICAgIGlmICh0aGlzLm1pbk5hdiAhPT0gdm9pZCAwICYmIHllYXIgPD0gdGhpcy5taW5OYXYueWVhcikgewogICAgICAgIHllYXIgPSB0aGlzLm1pbk5hdi55ZWFyOwogICAgICAgIGlmIChtb250aCA8IHRoaXMubWluTmF2Lm1vbnRoKSB7CiAgICAgICAgICBtb250aCA9IHRoaXMubWluTmF2Lm1vbnRoOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5tYXhOYXYgIT09IHZvaWQgMCAmJiB5ZWFyID49IHRoaXMubWF4TmF2LnllYXIpIHsKICAgICAgICB5ZWFyID0gdGhpcy5tYXhOYXYueWVhcjsKICAgICAgICBpZiAobW9udGggPiB0aGlzLm1heE5hdi5tb250aCkgewogICAgICAgICAgbW9udGggPSB0aGlzLm1heE5hdi5tb250aDsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHRpbWUgIT09IHZvaWQgMCkgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGhvdXIsCiAgICAgICAgICBtaW51dGUsCiAgICAgICAgICBzZWNvbmQsCiAgICAgICAgICBtaWxsaXNlY29uZCwKICAgICAgICAgIHRpbWV6b25lT2Zmc2V0LAogICAgICAgICAgdGltZUhhc2gKICAgICAgICB9ID0gdGltZTsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMudmlld01vZGVsLCB7CiAgICAgICAgICBob3VyLAogICAgICAgICAgbWludXRlLAogICAgICAgICAgc2Vjb25kLAogICAgICAgICAgbWlsbGlzZWNvbmQsCiAgICAgICAgICB0aW1lem9uZU9mZnNldCwKICAgICAgICAgIHRpbWVIYXNoCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgY29uc3QgbmV3SGFzaCA9IHllYXIgKyAnLycgKyBwYWQobW9udGgpICsgJy8wMSc7CiAgICAgIGlmIChuZXdIYXNoICE9PSB0aGlzLnZpZXdNb2RlbC5kYXRlSGFzaCkgewogICAgICAgIHRoaXMubW9udGhEaXJlY3Rpb24gPSB0aGlzLnZpZXdNb2RlbC5kYXRlSGFzaCA8IG5ld0hhc2ggPT09ICh0aGlzLiRxLmxhbmcucnRsICE9PSB0cnVlKSA/ICdsZWZ0JyA6ICdyaWdodCc7CiAgICAgICAgaWYgKHllYXIgIT09IHRoaXMudmlld01vZGVsLnllYXIpIHsKICAgICAgICAgIHRoaXMueWVhckRpcmVjdGlvbiA9IHRoaXMubW9udGhEaXJlY3Rpb247CiAgICAgICAgfQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuc3RhcnRZZWFyID0geWVhciAtIHllYXIgJSB5ZWFyc0ludGVydmFsIC0gKHllYXIgPCAwID8geWVhcnNJbnRlcnZhbCA6IDApOwogICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnZpZXdNb2RlbCwgewogICAgICAgICAgICB5ZWFyLAogICAgICAgICAgICBtb250aCwKICAgICAgICAgICAgZGF5OiAxLAogICAgICAgICAgICBkYXRlSGFzaDogbmV3SGFzaAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBfX2VtaXRWYWx1ZSh2YWwsIGFjdGlvbiwgZGF0ZSkgewogICAgICBjb25zdCB2YWx1ZSA9IHZhbCAhPT0gbnVsbCAmJiB2YWwubGVuZ3RoID09PSAxICYmIHRoaXMubXVsdGlwbGUgPT09IGZhbHNlID8gdmFsWzBdIDogdmFsOwogICAgICB0aGlzLmxhc3RFbWl0VmFsdWUgPSB2YWx1ZTsKICAgICAgY29uc3QgewogICAgICAgIHJlYXNvbiwKICAgICAgICBkZXRhaWxzCiAgICAgIH0gPSB0aGlzLl9fZ2V0RW1pdFBhcmFtcyhhY3Rpb24sIGRhdGUpOwogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbHVlLCByZWFzb24sIGRldGFpbHMpOwogICAgfSwKICAgIF9fZW1pdEltbWVkaWF0ZWx5KHJlYXNvbikgewogICAgICBjb25zdCBkYXRlID0gdGhpcy5kYXlzTW9kZWxbMF0gIT09IHZvaWQgMCAmJiB0aGlzLmRheXNNb2RlbFswXS5kYXRlSGFzaCAhPT0gbnVsbCA/IHsKICAgICAgICAuLi50aGlzLmRheXNNb2RlbFswXQogICAgICB9IDogewogICAgICAgIC4uLnRoaXMudmlld01vZGVsCiAgICAgIH07IC8vIGluaGVyaXQgZGF5LCBob3VycywgbWludXRlcywgbWlsbGlzZWNvbmRzLi4uCgogICAgICAvLyBuZXh0VGljayByZXF1aXJlZCBiZWNhdXNlIG9mIGFuaW1hdGlvbiBkZWxheSBpbiB2aWV3TW9kZWwKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIGRhdGUueWVhciA9IHRoaXMudmlld01vZGVsLnllYXI7CiAgICAgICAgZGF0ZS5tb250aCA9IHRoaXMudmlld01vZGVsLm1vbnRoOwogICAgICAgIGNvbnN0IG1heERheSA9IHRoaXMuY2FsZW5kYXIgIT09ICdwZXJzaWFuJyA/IG5ldyBEYXRlKGRhdGUueWVhciwgZGF0ZS5tb250aCwgMCkuZ2V0RGF0ZSgpIDogamFsYWFsaU1vbnRoTGVuZ3RoKGRhdGUueWVhciwgZGF0ZS5tb250aCk7CiAgICAgICAgZGF0ZS5kYXkgPSBNYXRoLm1pbihNYXRoLm1heCgxLCBkYXRlLmRheSksIG1heERheSk7CiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9fZW5jb2RlRW50cnkoZGF0ZSk7CiAgICAgICAgdGhpcy5sYXN0RW1pdFZhbHVlID0gdmFsdWU7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGV0YWlscwogICAgICAgIH0gPSB0aGlzLl9fZ2V0RW1pdFBhcmFtcygnJywgZGF0ZSk7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSwgcmVhc29uLCBkZXRhaWxzKTsKICAgICAgfSk7CiAgICB9LAogICAgX19nZXRFbWl0UGFyYW1zKGFjdGlvbiwgZGF0ZSkgewogICAgICByZXR1cm4gZGF0ZS5mcm9tICE9PSB2b2lkIDAgPyB7CiAgICAgICAgcmVhc29uOiBgJHthY3Rpb259LXJhbmdlYCwKICAgICAgICBkZXRhaWxzOiB7CiAgICAgICAgICAuLi50aGlzLl9fZ2V0U2hvcnREYXRlKGRhdGUudGFyZ2V0KSwKICAgICAgICAgIGZyb206IHRoaXMuX19nZXRTaG9ydERhdGUoZGF0ZS5mcm9tKSwKICAgICAgICAgIHRvOiB0aGlzLl9fZ2V0U2hvcnREYXRlKGRhdGUudG8pLAogICAgICAgICAgY2hhbmdlZDogdHJ1ZSAvLyBUT0RPIHJlbW92ZSBpbiB2MjsgbGVnYWN5IHB1cnBvc2VzCiAgICAgICAgfQogICAgICB9IDogewogICAgICAgIHJlYXNvbjogYCR7YWN0aW9ufS1kYXlgLAogICAgICAgIGRldGFpbHM6IHsKICAgICAgICAgIC4uLnRoaXMuX19nZXRTaG9ydERhdGUoZGF0ZSksCiAgICAgICAgICBjaGFuZ2VkOiB0cnVlIC8vIFRPRE8gcmVtb3ZlIGluIHYyOyBsZWdhY3kgcHVycG9zZXMKICAgICAgICB9CiAgICAgIH07CiAgICB9LAoKICAgIF9fZW5jb2RlRW50cnkoZGF0ZSwgbWFzaywgbG9jYWxlKSB7CiAgICAgIHJldHVybiBkYXRlLmZyb20gIT09IHZvaWQgMCA/IHsKICAgICAgICBmcm9tOiB0aGlzLmVuY29kZU9iamVjdEZuKGRhdGUuZnJvbSwgbWFzaywgbG9jYWxlKSwKICAgICAgICB0bzogdGhpcy5lbmNvZGVPYmplY3RGbihkYXRlLnRvLCBtYXNrLCBsb2NhbGUpCiAgICAgIH0gOiB0aGlzLmVuY29kZU9iamVjdEZuKGRhdGUsIG1hc2ssIGxvY2FsZSk7CiAgICB9LAogICAgX19hZGRUb01vZGVsKGRhdGUpIHsKICAgICAgbGV0IHZhbHVlOwogICAgICBpZiAodGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSkgewogICAgICAgIGlmIChkYXRlLmZyb20gIT09IHZvaWQgMCkgewogICAgICAgICAgLy8gd2UgYWxzbyBuZWVkIHRvIGZpbHRlciBvdXQgaW50ZXJzZWN0aW9ucwoKICAgICAgICAgIGNvbnN0IGZyb21IYXNoID0gdGhpcy5fX2dldERheUhhc2goZGF0ZS5mcm9tKTsKICAgICAgICAgIGNvbnN0IHRvSGFzaCA9IHRoaXMuX19nZXREYXlIYXNoKGRhdGUudG8pOwogICAgICAgICAgY29uc3QgZGF5cyA9IHRoaXMuZGF5c01vZGVsLmZpbHRlcihkYXkgPT4gZGF5LmRhdGVIYXNoIDwgZnJvbUhhc2ggfHwgZGF5LmRhdGVIYXNoID4gdG9IYXNoKTsKICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IHRoaXMucmFuZ2VNb2RlbC5maWx0ZXIoKHsKICAgICAgICAgICAgZnJvbSwKICAgICAgICAgICAgdG8KICAgICAgICAgIH0pID0+IHRvLmRhdGVIYXNoIDwgZnJvbUhhc2ggfHwgZnJvbS5kYXRlSGFzaCA+IHRvSGFzaCk7CiAgICAgICAgICB2YWx1ZSA9IGRheXMuY29uY2F0KHJhbmdlcykuY29uY2F0KGRhdGUpLm1hcChlbnRyeSA9PiB0aGlzLl9fZW5jb2RlRW50cnkoZW50cnkpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLm5vcm1hbGl6ZWRNb2RlbC5zbGljZSgpOwogICAgICAgICAgbW9kZWwucHVzaCh0aGlzLl9fZW5jb2RlRW50cnkoZGF0ZSkpOwogICAgICAgICAgdmFsdWUgPSBtb2RlbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsdWUgPSB0aGlzLl9fZW5jb2RlRW50cnkoZGF0ZSk7CiAgICAgIH0KICAgICAgdGhpcy5fX2VtaXRWYWx1ZSh2YWx1ZSwgJ2FkZCcsIGRhdGUpOwogICAgfSwKICAgIF9fcmVtb3ZlRnJvbU1vZGVsKGRhdGUpIHsKICAgICAgaWYgKHRoaXMubm9VbnNldCA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgbW9kZWwgPSBudWxsOwogICAgICBpZiAodGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSAmJiBBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpID09PSB0cnVlKSB7CiAgICAgICAgY29uc3QgdmFsID0gdGhpcy5fX2VuY29kZUVudHJ5KGRhdGUpOwogICAgICAgIGlmIChkYXRlLmZyb20gIT09IHZvaWQgMCkgewogICAgICAgICAgbW9kZWwgPSB0aGlzLnZhbHVlLmZpbHRlcihkYXRlID0+IGRhdGUuZnJvbSAhPT0gdm9pZCAwID8gZGF0ZS5mcm9tICE9PSB2YWwuZnJvbSAmJiBkYXRlLnRvICE9PSB2YWwudG8gOiB0cnVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbW9kZWwgPSB0aGlzLnZhbHVlLmZpbHRlcihkYXRlID0+IGRhdGUgIT09IHZhbCk7CiAgICAgICAgfQogICAgICAgIGlmIChtb2RlbC5sZW5ndGggPT09IDApIHsKICAgICAgICAgIG1vZGVsID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5fX2VtaXRWYWx1ZShtb2RlbCwgJ3JlbW92ZScsIGRhdGUpOwogICAgfSwKICAgIF9fdXBkYXRlVmFsdWUobWFzaywgbG9jYWxlLCByZWFzb24pIHsKICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmRheXNNb2RlbC5jb25jYXQodGhpcy5yYW5nZU1vZGVsKS5tYXAoZW50cnkgPT4gdGhpcy5fX2VuY29kZUVudHJ5KGVudHJ5LCBtYXNrLCBsb2NhbGUpKS5maWx0ZXIoZW50cnkgPT4gewogICAgICAgIHJldHVybiBlbnRyeS5mcm9tICE9PSB2b2lkIDAgPyBlbnRyeS5mcm9tLmRhdGVIYXNoICE9PSBudWxsICYmIGVudHJ5LnRvLmRhdGVIYXNoICE9PSBudWxsIDogZW50cnkuZGF0ZUhhc2ggIT09IG51bGw7CiAgICAgIH0pOwogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsICh0aGlzLm11bHRpcGxlID09PSB0cnVlID8gbW9kZWwgOiBtb2RlbFswXSkgfHwgbnVsbCwgcmVhc29uKTsKICAgIH0KICB9LAogIHJlbmRlcihoKSB7CiAgICBjb25zdCBjb250ZW50ID0gW2goJ2RpdicsIHsKICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX2NvbnRlbnQgY29sIHJlbGF0aXZlLXBvc2l0aW9uJwogICAgfSwgW2goJ3RyYW5zaXRpb24nLCB7CiAgICAgIHByb3BzOiB7CiAgICAgICAgbmFtZTogJ3EtdHJhbnNpdGlvbi0tZmFkZScKICAgICAgfQogICAgfSwgW3RoaXNbYF9fZ2V0JHt0aGlzLnZpZXd9Vmlld2BdKGgpXSldKV07CiAgICBjb25zdCBkZWYgPSBzbG90KHRoaXMsICdkZWZhdWx0Jyk7CiAgICBkZWYgIT09IHZvaWQgMCAmJiBjb250ZW50LnB1c2goaCgnZGl2JywgewogICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fYWN0aW9ucycKICAgIH0sIGRlZikpOwogICAgaWYgKHRoaXMubmFtZSAhPT0gdm9pZCAwICYmIHRoaXMuZGlzYWJsZSAhPT0gdHJ1ZSkgewogICAgICB0aGlzLl9faW5qZWN0Rm9ybUlucHV0KGNvbnRlbnQsICdwdXNoJyk7CiAgICB9CiAgICByZXR1cm4gaCgnZGl2JywgewogICAgICBjbGFzczogdGhpcy5jbGFzc2VzLAogICAgICBhdHRyczogdGhpcy5hdHRycywKICAgICAgb246IHsKICAgICAgICAuLi50aGlzLnFMaXN0ZW5lcnMKICAgICAgfQogICAgfSwgW3RoaXMuX19nZXRIZWFkZXIoaCksIGgoJ2RpdicsIHsKICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX21haW4gY29sIGNvbHVtbicsCiAgICAgIGF0dHJzOiB7CiAgICAgICAgdGFiaW5kZXg6IC0xCiAgICAgIH0sCiAgICAgIHJlZjogJ2JsdXJUYXJnZXQnCiAgICB9LCBjb250ZW50KV0pOwogIH0KfSk7"},{"version":3,"names":["Vue","QBtn","DateTimeMixin","slot","formatDate","__splitDate","getDateDiff","pad","jalaaliMonthLength","toGregorian","cache","isObject","yearsInterval","views","viewIsValid","v","includes","yearMonthValidator","test","lineStr","extend","name","mixins","props","multiple","Boolean","range","title","String","subtitle","mask","default","defaultYearMonth","type","validator","yearsInMonthView","events","Array","Function","eventColor","emitImmediately","options","navigationMinYearMonth","navigationMaxYearMonth","noUnset","firstDayOfWeek","Number","todayBtn","minimal","defaultView","data","innerMask","__getMask","innerLocale","__getLocale","viewModel","__getViewModel","year","direction","$q","lang","rtl","view","monthDirection","yearDirection","startYear","editRange","watch","value","lastEmitValue","model","__updateViewModel","month","$refs","blurTarget","$el","contains","document","activeElement","focus","viewModel.year","$emit","viewModel.month","computedMask","val","__updateValue","computedLocale","computed","classes","landscape","isDark","bordered","square","flat","disable","readonly","isImmediate","normalizedModel","isArray","daysModel","filter","date","map","__decodeString","dateHash","day","rangeModel","fn","from","to","getNativeDateFn","calendar","Date","gDate","gy","gm","gd","encodeObjectFn","__getDayHash","locale","hour","minute","second","millisecond","timezoneOffset","daysInModel","length","reduce","acc","headerTitle","init","daysShort","getDay","monthsShort","pluralDay","isNaN","valueOf","headerSubtitle","minSelectedModel","maxSelectedModel","concat","sort","a","b","dateArrow","iconSet","datetime","arrowLeft","arrowRight","reverse","computedFirstDayOfWeek","daysOfWeek","days","first","slice","daysInMonth","getDate","today","__getCurrentDate","evtColor","minNav","split","parseInt","maxNav","navBoundaries","prev","next","daysMap","forEach","entry","hash","__getMonthHash","push","rangeMap","hashFrom","hashTo","cur","rangeView","initHash","final","finalHash","fromHash","toHash","viewMonthHash","includeFrom","includeTo","selectionDaysMap","i","dayHash","eventDaysMap","viewDays","endDay","prevJM","prevJY","res","len","fill","index","event","in","Object","assign","selected","unelevated","color","computedColor","textColor","computedTextColor","rangeFrom","rangeTo","editRangeFrom","editRangeTo","left","afterDays","cls","attrs","methods","setToday","__addToModel","setCalendarTo","setView","offsetCalendar","descending","setEditingRange","__getDefaultViewModel","decoded","d","__getHeader","h","staticClass","class","headerClass","key","tabindex","computedTabindex","on","click","keyup","e","keyCode","icon","size","round","__getNavigation","label","dir","goTo","boundaries","dense","noCaps","__getCalendarView","months","__goToMonth","__goToYear","__onDayClick","mouseover","__onDayMouseover","__getMonthsView","currentYear","isDisabled","content","active","__setMonth","unshift","__getYearsView","start","stop","years","__setYear","offset","__emitImmediately","__toggleDate","monthHash","__removeFromModel","__getShortDate","dayIndex","dayProps","find","target","payload","time","timeHash","newHash","$nextTick","__emitValue","action","reason","details","__getEmitParams","maxDay","Math","min","max","__encodeEntry","changed","ranges","render","def","__injectFormInput","qListeners","ref"],"sources":["/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/quasar/src/components/date/QDate.js"],"sourcesContent":["import Vue from 'vue'\n\nimport QBtn from '../btn/QBtn.js'\nimport DateTimeMixin from '../../mixins/datetime.js'\n\nimport { slot } from '../../utils/private/slot.js'\nimport { formatDate, __splitDate, getDateDiff } from '../../utils/date.js'\nimport { pad } from '../../utils/format.js'\nimport { jalaaliMonthLength, toGregorian } from '../../utils/private/date-persian.js'\nimport cache from '../../utils/private/cache.js'\nimport { isObject } from '../../utils/is.js'\n\nconst yearsInterval = 20\nconst views = [ 'Calendar', 'Years', 'Months' ]\nconst viewIsValid = v => views.includes(v)\nconst yearMonthValidator = v => /^-?[\\d]+\\/[0-1]\\d$/.test(v)\nconst lineStr = ' \\u2014 '\n\nexport default Vue.extend({\n  name: 'QDate',\n\n  mixins: [ DateTimeMixin ],\n\n  props: {\n    multiple: Boolean,\n    range: Boolean,\n\n    title: String,\n    subtitle: String,\n\n    mask: {\n      // this mask is forced\n      // when using persian calendar\n      default: 'YYYY/MM/DD'\n    },\n\n    defaultYearMonth: {\n      type: String,\n      validator: yearMonthValidator\n    },\n\n    yearsInMonthView: Boolean,\n\n    events: [ Array, Function ],\n    eventColor: [ String, Function ],\n\n    emitImmediately: Boolean,\n\n    options: [ Array, Function ],\n\n    navigationMinYearMonth: {\n      type: String,\n      validator: yearMonthValidator\n    },\n\n    navigationMaxYearMonth: {\n      type: String,\n      validator: yearMonthValidator\n    },\n\n    noUnset: Boolean,\n\n    firstDayOfWeek: [ String, Number ],\n    todayBtn: Boolean,\n    minimal: Boolean,\n    defaultView: {\n      type: String,\n      default: 'Calendar',\n      validator: viewIsValid\n    }\n  },\n\n  data () {\n    const\n      innerMask = this.__getMask(),\n      innerLocale = this.__getLocale(),\n      viewModel = this.__getViewModel(innerMask, innerLocale),\n      year = viewModel.year,\n      direction = this.$q.lang.rtl === true ? 'right' : 'left'\n\n    return {\n      view: this.defaultView,\n      monthDirection: direction,\n      yearDirection: direction,\n      startYear: year - (year % yearsInterval) - (year < 0 ? yearsInterval : 0),\n      editRange: void 0,\n      innerMask,\n      innerLocale,\n      viewModel // model of current calendar view\n    }\n  },\n\n  watch: {\n    value (v) {\n      if (this.lastEmitValue === v) {\n        this.lastEmitValue = 0\n      }\n      else {\n        const model = this.__getViewModel(this.innerMask, this.innerLocale)\n        this.__updateViewModel(model.year, model.month, model)\n      }\n    },\n\n    view () {\n      if (this.$refs.blurTarget !== void 0 && this.$el.contains(document.activeElement) === true) {\n        this.$refs.blurTarget.focus()\n      }\n    },\n\n    'viewModel.year' (year) {\n      this.$emit('navigation', { year, month: this.viewModel.month })\n    },\n\n    'viewModel.month' (month) {\n      this.$emit('navigation', { year: this.viewModel.year, month })\n    },\n\n    computedMask (val) {\n      this.__updateValue(val, this.innerLocale, 'mask')\n      this.innerMask = val\n    },\n\n    computedLocale (val) {\n      this.__updateValue(this.innerMask, val, 'locale')\n      this.innerLocale = val\n    }\n  },\n\n  computed: {\n    classes () {\n      const type = this.landscape === true ? 'landscape' : 'portrait'\n      return `q-date q-date--${type} q-date--${type}-${this.minimal === true ? 'minimal' : 'standard'}` +\n        (this.isDark === true ? ' q-date--dark q-dark' : '') +\n        (this.bordered === true ? ' q-date--bordered' : '') +\n        (this.square === true ? ' q-date--square no-border-radius' : '') +\n        (this.flat === true ? ' q-date--flat no-shadow' : '') +\n        (this.disable === true ? ' disabled' : (this.readonly === true ? ' q-date--readonly' : ''))\n    },\n\n    isImmediate () {\n      return this.emitImmediately === true &&\n        this.multiple !== true &&\n        this.range !== true\n    },\n\n    normalizedModel () {\n      return Array.isArray(this.value) === true\n        ? this.value\n        : (this.value !== null && this.value !== void 0 ? [ this.value ] : [])\n    },\n\n    daysModel () {\n      return this.normalizedModel\n        .filter(date => typeof date === 'string')\n        .map(date => this.__decodeString(date, this.innerMask, this.innerLocale))\n        .filter(date =>\n          date.dateHash !== null &&\n          date.day !== null &&\n          date.month !== null &&\n          date.year !== null\n        )\n    },\n\n    rangeModel () {\n      const fn = date => this.__decodeString(date, this.innerMask, this.innerLocale)\n      return this.normalizedModel\n        .filter(date => isObject(date) === true && date.from !== void 0 && date.to !== void 0)\n        .map(range => ({ from: fn(range.from), to: fn(range.to) }))\n        .filter(range => range.from.dateHash !== null && range.to.dateHash !== null && range.from.dateHash < range.to.dateHash)\n    },\n\n    getNativeDateFn () {\n      return this.calendar !== 'persian'\n        ? model => new Date(model.year, model.month - 1, model.day)\n        : model => {\n          const gDate = toGregorian(model.year, model.month, model.day)\n          return new Date(gDate.gy, gDate.gm - 1, gDate.gd)\n        }\n    },\n\n    encodeObjectFn () {\n      return this.calendar === 'persian'\n        ? this.__getDayHash\n        : (date, mask, locale) => formatDate(\n          new Date(\n            date.year,\n            date.month - 1,\n            date.day,\n            date.hour,\n            date.minute,\n            date.second,\n            date.millisecond\n          ),\n          mask === void 0 ? this.innerMask : mask,\n          locale === void 0 ? this.innerLocale : locale,\n          date.year,\n          date.timezoneOffset\n        )\n    },\n\n    daysInModel () {\n      return this.daysModel.length + this.rangeModel.reduce(\n        (acc, range) => acc + 1 + getDateDiff(\n          this.getNativeDateFn(range.to),\n          this.getNativeDateFn(range.from)\n        ),\n        0\n      )\n    },\n\n    headerTitle () {\n      if (this.title !== void 0 && this.title !== null && this.title.length > 0) {\n        return this.title\n      }\n\n      if (this.editRange !== void 0) {\n        const model = this.editRange.init\n        const date = this.getNativeDateFn(model)\n\n        return this.innerLocale.daysShort[ date.getDay() ] + ', ' +\n          this.innerLocale.monthsShort[ model.month - 1 ] + ' ' +\n          model.day + lineStr + '?'\n      }\n\n      if (this.daysInModel === 0) {\n        return lineStr\n      }\n\n      if (this.daysInModel > 1) {\n        return `${this.daysInModel} ${this.innerLocale.pluralDay}`\n      }\n\n      const model = this.daysModel[0]\n      const date = this.getNativeDateFn(model)\n\n      if (isNaN(date.valueOf()) === true) {\n        return lineStr\n      }\n\n      if (this.innerLocale.headerTitle !== void 0) {\n        return this.innerLocale.headerTitle(date, model)\n      }\n\n      return this.innerLocale.daysShort[ date.getDay() ] + ', ' +\n        this.innerLocale.monthsShort[ model.month - 1 ] + ' ' +\n        model.day\n    },\n\n    headerSubtitle () {\n      if (this.subtitle !== void 0 && this.subtitle !== null && this.subtitle.length > 0) {\n        return this.subtitle\n      }\n\n      if (this.daysInModel === 0) {\n        return lineStr\n      }\n\n      if (this.daysInModel > 1) {\n        const from = this.minSelectedModel\n        const to = this.maxSelectedModel\n        const month = this.innerLocale.monthsShort\n\n        return month[from.month - 1] + (\n          from.year !== to.year\n            ? ' ' + from.year + lineStr + month[to.month - 1] + ' '\n            : (\n              from.month !== to.month\n                ? lineStr + month[to.month - 1]\n                : ''\n            )\n        ) + ' ' + to.year\n      }\n\n      return this.daysModel[0].year\n    },\n\n    minSelectedModel () {\n      const model = this.daysModel.concat(this.rangeModel.map(range => range.from))\n        .sort((a, b) => a.year - b.year || a.month - b.month)\n\n      return model[0]\n    },\n\n    maxSelectedModel () {\n      const model = this.daysModel.concat(this.rangeModel.map(range => range.to))\n        .sort((a, b) => b.year - a.year || b.month - a.month)\n\n      return model[0]\n    },\n\n    dateArrow () {\n      const val = [ this.$q.iconSet.datetime.arrowLeft, this.$q.iconSet.datetime.arrowRight ]\n      return this.$q.lang.rtl === true ? val.reverse() : val\n    },\n\n    computedFirstDayOfWeek () {\n      return this.firstDayOfWeek !== void 0\n        ? Number(this.firstDayOfWeek)\n        : this.innerLocale.firstDayOfWeek\n    },\n\n    daysOfWeek () {\n      const\n        days = this.innerLocale.daysShort,\n        first = this.computedFirstDayOfWeek\n\n      return first > 0\n        ? days.slice(first, 7).concat(days.slice(0, first))\n        : days\n    },\n\n    daysInMonth () {\n      const date = this.viewModel\n      return this.calendar !== 'persian'\n        ? (new Date(date.year, date.month, 0)).getDate()\n        : jalaaliMonthLength(date.year, date.month)\n    },\n\n    today () {\n      return this.__getCurrentDate()\n    },\n\n    evtColor () {\n      return typeof this.eventColor === 'function'\n        ? this.eventColor\n        : () => this.eventColor\n    },\n\n    minNav () {\n      if (this.navigationMinYearMonth !== void 0) {\n        const data = this.navigationMinYearMonth.split('/')\n        return { year: parseInt(data[0], 10), month: parseInt(data[1], 10) }\n      }\n    },\n\n    maxNav () {\n      if (this.navigationMaxYearMonth !== void 0) {\n        const data = this.navigationMaxYearMonth.split('/')\n        return { year: parseInt(data[0], 10), month: parseInt(data[1], 10) }\n      }\n    },\n\n    navBoundaries () {\n      const data = {\n        month: { prev: true, next: true },\n        year: { prev: true, next: true }\n      }\n\n      if (this.minNav !== void 0 && this.minNav.year >= this.viewModel.year) {\n        data.year.prev = false\n        if (this.minNav.year === this.viewModel.year && this.minNav.month >= this.viewModel.month) {\n          data.month.prev = false\n        }\n      }\n\n      if (this.maxNav !== void 0 && this.maxNav.year <= this.viewModel.year) {\n        data.year.next = false\n        if (this.maxNav.year === this.viewModel.year && this.maxNav.month <= this.viewModel.month) {\n          data.month.next = false\n        }\n      }\n\n      return data\n    },\n\n    daysMap () {\n      const map = {}\n\n      this.daysModel.forEach(entry => {\n        const hash = this.__getMonthHash(entry)\n\n        if (map[hash] === void 0) {\n          map[hash] = []\n        }\n\n        map[hash].push(entry.day)\n      })\n\n      return map\n    },\n\n    rangeMap () {\n      const map = {}\n\n      this.rangeModel.forEach(entry => {\n        const hashFrom = this.__getMonthHash(entry.from)\n        const hashTo = this.__getMonthHash(entry.to)\n\n        if (map[hashFrom] === void 0) {\n          map[hashFrom] = []\n        }\n\n        map[hashFrom].push({\n          from: entry.from.day,\n          to: hashFrom === hashTo ? entry.to.day : void 0,\n          range: entry\n        })\n\n        if (hashFrom < hashTo) {\n          let hash\n          const { year, month } = entry.from\n          const cur = month < 12\n            ? { year, month: month + 1 }\n            : { year: year + 1, month: 1 }\n\n          while ((hash = this.__getMonthHash(cur)) <= hashTo) {\n            if (map[hash] === void 0) {\n              map[hash] = []\n            }\n\n            map[hash].push({\n              from: void 0,\n              to: hash === hashTo ? entry.to.day : void 0,\n              range: entry\n            })\n\n            cur.month++\n            if (cur.month > 12) {\n              cur.year++\n              cur.month = 1\n            }\n          }\n        }\n      })\n\n      return map\n    },\n\n    rangeView () {\n      if (this.editRange === void 0) {\n        return\n      }\n\n      const { init, initHash, final, finalHash } = this.editRange\n\n      const [ from, to ] = initHash <= finalHash\n        ? [ init, final ]\n        : [ final, init ]\n\n      const fromHash = this.__getMonthHash(from)\n      const toHash = this.__getMonthHash(to)\n\n      if (fromHash !== this.viewMonthHash && toHash !== this.viewMonthHash) {\n        return\n      }\n\n      const view = {}\n\n      if (fromHash === this.viewMonthHash) {\n        view.from = from.day\n        view.includeFrom = true\n      }\n      else {\n        view.from = 1\n      }\n\n      if (toHash === this.viewMonthHash) {\n        view.to = to.day\n        view.includeTo = true\n      }\n      else {\n        view.to = this.daysInMonth\n      }\n\n      return view\n    },\n\n    viewMonthHash () {\n      return this.__getMonthHash(this.viewModel)\n    },\n\n    selectionDaysMap () {\n      const map = {}\n\n      if (this.options === void 0) {\n        for (let i = 1; i <= this.daysInMonth; i++) {\n          map[i] = true\n        }\n\n        return map\n      }\n\n      const fn = typeof this.options === 'function'\n        ? this.options\n        : date => this.options.includes(date)\n\n      for (let i = 1; i <= this.daysInMonth; i++) {\n        const dayHash = this.viewMonthHash + '/' + pad(i)\n        map[i] = fn(dayHash)\n      }\n\n      return map\n    },\n\n    eventDaysMap () {\n      const map = {}\n\n      if (this.events === void 0) {\n        for (let i = 1; i <= this.daysInMonth; i++) {\n          map[i] = false\n        }\n      }\n      else {\n        const fn = typeof this.events === 'function'\n          ? this.events\n          : date => this.events.includes(date)\n\n        for (let i = 1; i <= this.daysInMonth; i++) {\n          const dayHash = this.viewMonthHash + '/' + pad(i)\n          map[i] = fn(dayHash) === true && this.evtColor(dayHash)\n        }\n      }\n\n      return map\n    },\n\n    viewDays () {\n      let date, endDay\n      const { year, month } = this.viewModel\n\n      if (this.calendar !== 'persian') {\n        date = new Date(year, month - 1, 1)\n        endDay = (new Date(year, month - 1, 0)).getDate()\n      }\n      else {\n        const gDate = toGregorian(year, month, 1)\n        date = new Date(gDate.gy, gDate.gm - 1, gDate.gd)\n        let prevJM = month - 1\n        let prevJY = year\n        if (prevJM === 0) {\n          prevJM = 12\n          prevJY--\n        }\n        endDay = jalaaliMonthLength(prevJY, prevJM)\n      }\n\n      return {\n        days: date.getDay() - this.computedFirstDayOfWeek - 1,\n        endDay\n      }\n    },\n\n    days () {\n      const res = []\n      const { days, endDay } = this.viewDays\n\n      const len = days < 0 ? days + 7 : days\n      if (len < 6) {\n        for (let i = endDay - len; i <= endDay; i++) {\n          res.push({ i, fill: true })\n        }\n      }\n\n      const index = res.length\n\n      for (let i = 1; i <= this.daysInMonth; i++) {\n        const day = { i, event: this.eventDaysMap[i], classes: [] }\n\n        if (this.selectionDaysMap[i] === true) {\n          day.in = true\n          day.flat = true\n        }\n\n        res.push(day)\n      }\n\n      // if current view has days in model\n      if (this.daysMap[this.viewMonthHash] !== void 0) {\n        this.daysMap[this.viewMonthHash].forEach(day => {\n          const i = index + day - 1\n          Object.assign(res[i], {\n            selected: true,\n            unelevated: true,\n            flat: false,\n            color: this.computedColor,\n            textColor: this.computedTextColor\n          })\n        })\n      }\n\n      // if current view has ranges in model\n      if (this.rangeMap[this.viewMonthHash] !== void 0) {\n        this.rangeMap[this.viewMonthHash].forEach(entry => {\n          if (entry.from !== void 0) {\n            const from = index + entry.from - 1\n            const to = index + (entry.to || this.daysInMonth) - 1\n\n            for (let day = from; day <= to; day++) {\n              Object.assign(res[day], {\n                range: entry.range,\n                unelevated: true,\n                color: this.computedColor,\n                textColor: this.computedTextColor\n              })\n            }\n\n            Object.assign(res[from], {\n              rangeFrom: true,\n              flat: false\n            })\n\n            entry.to !== void 0 && Object.assign(res[to], {\n              rangeTo: true,\n              flat: false\n            })\n          }\n          else if (entry.to !== void 0) {\n            const to = index + entry.to - 1\n\n            for (let day = index; day <= to; day++) {\n              Object.assign(res[day], {\n                range: entry.range,\n                unelevated: true,\n                color: this.computedColor,\n                textColor: this.computedTextColor\n              })\n            }\n\n            Object.assign(res[to], {\n              flat: false,\n              rangeTo: true\n            })\n          }\n          else {\n            const to = index + this.daysInMonth - 1\n            for (let day = index; day <= to; day++) {\n              Object.assign(res[day], {\n                range: entry.range,\n                unelevated: true,\n                color: this.computedColor,\n                textColor: this.computedTextColor\n              })\n            }\n          }\n        })\n      }\n\n      if (this.rangeView !== void 0) {\n        const from = index + this.rangeView.from - 1\n        const to = index + this.rangeView.to - 1\n\n        for (let day = from; day <= to; day++) {\n          res[day].color = this.computedColor\n          res[day].editRange = true\n        }\n\n        if (this.rangeView.includeFrom === true) {\n          res[from].editRangeFrom = true\n        }\n        if (this.rangeView.includeTo === true) {\n          res[to].editRangeTo = true\n        }\n      }\n\n      if (this.viewModel.year === this.today.year && this.viewModel.month === this.today.month) {\n        res[index + this.today.day - 1].today = true\n      }\n\n      const left = res.length % 7\n      if (left > 0) {\n        const afterDays = 7 - left\n        for (let i = 1; i <= afterDays; i++) {\n          res.push({ i, fill: true })\n        }\n      }\n\n      res.forEach(day => {\n        let cls = 'q-date__calendar-item '\n\n        if (day.fill === true) {\n          cls += 'q-date__calendar-item--fill'\n        }\n        else {\n          cls += `q-date__calendar-item--${day.in === true ? 'in' : 'out'}`\n\n          if (day.range !== void 0) {\n            cls += ` q-date__range${day.rangeTo === true ? '-to' : (day.rangeFrom === true ? '-from' : '')}`\n          }\n\n          if (day.editRange === true) {\n            cls += ` q-date__edit-range${day.editRangeFrom === true ? '-from' : ''}${day.editRangeTo === true ? '-to' : ''}`\n          }\n\n          if (day.range !== void 0 || day.editRange === true) {\n            cls += ` text-${day.color}`\n          }\n        }\n\n        day.classes = cls\n      })\n\n      return res\n    },\n\n    attrs () {\n      if (this.disable === true) {\n        return { 'aria-disabled': 'true' }\n      }\n      if (this.readonly === true) {\n        return { 'aria-readonly': 'true' }\n      }\n    }\n  },\n\n  methods: {\n    setToday () {\n      const date = this.today\n      const month = this.daysMap[this.__getMonthHash(date)]\n\n      if (month === void 0 || month.includes(date.day) === false) {\n        this.__addToModel(date)\n      }\n\n      this.setCalendarTo(this.today.year, this.today.month)\n    },\n\n    setView (view) {\n      if (viewIsValid(view) === true) {\n        this.view = view\n      }\n    },\n\n    offsetCalendar (type, descending) {\n      if (['month', 'year'].includes(type)) {\n        this[`__goTo${type === 'month' ? 'Month' : 'Year'}`](\n          descending === true ? -1 : 1\n        )\n      }\n    },\n\n    setCalendarTo (year, month) {\n      this.view = 'Calendar'\n      this.__updateViewModel(year, month)\n    },\n\n    setEditingRange (from, to) {\n      if (this.range === false || !from) {\n        this.editRange = void 0\n        return\n      }\n\n      const init = Object.assign({ ...this.viewModel }, from)\n      const final = to !== void 0\n        ? Object.assign({ ...this.viewModel }, to)\n        : init\n\n      this.editRange = {\n        init,\n        initHash: this.__getDayHash(init),\n        final,\n        finalHash: this.__getDayHash(final)\n      }\n\n      this.setCalendarTo(init.year, init.month)\n    },\n\n    __getMask () {\n      return this.calendar === 'persian' ? 'YYYY/MM/DD' : this.mask\n    },\n\n    __decodeString (date, mask, locale) {\n      return __splitDate(\n        date,\n        mask,\n        locale,\n        this.calendar,\n        {\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        }\n      )\n    },\n\n    __getViewModel (mask, locale) {\n      const model = Array.isArray(this.value) === true\n        ? this.value\n        : (this.value ? [ this.value ] : [])\n\n      if (model.length === 0) {\n        return this.__getDefaultViewModel()\n      }\n\n      const decoded = this.__decodeString(\n        model[0].from !== void 0 ? model[0].from : model[0],\n        mask,\n        locale\n      )\n\n      return decoded.dateHash === null\n        ? this.__getDefaultViewModel()\n        : decoded\n    },\n\n    __getDefaultViewModel () {\n      let year, month\n\n      if (this.defaultYearMonth !== void 0) {\n        const d = this.defaultYearMonth.split('/')\n        year = parseInt(d[0], 10)\n        month = parseInt(d[1], 10)\n      }\n      else {\n        // may come from data() where computed\n        // props are not yet available\n        const d = this.today !== void 0\n          ? this.today\n          : this.__getCurrentDate()\n\n        year = d.year\n        month = d.month\n      }\n\n      return {\n        year,\n        month,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        dateHash: year + '/' + pad(month) + '/01'\n      }\n    },\n\n    __getHeader (h) {\n      if (this.minimal === true) { return }\n\n      return h('div', {\n        staticClass: 'q-date__header',\n        class: this.headerClass\n      }, [\n        h('div', {\n          staticClass: 'relative-position'\n        }, [\n          h('transition', {\n            props: {\n              name: 'q-transition--fade'\n            }\n          }, [\n            h('div', {\n              key: 'h-yr-' + this.headerSubtitle,\n              staticClass: 'q-date__header-subtitle q-date__header-link',\n              class: this.view === 'Years' ? 'q-date__header-link--active' : 'cursor-pointer',\n              attrs: { tabindex: this.computedTabindex },\n              on: cache(this, 'vY', {\n                click: () => { this.view = 'Years' },\n                keyup: e => { e.keyCode === 13 && (this.view = 'Years') }\n              })\n            }, [ this.headerSubtitle ])\n          ])\n        ]),\n\n        h('div', {\n          staticClass: 'q-date__header-title relative-position flex no-wrap'\n        }, [\n          h('div', {\n            staticClass: 'relative-position col'\n          }, [\n            h('transition', {\n              props: {\n                name: 'q-transition--fade'\n              }\n            }, [\n              h('div', {\n                key: 'h-sub' + this.headerTitle,\n                staticClass: 'q-date__header-title-label q-date__header-link',\n                class: this.view === 'Calendar' ? 'q-date__header-link--active' : 'cursor-pointer',\n                attrs: { tabindex: this.computedTabindex },\n                on: cache(this, 'vC', {\n                  click: () => { this.view = 'Calendar' },\n                  keyup: e => { e.keyCode === 13 && (this.view = 'Calendar') }\n                })\n              }, [ this.headerTitle ])\n            ])\n          ]),\n\n          this.todayBtn === true ? h(QBtn, {\n            staticClass: 'q-date__header-today self-start',\n            props: {\n              icon: this.$q.iconSet.datetime.today,\n              flat: true,\n              size: 'sm',\n              round: true,\n              tabindex: this.computedTabindex\n            },\n            on: cache(this, 'today', { click: this.setToday })\n          }) : null\n        ])\n      ])\n    },\n\n    __getNavigation (h, { label, view, key, dir, goTo, boundaries, cls }) {\n      return [\n        h('div', {\n          staticClass: 'row items-center q-date__arrow'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              size: 'sm',\n              flat: true,\n              icon: this.dateArrow[0],\n              tabindex: this.computedTabindex,\n              disable: boundaries.prev === false\n            },\n            on: cache(this, 'go-#' + view, { click () { goTo(-1) } })\n          })\n        ]),\n\n        h('div', {\n          staticClass: 'relative-position overflow-hidden flex flex-center' + cls\n        }, [\n          h('transition', {\n            props: {\n              name: 'q-transition--jump-' + dir\n            }\n          }, [\n            h('div', { key }, [\n              h(QBtn, {\n                props: {\n                  flat: true,\n                  dense: true,\n                  noCaps: true,\n                  label,\n                  tabindex: this.computedTabindex\n                },\n                on: cache(this, 'view#' + view, { click: () => { this.view = view } })\n              })\n            ])\n          ])\n        ]),\n\n        h('div', {\n          staticClass: 'row items-center q-date__arrow'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              size: 'sm',\n              flat: true,\n              icon: this.dateArrow[1],\n              tabindex: this.computedTabindex,\n              disable: boundaries.next === false\n            },\n            on: cache(this, 'go+#' + view, { click () { goTo(1) } })\n          })\n        ])\n      ]\n    },\n\n    __getCalendarView (h) {\n      return [\n        h('div', {\n          key: 'calendar-view',\n          staticClass: 'q-date__view q-date__calendar'\n        }, [\n          h('div', {\n            staticClass: 'q-date__navigation row items-center no-wrap'\n          }, this.__getNavigation(h, {\n            label: this.innerLocale.months[ this.viewModel.month - 1 ],\n            view: 'Months',\n            key: this.viewModel.month,\n            dir: this.monthDirection,\n            goTo: this.__goToMonth,\n            boundaries: this.navBoundaries.month,\n            cls: ' col'\n          }).concat(this.__getNavigation(h, {\n            label: this.viewModel.year,\n            view: 'Years',\n            key: this.viewModel.year,\n            dir: this.yearDirection,\n            goTo: this.__goToYear,\n            boundaries: this.navBoundaries.year,\n            cls: ''\n          }))),\n\n          h('div', {\n            staticClass: 'q-date__calendar-weekdays row items-center no-wrap'\n          }, this.daysOfWeek.map(day => h('div', { staticClass: 'q-date__calendar-item' }, [ h('div', [ day ]) ]))),\n\n          h('div', {\n            staticClass: 'q-date__calendar-days-container relative-position overflow-hidden'\n          }, [\n            h('transition', {\n              props: {\n                name: 'q-transition--slide-' + this.monthDirection\n              }\n            }, [\n              h('div', {\n                key: this.viewMonthHash,\n                staticClass: 'q-date__calendar-days fit'\n              }, this.days.map(day => h('div', { staticClass: day.classes }, [\n                day.in === true\n                  ? h(QBtn, {\n                    staticClass: day.today === true ? 'q-date__today' : null,\n                    props: {\n                      dense: true,\n                      flat: day.flat,\n                      unelevated: day.unelevated,\n                      color: day.color,\n                      textColor: day.textColor,\n                      label: day.i,\n                      tabindex: this.computedTabindex\n                    },\n                    on: cache(this, 'day#' + day.i, {\n                      click: () => { this.__onDayClick(day.i) },\n                      mouseover: () => { this.__onDayMouseover(day.i) }\n                    })\n                  }, day.event !== false ? [\n                    h('div', { staticClass: 'q-date__event bg-' + day.event })\n                  ] : null)\n                  : h('div', [ day.i ])\n              ])))\n            ])\n          ])\n        ])\n      ]\n    },\n\n    __getMonthsView (h) {\n      const currentYear = this.viewModel.year === this.today.year\n      const isDisabled = month => {\n        return (\n          (this.minNav !== void 0 && this.viewModel.year === this.minNav.year && this.minNav.month > month) ||\n          (this.maxNav !== void 0 && this.viewModel.year === this.maxNav.year && this.maxNav.month < month)\n        )\n      }\n\n      const content = this.innerLocale.monthsShort.map((month, i) => {\n        const active = this.viewModel.month === i + 1\n\n        return h('div', {\n          staticClass: 'q-date__months-item flex flex-center'\n        }, [\n          h(QBtn, {\n            staticClass: currentYear === true && this.today.month === i + 1 ? 'q-date__today' : null,\n            props: {\n              flat: active !== true,\n              label: month,\n              unelevated: active,\n              color: active === true ? this.computedColor : null,\n              textColor: active === true ? this.computedTextColor : null,\n              tabindex: this.computedTabindex,\n              disable: isDisabled(i + 1)\n            },\n            on: cache(this, 'month#' + i, { click: () => { this.__setMonth(i + 1) } })\n          })\n        ])\n      })\n\n      this.yearsInMonthView === true && content.unshift(\n        h('div', { staticClass: 'row no-wrap full-width' }, [\n          this.__getNavigation(h, {\n            label: this.viewModel.year,\n            view: 'Years',\n            key: this.viewModel.year,\n            dir: this.yearDirection,\n            goTo: this.__goToYear,\n            boundaries: this.navBoundaries.year,\n            cls: ' col'\n          })\n        ])\n      )\n\n      return h('div', {\n        key: 'months-view',\n        staticClass: 'q-date__view q-date__months flex flex-center'\n      }, content)\n    },\n\n    __getYearsView (h) {\n      const\n        start = this.startYear,\n        stop = start + yearsInterval,\n        years = []\n\n      const isDisabled = year => {\n        return (\n          (this.minNav !== void 0 && this.minNav.year > year) ||\n          (this.maxNav !== void 0 && this.maxNav.year < year)\n        )\n      }\n\n      for (let i = start; i <= stop; i++) {\n        const active = this.viewModel.year === i\n\n        years.push(\n          h('div', {\n            staticClass: 'q-date__years-item flex flex-center'\n          }, [\n            h(QBtn, {\n              key: 'yr' + i,\n              staticClass: this.today.year === i ? 'q-date__today' : null,\n              props: {\n                flat: !active,\n                label: i,\n                dense: true,\n                unelevated: active,\n                color: active === true ? this.computedColor : null,\n                textColor: active === true ? this.computedTextColor : null,\n                tabindex: this.computedTabindex,\n                disable: isDisabled(i)\n              },\n              on: cache(this, 'yr#' + i, { click: () => { this.__setYear(i) } })\n            })\n          ])\n        )\n      }\n\n      return h('div', {\n        staticClass: 'q-date__view q-date__years flex flex-center'\n      }, [\n        h('div', {\n          staticClass: 'col-auto'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              flat: true,\n              icon: this.dateArrow[0],\n              tabindex: this.computedTabindex,\n              disable: isDisabled(start)\n            },\n            on: cache(this, 'y-', { click: () => { this.startYear -= yearsInterval } })\n          })\n        ]),\n\n        h('div', {\n          staticClass: 'q-date__years-content col self-stretch row items-center'\n        }, years),\n\n        h('div', {\n          staticClass: 'col-auto'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              flat: true,\n              icon: this.dateArrow[1],\n              tabindex: this.computedTabindex,\n              disable: isDisabled(stop)\n            },\n            on: cache(this, 'y+', { click: () => { this.startYear += yearsInterval } })\n          })\n        ])\n      ])\n    },\n\n    __goToMonth (offset) {\n      let year = this.viewModel.year\n      let month = Number(this.viewModel.month) + offset\n\n      if (month === 13) {\n        month = 1\n        year++\n      }\n      else if (month === 0) {\n        month = 12\n        year--\n      }\n\n      this.__updateViewModel(year, month)\n      this.isImmediate === true && this.__emitImmediately('month')\n    },\n\n    __goToYear (offset) {\n      const year = Number(this.viewModel.year) + offset\n      this.__updateViewModel(year, this.viewModel.month)\n      this.isImmediate === true && this.__emitImmediately('year')\n    },\n\n    __setYear (year) {\n      this.__updateViewModel(year, this.viewModel.month)\n      this.view = this.defaultView === 'Years' ? 'Months' : 'Calendar'\n      this.isImmediate === true && this.__emitImmediately('year')\n    },\n\n    __setMonth (month) {\n      this.__updateViewModel(this.viewModel.year, month)\n      this.view = 'Calendar'\n      this.isImmediate === true && this.__emitImmediately('month')\n    },\n\n    __getMonthHash (date) {\n      return date.year + '/' + pad(date.month)\n    },\n\n    __toggleDate (date, monthHash) {\n      const month = this.daysMap[monthHash]\n      const fn = month !== void 0 && month.includes(date.day) === true\n        ? this.__removeFromModel\n        : this.__addToModel\n\n      fn(date)\n    },\n\n    __getShortDate (date) {\n      return { year: date.year, month: date.month, day: date.day }\n    },\n\n    __onDayClick (dayIndex) {\n      const day = { ...this.viewModel, day: dayIndex }\n\n      if (this.range === false) {\n        this.__toggleDate(day, this.viewMonthHash)\n        return\n      }\n\n      if (this.editRange === void 0) {\n        const dayProps = this.days.find(day => day.fill !== true && day.i === dayIndex)\n\n        if (dayProps.range !== void 0) {\n          this.__removeFromModel({ target: day, from: dayProps.range.from, to: dayProps.range.to })\n          return\n        }\n\n        if (dayProps.selected === true) {\n          this.__removeFromModel(day)\n          return\n        }\n\n        const initHash = this.__getDayHash(day)\n\n        this.editRange = {\n          init: day,\n          initHash,\n          final: day,\n          finalHash: initHash\n        }\n\n        this.$emit('range-start', this.__getShortDate(day))\n      }\n      else {\n        const\n          initHash = this.editRange.initHash,\n          finalHash = this.__getDayHash(day),\n          payload = initHash <= finalHash\n            ? { from: this.editRange.init, to: day }\n            : { from: day, to: this.editRange.init }\n\n        this.editRange = void 0\n        this.__addToModel(initHash === finalHash ? day : { target: day, ...payload })\n\n        this.$emit('range-end', {\n          from: this.__getShortDate(payload.from),\n          to: this.__getShortDate(payload.to)\n        })\n      }\n    },\n\n    __onDayMouseover (dayIndex) {\n      if (this.editRange !== void 0) {\n        const final = { ...this.viewModel, day: dayIndex }\n\n        Object.assign(this.editRange, {\n          final,\n          finalHash: this.__getDayHash(final)\n        })\n      }\n    },\n\n    __updateViewModel (year, month, time) {\n      if (this.minNav !== void 0 && year <= this.minNav.year) {\n        year = this.minNav.year\n        if (month < this.minNav.month) {\n          month = this.minNav.month\n        }\n      }\n\n      if (this.maxNav !== void 0 && year >= this.maxNav.year) {\n        year = this.maxNav.year\n        if (month > this.maxNav.month) {\n          month = this.maxNav.month\n        }\n      }\n\n      if (time !== void 0) {\n        const { hour, minute, second, millisecond, timezoneOffset, timeHash } = time\n        Object.assign(this.viewModel, { hour, minute, second, millisecond, timezoneOffset, timeHash })\n      }\n\n      const newHash = year + '/' + pad(month) + '/01'\n\n      if (newHash !== this.viewModel.dateHash) {\n        this.monthDirection = (this.viewModel.dateHash < newHash) === (this.$q.lang.rtl !== true) ? 'left' : 'right'\n        if (year !== this.viewModel.year) {\n          this.yearDirection = this.monthDirection\n        }\n\n        this.$nextTick(() => {\n          this.startYear = year - year % yearsInterval - (year < 0 ? yearsInterval : 0)\n          Object.assign(this.viewModel, {\n            year,\n            month,\n            day: 1,\n            dateHash: newHash\n          })\n        })\n      }\n    },\n\n    __emitValue (val, action, date) {\n      const value = val !== null && val.length === 1 && this.multiple === false\n        ? val[0]\n        : val\n\n      this.lastEmitValue = value\n\n      const { reason, details } = this.__getEmitParams(action, date)\n      this.$emit('input', value, reason, details)\n    },\n\n    __emitImmediately (reason) {\n      const date = this.daysModel[0] !== void 0 && this.daysModel[0].dateHash !== null\n        ? { ...this.daysModel[0] }\n        : { ...this.viewModel } // inherit day, hours, minutes, milliseconds...\n\n      // nextTick required because of animation delay in viewModel\n      this.$nextTick(() => {\n        date.year = this.viewModel.year\n        date.month = this.viewModel.month\n\n        const maxDay = this.calendar !== 'persian'\n          ? (new Date(date.year, date.month, 0)).getDate()\n          : jalaaliMonthLength(date.year, date.month)\n\n        date.day = Math.min(Math.max(1, date.day), maxDay)\n\n        const value = this.__encodeEntry(date)\n        this.lastEmitValue = value\n\n        const { details } = this.__getEmitParams('', date)\n        this.$emit('input', value, reason, details)\n      })\n    },\n\n    __getEmitParams (action, date) {\n      return date.from !== void 0\n        ? {\n          reason: `${action}-range`,\n          details: {\n            ...this.__getShortDate(date.target),\n            from: this.__getShortDate(date.from),\n            to: this.__getShortDate(date.to),\n            changed: true // TODO remove in v2; legacy purposes\n          }\n        }\n        : {\n          reason: `${action}-day`,\n          details: {\n            ...this.__getShortDate(date),\n            changed: true // TODO remove in v2; legacy purposes\n          }\n        }\n    },\n\n    __encodeEntry (date, mask, locale) {\n      return date.from !== void 0\n        ? { from: this.encodeObjectFn(date.from, mask, locale), to: this.encodeObjectFn(date.to, mask, locale) }\n        : this.encodeObjectFn(date, mask, locale)\n    },\n\n    __addToModel (date) {\n      let value\n\n      if (this.multiple === true) {\n        if (date.from !== void 0) {\n          // we also need to filter out intersections\n\n          const fromHash = this.__getDayHash(date.from)\n          const toHash = this.__getDayHash(date.to)\n\n          const days = this.daysModel\n            .filter(day => day.dateHash < fromHash || day.dateHash > toHash)\n\n          const ranges = this.rangeModel\n            .filter(({ from, to }) => to.dateHash < fromHash || from.dateHash > toHash)\n\n          value = days.concat(ranges).concat(date).map(entry => this.__encodeEntry(entry))\n        }\n        else {\n          const model = this.normalizedModel.slice()\n          model.push(this.__encodeEntry(date))\n          value = model\n        }\n      }\n      else {\n        value = this.__encodeEntry(date)\n      }\n\n      this.__emitValue(value, 'add', date)\n    },\n\n    __removeFromModel (date) {\n      if (this.noUnset === true) {\n        return\n      }\n\n      let model = null\n\n      if (this.multiple === true && Array.isArray(this.value) === true) {\n        const val = this.__encodeEntry(date)\n\n        if (date.from !== void 0) {\n          model = this.value.filter(\n            date => date.from !== void 0\n              ? (date.from !== val.from && date.to !== val.to)\n              : true\n          )\n        }\n        else {\n          model = this.value.filter(date => date !== val)\n        }\n\n        if (model.length === 0) {\n          model = null\n        }\n      }\n\n      this.__emitValue(model, 'remove', date)\n    },\n\n    __updateValue (mask, locale, reason) {\n      const model = this.daysModel\n        .concat(this.rangeModel)\n        .map(entry => this.__encodeEntry(entry, mask, locale))\n        .filter(entry => {\n          return entry.from !== void 0\n            ? entry.from.dateHash !== null && entry.to.dateHash !== null\n            : entry.dateHash !== null\n        })\n\n      this.$emit('input', (this.multiple === true ? model : model[0]) || null, reason)\n    }\n  },\n\n  render (h) {\n    const content = [\n      h('div', {\n        staticClass: 'q-date__content col relative-position'\n      }, [\n        h('transition', {\n          props: { name: 'q-transition--fade' }\n        }, [\n          this[`__get${this.view}View`](h)\n        ])\n      ])\n    ]\n\n    const def = slot(this, 'default')\n    def !== void 0 && content.push(\n      h('div', { staticClass: 'q-date__actions' }, def)\n    )\n\n    if (this.name !== void 0 && this.disable !== true) {\n      this.__injectFormInput(content, 'push')\n    }\n\n    return h('div', {\n      class: this.classes,\n      attrs: this.attrs,\n      on: { ...this.qListeners }\n    }, [\n      this.__getHeader(h),\n\n      h('div', {\n        staticClass: 'q-date__main col column',\n        attrs: { tabindex: -1 },\n        ref: 'blurTarget'\n      }, content)\n    ])\n  }\n})\n"],"mappings":"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"}]}