{"remainingRequest":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js!/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js??ref--1-1!/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/informasi/jadwal_donor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/informasi/jadwal_donor.vue","mtime":1761487773259},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/babel.config.js","mtime":1755527684372},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js","mtime":1758930419036},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js","mtime":1758930412679},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/vue-loader/lib/index.js","mtime":1758930412640}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFVNVU0gZnJvbSAiLi4vLi4vbGlicmFyeS91bXVtLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0X2RhdGE6IFtdLAogICAgICBmb3JtOiB7CiAgICAgICAgbmFtYV9rZWdpYXRhbjogJycsCiAgICAgICAgdGFuZ2dhbF9tdWxhaTogJycsCiAgICAgICAgdGFuZ2dhbF9zZWxlc2FpOiAnJywKICAgICAgICBqYW06ICcnLAogICAgICAgIGxva2FzaTogJycsCiAgICAgICAgbWFwX2xpbms6ICcnLAogICAgICAgIGtldGVyYW5nYW46ICcnLAogICAgICAgIGZpbGVfbmFtZTogbnVsbCwKICAgICAgICBqdW1sYWhfdGVyZGFmdGFyOiBudWxsLAogICAgICAgIHN0YXR1czogMSAvLyBkZWZhdWx0IGFrdGlmCiAgICAgIH0sCgogICAgICBmaWxlQmFydTogbnVsbCwKICAgICAgVU1VTTogVU1VTSwKICAgICAgYnRuX2FkZDogZmFsc2UsCiAgICAgIGJ0bl9lZGl0OiBmYWxzZSwKICAgICAgbWRsX2FkZDogZmFsc2UsCiAgICAgIG1kbF9lZGl0OiBmYWxzZSwKICAgICAgbWRsX2RlbGV0ZTogZmFsc2UsCiAgICAgIG1kbF9saWhhdDogZmFsc2UsCiAgICAgIG1kbF9pbWFnZTogZmFsc2UsCiAgICAgIG1kbF9wZXNlcnRhOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRJbWFnZTogbnVsbCwKICAgICAgY2FyaV92YWx1ZTogIiIsCiAgICAgIHBhZ2VfZmlyc3Q6IDEsCiAgICAgIHBhZ2VfbGFzdDogMSwKICAgICAgcGFnZV9saW1pdDogOSwKICAgICAgdG90YWw6IDAsCiAgICAgIHRpcGU6IG51bGwsCiAgICAgIGZpbGVfcGF0aDogdGhpcy4kc3RvcmUuc3RhdGUudXJsLlVSTF9BUFAgKyAidXBsb2Fkcy8iLAogICAgICBzdGF0dXNPcHRpb25zOiBbewogICAgICAgIGxhYmVsOiAnMSAtIEFrdGlmJywKICAgICAgICB2YWx1ZTogMQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICcyIC0gU2VsZXNhaScsCiAgICAgICAgdmFsdWU6IDIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnMyAtIERpYmF0YWxrYW4nLAogICAgICAgIHZhbHVlOiAzCiAgICAgIH1dLAogICAgICBjdXJyZW50SmFkd2FsOiB7fSwKICAgICAgcGFydGljaXBhbnRzOiBbXSwKICAgICAgcGFydGljaXBhbnRzQ291bnQ6IHt9LAogICAgICBwZW5kb25vckRhcmFoT3B0aW9uczogW10sCiAgICAgIHNlbGVjdGVkUGVuZG9ub3I6IG51bGwsCiAgICAgIGJ0bl9hZGRfcGVzZXJ0YTogZmFsc2UsCiAgICAgIHNlYXJjaElucHV0OiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBhdmFpbGFibGVPcHRpb25zKCkgewogICAgICAvLyBidWF0IHNldCBpZCBwZXNlcnRhIChzdHJpbmcpIHVudHVrIHBlcmJhbmRpbmdhbgogICAgICBjb25zdCBwYXJ0SWRzID0gbmV3IFNldCgodGhpcy5wYXJ0aWNpcGFudHMgfHwgW10pLm1hcChwID0+IHsKICAgICAgICB2YXIgX3JlZiwgX3JlZjIsIF9yZWYzLCBfcCRwZW5kb25vcl9pZDsKICAgICAgICByZXR1cm4gU3RyaW5nKChfcmVmID0gKF9yZWYyID0gKF9yZWYzID0gKF9wJHBlbmRvbm9yX2lkID0gcC5wZW5kb25vcl9pZCkgIT09IG51bGwgJiYgX3AkcGVuZG9ub3JfaWQgIT09IHZvaWQgMCA/IF9wJHBlbmRvbm9yX2lkIDogcC5pZCkgIT09IG51bGwgJiYgX3JlZjMgIT09IHZvaWQgMCA/IF9yZWYzIDogcC51c2VyX2lkKSAhPT0gbnVsbCAmJiBfcmVmMiAhPT0gdm9pZCAwID8gX3JlZjIgOiBwLmlkX3BlbmRvbm9yKSAhPT0gbnVsbCAmJiBfcmVmICE9PSB2b2lkIDAgPyBfcmVmIDogJycpOwogICAgICB9KS5maWx0ZXIoQm9vbGVhbikpOwoKICAgICAgLy8gbm9ybWFsaXNhc2kgcGVuZG9ub3JEYXJhaE9wdGlvbnMgLT4gcGFzdGlrYW4gaWQgc2ViYWdhaSBzdHJpbmcgZGFuIGFkYSBsYWJlbAogICAgICBjb25zdCBub3JtYWxpemVkID0gKHRoaXMucGVuZG9ub3JEYXJhaE9wdGlvbnMgfHwgW10pLm1hcChvcHQgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAuLi5vcHQsCiAgICAgICAgICBpZDogU3RyaW5nKG9wdC5pZCksCiAgICAgICAgICBsYWJlbDogKG9wdC5sYWJlbCB8fCBgJHtvcHQubmFtYV9sZW5na2FwIHx8IG9wdC5uYW1hIHx8ICctJ30gLyAke29wdC5nb2xvbmdhbl9kYXJhaCB8fCAnJ30gJHtvcHQucmhlc3VzID8gb3B0LnJoZXN1cyA6ICcnfSAvICR7b3B0Lm5vX2hwIHx8ICctJ31gKS50cmltKCkKICAgICAgICB9OwogICAgICB9KTsKCiAgICAgIC8vIGhpbGFuZ2thbiB5YW5nIHN1ZGFoIHRlcmRhZnRhcgogICAgICBsZXQgYXZhaWxhYmxlID0gbm9ybWFsaXplZC5maWx0ZXIobyA9PiAhcGFydElkcy5oYXMoU3RyaW5nKG8uaWQpKSk7CgogICAgICAvLyBoYXB1cyBkdXBsaWthdCBiZXJkYXNhcmthbiBpZCAoa2VhbWFuYW4pCiAgICAgIGF2YWlsYWJsZSA9IGF2YWlsYWJsZS5maWx0ZXIoKGl0ZW0sIGlkeCwgYXJyKSA9PiBhcnIuZmluZEluZGV4KHggPT4geC5pZCA9PT0gaXRlbS5pZCkgPT09IGlkeCk7CgogICAgICAvLyBzdXBwb3J0IHNlYXJjaElucHV0IHNlcGVydGkgc2ViZWx1bW55YQogICAgICBjb25zdCBpbnB1dCA9IFN0cmluZyh0aGlzLnNlYXJjaElucHV0IHx8ICcnKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTsKICAgICAgaWYgKCFpbnB1dCkgewogICAgICAgIHJldHVybiBhdmFpbGFibGUuc2xpY2UoMCwgOCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGF2YWlsYWJsZS5maWx0ZXIob3B0ID0+IChvcHQubGFiZWwgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoaW5wdXQpKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN0YXR1c0xhYmVsKHZhbCkgewogICAgICBpZiAodmFsID09IDEpIHJldHVybiAnQWt0aWYnOwogICAgICBpZiAodmFsID09IDIpIHJldHVybiAnU2VsZXNhaSc7CiAgICAgIGlmICh2YWwgPT0gMykgcmV0dXJuICdEaWJhdGFsa2FuJzsKICAgICAgcmV0dXJuICctJzsKICAgIH0sCiAgICBzdGF0dXNDb2xvcih2YWwpIHsKICAgICAgaWYgKHZhbCA9PSAxKSByZXR1cm4gJ3Bvc2l0aXZlJzsKICAgICAgaWYgKHZhbCA9PSAyKSByZXR1cm4gJ3dhcm5pbmcnOwogICAgICBpZiAodmFsID09IDMpIHJldHVybiAnbmVnYXRpdmUnOwogICAgICByZXR1cm4gJ2dyZXknOwogICAgfSwKICAgIG9wZW5FZGl0KGRhdGEpIHsKICAgICAgdmFyIF9kYXRhJGp1bWxhaF90ZXJkYWZ0YTsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiBkYXRhLmlkIHx8IG51bGwsCiAgICAgICAgbmFtYV9rZWdpYXRhbjogZGF0YS5uYW1hX2tlZ2lhdGFuIHx8ICcnLAogICAgICAgIHRhbmdnYWxfbXVsYWk6IGRhdGEudGFuZ2dhbF9tdWxhaSB8fCAnJywKICAgICAgICB0YW5nZ2FsX3NlbGVzYWk6IGRhdGEudGFuZ2dhbF9zZWxlc2FpIHx8ICcnLAogICAgICAgIGphbTogZGF0YS5qYW0gfHwgJycsCiAgICAgICAgbG9rYXNpOiBkYXRhLmxva2FzaSB8fCAnJywKICAgICAgICBtYXBfbGluazogZGF0YS5tYXBfbGluayB8fCAnJywKICAgICAgICBrZXRlcmFuZ2FuOiBkYXRhLmtldGVyYW5nYW4gfHwgJycsCiAgICAgICAgZmlsZV9uYW1lOiBkYXRhLmZpbGVfbmFtZSB8fCBudWxsLAogICAgICAgIGp1bWxhaF90ZXJkYWZ0YXI6IChfZGF0YSRqdW1sYWhfdGVyZGFmdGEgPSBkYXRhLmp1bWxhaF90ZXJkYWZ0YXIpICE9PSBudWxsICYmIF9kYXRhJGp1bWxhaF90ZXJkYWZ0YSAhPT0gdm9pZCAwID8gX2RhdGEkanVtbGFoX3RlcmRhZnRhIDogbnVsbCwKICAgICAgICBzdGF0dXM6IGRhdGEuc3RhdHVzICE9IG51bGwgPyBkYXRhLnN0YXR1cyA6IDEKICAgICAgfTsKICAgICAgdGhpcy5maWxlQmFydSA9IG51bGw7CiAgICAgIHRoaXMubWRsX2VkaXQgPSB0cnVlOwogICAgfSwKICAgIG9wZW5EZWxldGUoZGF0YSkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IGRhdGEuaWQKICAgICAgfTsKICAgICAgdGhpcy5tZGxfZGVsZXRlID0gdHJ1ZTsKICAgIH0sCiAgICBvcGVuTGloYXQoZGF0YSkgewogICAgICB2YXIgX2RhdGEkanVtbGFoX3RlcmRhZnRhMjsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiBkYXRhLmlkIHx8IG51bGwsCiAgICAgICAgbmFtYV9rZWdpYXRhbjogZGF0YS5uYW1hX2tlZ2lhdGFuIHx8ICcnLAogICAgICAgIHRhbmdnYWxfbXVsYWk6IGRhdGEudGFuZ2dhbF9tdWxhaSB8fCAnJywKICAgICAgICB0YW5nZ2FsX3NlbGVzYWk6IGRhdGEudGFuZ2dhbF9zZWxlc2FpIHx8ICcnLAogICAgICAgIGphbTogZGF0YS5qYW0gfHwgJycsCiAgICAgICAgbG9rYXNpOiBkYXRhLmxva2FzaSB8fCAnJywKICAgICAgICBtYXBfbGluazogZGF0YS5tYXBfbGluayB8fCAnJywKICAgICAgICBrZXRlcmFuZ2FuOiBkYXRhLmtldGVyYW5nYW4gfHwgJycsCiAgICAgICAgZmlsZV9uYW1lOiBkYXRhLmZpbGVfbmFtZSB8fCBudWxsLAogICAgICAgIGp1bWxhaF90ZXJkYWZ0YXI6IChfZGF0YSRqdW1sYWhfdGVyZGFmdGEyID0gZGF0YS5qdW1sYWhfdGVyZGFmdGFyKSAhPT0gbnVsbCAmJiBfZGF0YSRqdW1sYWhfdGVyZGFmdGEyICE9PSB2b2lkIDAgPyBfZGF0YSRqdW1sYWhfdGVyZGFmdGEyIDogbnVsbCwKICAgICAgICBzdGF0dXM6IGRhdGEuc3RhdHVzICE9IG51bGwgPyBOdW1iZXIoZGF0YS5zdGF0dXMpIDogMQogICAgICB9OwogICAgICB0aGlzLm1kbF9saWhhdCA9IHRydWU7CiAgICB9LAogICAgb3BlbkltYWdlKHNyYykgewogICAgICB0aGlzLnNlbGVjdGVkSW1hZ2UgPSBzcmM7CiAgICAgIHRoaXMubWRsX2ltYWdlID0gdHJ1ZTsKICAgIH0sCiAgICByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBuYW1hX2tlZ2lhdGFuOiAnJywKICAgICAgICB0YW5nZ2FsX211bGFpOiAnJywKICAgICAgICB0YW5nZ2FsX3NlbGVzYWk6ICcnLAogICAgICAgIGphbTogJycsCiAgICAgICAgbG9rYXNpOiAnJywKICAgICAgICBtYXBfbGluazogJycsCiAgICAgICAga2V0ZXJhbmdhbjogJycsCiAgICAgICAgZmlsZV9uYW1lOiBudWxsLAogICAgICAgIGp1bWxhaF90ZXJkYWZ0YXI6IG51bGwsCiAgICAgICAgc3RhdHVzOiAxCiAgICAgIH07CiAgICAgIHRoaXMuZmlsZUJhcnUgPSBudWxsOwogICAgfSwKICAgIGFzeW5jIGdldFZpZXcoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaG9XTG9hZGluZyIpOwogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5KQURXQUxfRE9OT1IgKyAiZ2V0dmlldyIsIHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICAgIH0sCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIGRhdGFfa2U6IHRoaXMucGFnZV9maXJzdCwKICAgICAgICAgICAgY2FyaV92YWx1ZTogdGhpcy5jYXJpX3ZhbHVlLAogICAgICAgICAgICBwYWdlX2xpbWl0OiB0aGlzLnBhZ2VfbGltaXQKICAgICAgICAgIH0pCiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgcmVzX2RhdGEgPSBhd2FpdCByZXMuanNvbigpOwogICAgICAgIHRoaXMubGlzdF9kYXRhID0gcmVzX2RhdGEuZGF0YSB8fCBbXTsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzX2RhdGEudG90YWwgfHwgMDsKICAgICAgICB0aGlzLnBhZ2VfbGFzdCA9IE1hdGguY2VpbCh0aGlzLnRvdGFsIC8gdGhpcy5wYWdlX2xpbWl0KSB8fCAxOwoKICAgICAgICAvLyB1cGRhdGUgY291bnRzIHVudHVrIHNlbXVhIGphZHdhbCB5YW5nIHRlci1sb2FkIChwYXJhbGVsKQogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMubGlzdF9kYXRhKSAmJiB0aGlzLmxpc3RfZGF0YS5sZW5ndGgpIHsKICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gdGhpcy5saXN0X2RhdGEubWFwKGl0ZW0gPT4gdGhpcy5mZXRjaFBhcnRpY2lwYW50c0NvdW50KGl0ZW0uaWQpKTsKICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJoaWRlTG9hZGluZyIpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLinYwgRXJyb3IgZ2V0VmlldyBKYWR3YWwgRG9ub3I6IiwgZXJyKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImhpZGVMb2FkaW5nIik7CiAgICAgIH0KICAgIH0sCiAgICBhZGREYXRhKCkgewogICAgICB0aGlzLmJ0bl9hZGQgPSB0cnVlOwogICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoIm5hbWFfa2VnaWF0YW4iLCB0aGlzLmZvcm0ubmFtYV9rZWdpYXRhbik7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgidGFuZ2dhbF9tdWxhaSIsIHRoaXMuZm9ybS50YW5nZ2FsX211bGFpKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJ0YW5nZ2FsX3NlbGVzYWkiLCB0aGlzLmZvcm0udGFuZ2dhbF9zZWxlc2FpKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJqYW0iLCB0aGlzLmZvcm0uamFtKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJsb2thc2kiLCB0aGlzLmZvcm0ubG9rYXNpKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJtYXBfbGluayIsIHRoaXMuZm9ybS5tYXBfbGluayB8fCAnJyk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgia2V0ZXJhbmdhbiIsIHRoaXMuZm9ybS5rZXRlcmFuZ2FuIHx8ICcnKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJqdW1sYWhfdGVyZGFmdGFyIiwgdGhpcy5mb3JtLmp1bWxhaF90ZXJkYWZ0YXIgIT0gbnVsbCA/IHRoaXMuZm9ybS5qdW1sYWhfdGVyZGFmdGFyIDogJycpOwogICAgICAvLyBzZXQgc3RhdHVzIGRlZmF1bHQgPSAxIChBa3RpZikKICAgICAgZm9ybURhdGEuYXBwZW5kKCJzdGF0dXMiLCAxKTsKCiAgICAgIC8vIHEtZmlsZSB2LW1vZGVsIHN1ZGFoIGRpLWJpbmQga2UgZm9ybS5maWxlX25hbWUgcGFkYSB0ZW1wbGF0ZSBBbmRhCiAgICAgIC8vIGppa2EgdXNlciBtZW1pbGloIGZpbGUgZGkgYWRkIC0+IGZvcm0uZmlsZV9uYW1lIGFrYW4gbWVuamFkaSBGaWxlIG9iamVjdAogICAgICBpZiAodGhpcy5mb3JtLmZpbGVfbmFtZSkgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZV9uYW1lIiwgdGhpcy5mb3JtLmZpbGVfbmFtZSk7CiAgICAgIH0KICAgICAgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkpBRFdBTF9ET05PUiArICJhZGREYXRhIiwgewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIGF1dGhvcml6YXRpb246ICJraWtlbnNiYXRhcmEgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgIH0sCiAgICAgICAgYm9keTogZm9ybURhdGEKICAgICAgfSkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihyZXNfZGF0YSA9PiB7CiAgICAgICAgdGhpcy5idG5fYWRkID0gZmFsc2U7CiAgICAgICAgaWYgKHJlc19kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgdHlwZTogInBvc2l0aXZlIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzX2RhdGEubWVzc2FnZSB8fCAiU3Vrc2VzIG1lbmFtYmFoIGphZHdhbCIKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5nZXRWaWV3KCk7CiAgICAgICAgICB0aGlzLm1kbF9hZGQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgdHlwZTogIm5lZ2F0aXZlIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzX2RhdGEubWVzc2FnZSB8fCAiR2FnYWwgbWVuYW1iYWggamFkd2FsIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIHRoaXMuYnRuX2FkZCA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBFcnJvciBhZGREYXRhIEphZHdhbCBEb25vcjoiLCBlcnIpOwogICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICBtZXNzYWdlOiAiVGVyamFkaSBrZXNhbGFoYW4gc2VydmVyIgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyB1cGRhdGVEYXRhKCkgewogICAgICB0cnkgewogICAgICAgIHRoaXMuYnRuX2VkaXQgPSB0cnVlOwogICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJpZCIsIHRoaXMuZm9ybS5pZCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJuYW1hX2tlZ2lhdGFuIiwgdGhpcy5mb3JtLm5hbWFfa2VnaWF0YW4pOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgidGFuZ2dhbF9tdWxhaSIsIHRoaXMuZm9ybS50YW5nZ2FsX211bGFpKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInRhbmdnYWxfc2VsZXNhaSIsIHRoaXMuZm9ybS50YW5nZ2FsX3NlbGVzYWkpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiamFtIiwgdGhpcy5mb3JtLmphbSk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJsb2thc2kiLCB0aGlzLmZvcm0ubG9rYXNpKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoIm1hcF9saW5rIiwgdGhpcy5mb3JtLm1hcF9saW5rIHx8ICcnKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImtldGVyYW5nYW4iLCB0aGlzLmZvcm0ua2V0ZXJhbmdhbiB8fCAnJyk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJqdW1sYWhfdGVyZGFmdGFyIiwgdGhpcy5mb3JtLmp1bWxhaF90ZXJkYWZ0YXIgIT0gbnVsbCA/IHRoaXMuZm9ybS5qdW1sYWhfdGVyZGFmdGFyIDogJycpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgic3RhdHVzIiwgdHlwZW9mIHRoaXMuZm9ybS5zdGF0dXMgPT09ICJvYmplY3QiID8gdGhpcy5mb3JtLnN0YXR1cy52YWx1ZSA6IHRoaXMuZm9ybS5zdGF0dXMpOwogICAgICAgIGlmICh0aGlzLmZpbGVCYXJ1KSB7CiAgICAgICAgICAvLyB1c2VyIHVwbG9hZCBmaWxlIGJhcnUgcGFkYSBlZGl0CiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGVfbmFtZSIsIHRoaXMuZmlsZUJhcnUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyB0aWRhayB1cGxvYWQgYmFydSAtPiBraXJpbSBuYW1hIGZpbGUgbGFtYSBhZ2FyIGJhY2tlbmQgdGFodSB0ZXRhcCBtZW1ha2FpIGZpbGUgbGFtYQogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlX25hbWUiLCB0aGlzLmZvcm0uZmlsZV9uYW1lIHx8ICcnKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkpBRFdBTF9ET05PUiArICJlZGl0RGF0YSIsIHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICAgIH0sCiAgICAgICAgICBib2R5OiBmb3JtRGF0YQogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgICAgdGhpcy5idG5fZWRpdCA9IGZhbHNlOwogICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgdGhpcy4kcS5ub3RpZnkoewogICAgICAgICAgICB0eXBlOiAicG9zaXRpdmUiLAogICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB8fCAiU3Vrc2VzIHVwZGF0ZSBqYWR3YWwiCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubWRsX2VkaXQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZ2V0VmlldygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIHx8ICJHYWdhbCB1cGRhdGUgamFkd2FsIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICB0aGlzLmJ0bl9lZGl0ID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5lcnJvcigi4p2MIEVycm9yIHVwZGF0ZURhdGEgSmFkd2FsIERvbm9yOiIsIGVycik7CiAgICAgICAgdGhpcy4kcS5ub3RpZnkoewogICAgICAgICAgdHlwZTogIm5lZ2F0aXZlIiwKICAgICAgICAgIG1lc3NhZ2U6ICJHYWdhbCB1cGRhdGUgZGF0YSIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZURhdGEoKSB7CiAgICAgIGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5KQURXQUxfRE9OT1IgKyAicmVtb3ZlRGF0YSIsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBpZDogdGhpcy5mb3JtLmlkCiAgICAgICAgfSkKICAgICAgfSkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihyZXNfZGF0YSA9PiB7CiAgICAgICAgaWYgKHJlc19kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgdHlwZTogInBvc2l0aXZlIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzX2RhdGEubWVzc2FnZSB8fCAnU3Vrc2VzIG1lbmdoYXB1cyBqYWR3YWwnCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZ2V0VmlldygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc19kYXRhLm1lc3NhZ2UgfHwgJ0RhdGEgdGlkYWsgZGl0ZW11a2FuJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBFcnJvciByZW1vdmVEYXRhIEphZHdhbCBEb25vcjoiLCBlcnIpOwogICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICBtZXNzYWdlOiAnVGVyamFkaSBrZXNhbGFoYW4gc2VydmVyJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjYXJpX2RhdGEoKSB7CiAgICAgIHRoaXMucGFnZV9maXJzdCA9IDE7CiAgICAgIHRoaXMuZ2V0VmlldygpOwogICAgfSwKICAgIGluZGV4aW5nKGluZGV4KSB7CiAgICAgIHJldHVybiAodGhpcy5wYWdlX2ZpcnN0IC0gMSkgKiB0aGlzLnBhZ2VfbGltaXQgKyBpbmRleDsKICAgIH0sCiAgICBhc3luYyBvcGVuUGVzZXJ0YShqYWR3YWwpIHsKICAgICAgdGhpcy5jdXJyZW50SmFkd2FsID0gamFkd2FsIHx8IHt9OwogICAgICB0aGlzLm1kbF9wZXNlcnRhID0gdHJ1ZTsKICAgICAgdGhpcy5wYXJ0aWNpcGFudHMgPSBbXTsKICAgICAgdGhpcy5wZW5kb25vckRhcmFoT3B0aW9ucyA9IFtdOwogICAgICB0aGlzLnNlbGVjdGVkUGVuZG9ub3IgPSBudWxsOwogICAgICB0aGlzLmJ0bl9hZGRfcGVzZXJ0YSA9IGZhbHNlOwogICAgICB0aGlzLnNlYXJjaElucHV0ID0gJyc7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaG9XTG9hZGluZyIpOwoKICAgICAgICAvLyAxKSBhbWJpbCBwZXNlcnRhIChwZW5kb25vciB5YW5nIHN1ZGFoIGRpdGF1dGthbiBrZSBqYWR3YWwpIGRhcmkgYmFja2VuZAogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5KQURXQUxfRE9OT1IgKyAiZ2V0UGFydGljaXBhbnRzIiwgewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJraWtlbnNiYXRhcmEgIiArIGxvY2FsU3RvcmFnZS50b2tlbgogICAgICAgICAgfSwKICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgamFkd2FsX2lkOiB0aGlzLmN1cnJlbnRKYWR3YWwuaWQKICAgICAgICAgIH0pCiAgICAgICAgfSk7CiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudHMgPSBqc29uLmRhdGEgfHwgW107CiAgICAgICAgY29uc29sZS5sb2coJ1BhcnRpY2lwYW50cyB1cGRhdGVkOicsIHRoaXMucGFydGljaXBhbnRzKTsKICAgICAgICB0aGlzLiRzZXQodGhpcy5wYXJ0aWNpcGFudHNDb3VudCwgdGhpcy5jdXJyZW50SmFkd2FsLmlkLCAodGhpcy5wYXJ0aWNpcGFudHMgfHwgW10pLmxlbmd0aCk7CgogICAgICAgIC8vIDIpIGFtYmlsIHNlbHVydWggcGVuZG9ub3IgZGFyaSB0YWJlbCBwZW5kb25vcl9kYXJhaCB1bnR1ayBvcHNpIHNlbGVjdAogICAgICAgIC8vIEdBTlRJIGVuZHBvaW50IGRpIGJhd2FoIGppa2EgbmFtYSBlbmRwb2ludCBBbmRhIGJlcmJlZGEKICAgICAgICAvLyBjb250b2ggYXN1bXNpOiB0aGlzLiRzdG9yZS5zdGF0ZS51cmwuUEVORE9OT1JfREFSQUggKyAibGlzdCIKICAgICAgICBjb25zdCBwZW5kUmVzID0gYXdhaXQgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLlJFR0lTX0RPTk9SICsgImxpc3QiLCB7CiAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBjb25zdCBwZW5kSnNvbiA9IGF3YWl0IHBlbmRSZXMuanNvbigpOwogICAgICAgIGNvbnNvbGUubG9nKCdSYXcgYmFja2VuZCBkYXRhOicsIHBlbmRKc29uLmRhdGEpOwogICAgICAgIC8vIENlayBkdXBsaWthc2kgbGFiZWwKICAgICAgICBjb25zdCBsYWJlbHMgPSBwZW5kSnNvbi5kYXRhLm1hcChkID0+IGQubGFiZWwpOwogICAgICAgIGNvbnN0IHVuaXF1ZUxhYmVscyA9IFsuLi5uZXcgU2V0KGxhYmVscyldOwogICAgICAgIGlmIChsYWJlbHMubGVuZ3RoICE9PSB1bmlxdWVMYWJlbHMubGVuZ3RoKSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oJ0R1cGxpa2FzaSBsYWJlbCBkYXJpIGJhY2tlbmQ6JywgbGFiZWxzLmZpbHRlcigobCwgaSkgPT4gbGFiZWxzLmluZGV4T2YobCkgIT09IGkpKTsKICAgICAgICB9CiAgICAgICAgY29uc29sZS5sb2coJ3BlbmRvbm9yIGxpc3QgcmVzcG9uc2U6JywgcGVuZEpzb24pOwogICAgICAgIC8vIHBlbmRKc29uLmRhdGEgZGloYXJhcGthbiBhcnJheSBvYmplazogeyBpZCwgbmFtYSwgamVuaXNfa2VsYW1pbiwgZ29sb25nYW5fZGFyYWgsIHJoZXN1cywgbm9faHAgfQogICAgICAgIC8vIERpIGRhbGFtIG9wZW5QZXNlcnRhKCksIGdhbnRpIG1hcHBpbmcgaW5pOgogICAgICAgIC8vIHRoaXMucGVuZG9ub3JEYXJhaE9wdGlvbnMgPSAocGVuZEpzb24uZGF0YSB8fCBbXSkubWFwKHAgPT4gewogICAgICAgIC8vICAgICBjb25zdCBuYW1hID0gcC5uYW1hX2xlbmdrYXAgfHwgJyc7ICAvLyA8LS0gSU5JIFNBTEFIOiBwLm5hbWFfbGVuZ2thcCB0aWRhayBhZGEKICAgICAgICAvLyAgICAgY29uc3QgZ29sID0gcC5nb2xvbmdhbl9kYXJhaCB8fCAnJzsKICAgICAgICAvLyAgICAgY29uc3Qgcmhlc3VzID0gcC5yaGVzdXMgfHwgJyc7CiAgICAgICAgLy8gICAgIGNvbnN0IG5vX2hwID0gcC5ub19ocCB8fCAnJzsKICAgICAgICAvLyAgICAgcmV0dXJuIHsKICAgICAgICAvLyAgICAgICAgIGlkOiBTdHJpbmcocC5pZCksCiAgICAgICAgLy8gICAgICAgICBsYWJlbDogYCR7bmFtYSB8fCAnLSd9IOKAlCAke2dvbCB8fCAnLSd9JHtyaGVzdXMgPyByaGVzdXMgOiAnJ30g4oCUICR7bm9faHAgfHwgJy0nfWAsCiAgICAgICAgLy8gICAgICAgICByYXc6IHAKICAgICAgICAvLyAgICAgfTsKICAgICAgICAvLyB9KTsKICAgICAgICAvLyBNRU5KQURJOiBHdW5ha2FuIGRhdGEgbGFuZ3N1bmcgZGFyaSBiYWNrZW5kIChzdWRhaCBhZGEgbGFiZWwgZGFuIHJhdykKICAgICAgICAvLyB0aGlzLnBlbmRvbm9yRGFyYWhPcHRpb25zID0gcGVuZEpzb24uZGF0YSB8fCBbXTsKICAgICAgICB0aGlzLnBlbmRvbm9yRGFyYWhPcHRpb25zID0gKHBlbmRKc29uLmRhdGEgfHwgW10pLm1hcChwID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC4uLnAsCiAgICAgICAgICAgIGlkOiBTdHJpbmcocC5pZCksCiAgICAgICAgICAgIC8vIHdhamliIHN0cmluZyBhZ2FyIGtvbnNpc3RlbgogICAgICAgICAgICBsYWJlbDogcC5sYWJlbCA/IFN0cmluZyhwLmxhYmVsKSA6IGAke3AubmFtYV9sZW5na2FwIHx8IHAubmFtYSB8fCAnLSd9IOKAlCAke3AuZ29sb25nYW5fZGFyYWggfHwgJy0nfSAke3Aucmhlc3VzID8gcC5yaGVzdXMgOiAnJ30g4oCUICR7cC5ub19ocCB8fCAnLSd9YC50cmltKCkKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJoaWRlTG9hZGluZyIpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLinYwgRXJyb3Igb3BlblBlc2VydGE6IiwgZXJyKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImhpZGVMb2FkaW5nIik7CiAgICAgICAgdGhpcy4kcS5ub3RpZnkoewogICAgICAgICAgdHlwZTogIm5lZ2F0aXZlIiwKICAgICAgICAgIG1lc3NhZ2U6ICJHYWdhbCBtZW11YXQgcGVzZXJ0YSAvIGRhZnRhciBwZW5kb25vciIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uU2VsZWN0UGVuZG9ub3IodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RlZFBlbmRvbm9yIChvYmplayBwZW51aCk6JywgdmFsKTsKICAgICAgdGhpcy5zZWxlY3RlZFBlbmRvbm9yID0gdmFsOyAvLyB2YWwgYWRhbGFoIG9iamVrIHBlbnVoCiAgICB9LAoKICAgIHJlc2V0UGVzZXJ0YUZvcm0oKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRQZW5kb25vciA9IG51bGw7CiAgICAgIHRoaXMuc2VhcmNoSW5wdXQgPSAnJzsKICAgICAgdGhpcy5idG5fYWRkX3Blc2VydGEgPSBmYWxzZTsKICAgIH0sCiAgICBhc3luYyBhZGRQZXNlcnRhKCkgewogICAgICBpZiAoIXRoaXMuY3VycmVudEphZHdhbC5pZCkgewogICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICBtZXNzYWdlOiAiRGF0YSBqYWR3YWwgdGlkYWsgZGl0ZW11a2FuIgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRQZW5kb25vcikgewogICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICBtZXNzYWdlOiAiUGlsaWggcGVuZG9ub3IgZGFyaSBkYWZ0YXIgdGVybGViaWggZGFodWx1IgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmJ0bl9hZGRfcGVzZXJ0YSA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgYm9keSA9IHsKICAgICAgICAgIGphZHdhbF9pZDogdGhpcy5jdXJyZW50SmFkd2FsLmlkLAogICAgICAgICAgcGVuZG9ub3JfaWQ6IHRoaXMuc2VsZWN0ZWRQZW5kb25vciA/IHRoaXMuc2VsZWN0ZWRQZW5kb25vci5pZCA6IG51bGwgLy8gQWtzZXMgaWQgZGFyaSBvYmplawogICAgICAgIH07CgogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHRoaXMuJHN0b3JlLnN0YXRlLnVybC5KQURXQUxfRE9OT1IgKyAiYWRkUGFydGljaXBhbnQiLCB7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgICB9LAogICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkKICAgICAgICB9KTsKICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICB0aGlzLmJ0bl9hZGRfcGVzZXJ0YSA9IGZhbHNlOwogICAgICAgIGlmIChqc29uLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgdHlwZTogInBvc2l0aXZlIiwKICAgICAgICAgICAgbWVzc2FnZToganNvbi5tZXNzYWdlIHx8ICJQZXNlcnRhIGJlcmhhc2lsIGRpdGFtYmFoa2FuIgogICAgICAgICAgfSk7CiAgICAgICAgICBhd2FpdCB0aGlzLm9wZW5QZXNlcnRhKHRoaXMuY3VycmVudEphZHdhbCk7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkUGVuZG9ub3IgPSBudWxsOyAvLyBSZXNldAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICAgIG1lc3NhZ2U6IGpzb24ubWVzc2FnZSB8fCAiR2FnYWwgbWVuYW1iYWhrYW4gcGVzZXJ0YSIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgdGhpcy5idG5fYWRkX3Blc2VydGEgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmVycm9yKCLinYwgRXJyb3IgYWRkUGVzZXJ0YToiLCBlcnIpOwogICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICJuZWdhdGl2ZSIsCiAgICAgICAgICBtZXNzYWdlOiAiVGVyamFkaSBrZXNhbGFoYW4gc2VydmVyIgogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlUGVzZXJ0YShwZXNlcnRhSWQpIHsKICAgICAgaWYgKCFwZXNlcnRhSWQpIHsKICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICB0eXBlOiAnbmVnYXRpdmUnLAogICAgICAgICAgbWVzc2FnZTogJ0lEIHBlc2VydGEgdGlkYWsgZGl0ZW11a2FuJwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBvayA9IHdpbmRvdy5jb25maXJtKCdBcGFrYWggQW5kYSB5YWtpbiBpbmdpbiBtZW5naGFwdXMgcGVzZXJ0YSBpbmk/Jyk7CiAgICAgIGlmICghb2spIHJldHVybjsKICAgICAgZmV0Y2godGhpcy4kc3RvcmUuc3RhdGUudXJsLkpBRFdBTF9ET05PUiArICJyZW1vdmVQYXJ0aWNpcGFudCIsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgYXV0aG9yaXphdGlvbjogImtpa2Vuc2JhdGFyYSAiICsgbG9jYWxTdG9yYWdlLnRva2VuCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBpZDogcGVzZXJ0YUlkCiAgICAgICAgfSkKICAgICAgfSkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkudGhlbihyZXNfZGF0YSA9PiB7CiAgICAgICAgaWYgKHJlc19kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgdHlwZTogInBvc2l0aXZlIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzX2RhdGEubWVzc2FnZSB8fCAnUGVzZXJ0YSBiZXJoYXNpbCBkaWhhcHVzJwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLm9wZW5QZXNlcnRhKHRoaXMuY3VycmVudEphZHdhbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgdHlwZTogIm5lZ2F0aXZlIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzX2RhdGEubWVzc2FnZSB8fCAnUGVzZXJ0YSB0aWRhayBkaXRlbXVrYW4nCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcigi4p2MIEVycm9yIHJlbW92ZVBlc2VydGE6IiwgZXJyKTsKICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICB0eXBlOiAibmVnYXRpdmUiLAogICAgICAgICAgbWVzc2FnZTogJ1RlcmphZGkga2VzYWxhaGFuIHNlcnZlcicKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgb25GaWx0ZXIodmFsLCB1cGRhdGVGbikgewogICAgICB0aGlzLnNlYXJjaElucHV0ID0gdmFsOyAvLyBUcmFjayBpbnB1dAogICAgICB1cGRhdGVGbigpOyAvLyBVcGRhdGUgb3BzaQogICAgfSwKCiAgICBhc3luYyBmZXRjaFBhcnRpY2lwYW50c0NvdW50KGphZHdhbElkKSB7CiAgICAgIGlmICghamFkd2FsSWQpIHJldHVybjsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh0aGlzLiRzdG9yZS5zdGF0ZS51cmwuSkFEV0FMX0RPTk9SICsgImdldFBhcnRpY2lwYW50cyIsIHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICBhdXRob3JpemF0aW9uOiAia2lrZW5zYmF0YXJhICIgKyBsb2NhbFN0b3JhZ2UudG9rZW4KICAgICAgICAgIH0sCiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIGphZHdhbF9pZDogamFkd2FsSWQKICAgICAgICAgIH0pCiAgICAgICAgfSk7CiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgICAgY29uc3QgY291bnQgPSBBcnJheS5pc0FycmF5KGpzb24uZGF0YSkgPyBqc29uLmRhdGEubGVuZ3RoIDogMDsKICAgICAgICAvLyBzaW1wYW4ga2UgbWFwCiAgICAgICAgdGhpcy4kc2V0KHRoaXMucGFydGljaXBhbnRzQ291bnQsIGphZHdhbElkLCBjb3VudCk7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIuKdjCBFcnJvciBmZXRjaFBhcnRpY2lwYW50c0NvdW50OiIsIGVycik7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMucGFydGljaXBhbnRzQ291bnQsIGphZHdhbElkLCAwKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VmlldygpOwogIH0KfTs="},{"version":3,"names":["UMUM","data","list_data","form","nama_kegiatan","tanggal_mulai","tanggal_selesai","jam","lokasi","map_link","keterangan","file_name","jumlah_terdaftar","status","fileBaru","btn_add","btn_edit","mdl_add","mdl_edit","mdl_delete","mdl_lihat","mdl_image","mdl_peserta","selectedImage","cari_value","page_first","page_last","page_limit","total","tipe","file_path","$store","state","url","URL_APP","statusOptions","label","value","currentJadwal","participants","participantsCount","pendonorDarahOptions","selectedPendonor","btn_add_peserta","searchInput","computed","availableOptions","partIds","Set","map","p","_ref","_ref2","_ref3","_p$pendonor_id","String","pendonor_id","id","user_id","id_pendonor","filter","Boolean","normalized","opt","nama_lengkap","nama","golongan_darah","rhesus","no_hp","trim","available","o","has","item","idx","arr","findIndex","x","input","toLowerCase","slice","includes","methods","statusLabel","val","statusColor","openEdit","_data$jumlah_terdafta","openDelete","openLihat","_data$jumlah_terdafta2","Number","openImage","src","resetForm","getView","commit","res","fetch","JADWAL_DONOR","method","headers","authorization","localStorage","token","body","JSON","stringify","data_ke","res_data","json","Math","ceil","Array","isArray","length","promises","fetchParticipantsCount","Promise","all","err","console","error","addData","formData","FormData","append","then","success","$q","notify","type","message","catch","updateData","result","removeData","cari_data","indexing","index","openPeserta","jadwal","jadwal_id","log","$set","pendRes","REGIS_DONOR","pendJson","labels","d","uniqueLabels","warn","l","i","indexOf","onSelectPendonor","resetPesertaForm","addPeserta","removePeserta","pesertaId","ok","window","confirm","onFilter","updateFn","jadwalId","count","mounted"],"sources":["/Users/simplephi/Documents/riswan/stock_darah/admin/src/views/informasi/jadwal_donor.vue"],"sourcesContent":["\nimport UMUM from \"../../library/umum.js\";\n\nexport default {\n    data() {\n        return {\n            list_data: [],\n            form: {\n                nama_kegiatan: '',\n                tanggal_mulai: '',\n                tanggal_selesai: '',\n                jam: '',\n                lokasi: '',\n                map_link: '',\n                keterangan: '',\n                file_name: null,\n                jumlah_terdaftar: null,\n                status: 1 // default aktif\n            },\n            fileBaru: null,\n            UMUM: UMUM,\n            btn_add: false,\n            btn_edit: false,\n            mdl_add: false,\n            mdl_edit: false,\n            mdl_delete: false,\n            mdl_lihat: false,\n            mdl_image: false,\n            mdl_peserta: false,\n            selectedImage: null,\n            cari_value: \"\",\n            page_first: 1,\n            page_last: 1,\n            page_limit: 9,\n            total: 0,\n            tipe: null,\n            file_path: this.$store.state.url.URL_APP + \"uploads/\",\n            statusOptions: [\n                { label: '1 - Aktif', value: 1 },\n                { label: '2 - Selesai', value: 2 },\n                { label: '3 - Dibatalkan', value: 3 }\n            ],\n            currentJadwal: {},\n            participants: [],\n            participantsCount: {},\n            pendonorDarahOptions: [],\n            selectedPendonor: null,\n            btn_add_peserta: false,\n            searchInput: '',\n        }\n    },\n\n\n    computed: {\n        availableOptions() {\n            // buat set id peserta (string) untuk perbandingan\n            const partIds = new Set(\n                (this.participants || [])\n                    .map(p => String(p.pendonor_id ?? p.id ?? p.user_id ?? p.id_pendonor ?? ''))\n                    .filter(Boolean)\n            );\n\n            // normalisasi pendonorDarahOptions -> pastikan id sebagai string dan ada label\n            const normalized = (this.pendonorDarahOptions || []).map(opt => {\n                return {\n                    ...opt,\n                    id: String(opt.id),\n                    label: (opt.label || `${opt.nama_lengkap || opt.nama || '-'} / ${opt.golongan_darah || ''} ${opt.rhesus ? opt.rhesus : ''} / ${opt.no_hp || '-'}`).trim()\n                };\n            });\n\n            // hilangkan yang sudah terdaftar\n            let available = normalized.filter(o => !partIds.has(String(o.id)));\n\n            // hapus duplikat berdasarkan id (keamanan)\n            available = available.filter((item, idx, arr) => arr.findIndex(x => x.id === item.id) === idx);\n\n            // support searchInput seperti sebelumnya\n            const input = String(this.searchInput || '').toLowerCase().trim();\n            if (!input) {\n                return available.slice(0, 8);\n            }\n            return available.filter(opt => (opt.label || '').toLowerCase().includes(input));\n        }\n    },\n\n    methods: {\n\n        statusLabel(val) {\n            if (val == 1) return 'Aktif'\n            if (val == 2) return 'Selesai'\n            if (val == 3) return 'Dibatalkan'\n            return '-'\n        },\n\n        statusColor(val) {\n            if (val == 1) return 'positive'\n            if (val == 2) return 'warning'\n            if (val == 3) return 'negative'\n            return 'grey'\n        },\n\n        openEdit(data) {\n            this.form = {\n                id: data.id || null,\n                nama_kegiatan: data.nama_kegiatan || '',\n                tanggal_mulai: data.tanggal_mulai || '',\n                tanggal_selesai: data.tanggal_selesai || '',\n                jam: data.jam || '',\n                lokasi: data.lokasi || '',\n                map_link: data.map_link || '',\n                keterangan: data.keterangan || '',\n                file_name: data.file_name || null,\n                jumlah_terdaftar: data.jumlah_terdaftar ?? null,\n                status: data.status != null ? data.status : 1\n            }\n            this.fileBaru = null\n            this.mdl_edit = true\n        },\n\n\n        openDelete(data) {\n            this.form = { id: data.id }\n            this.mdl_delete = true\n        },\n\n        openLihat(data) {\n            this.form = {\n                id: data.id || null,\n                nama_kegiatan: data.nama_kegiatan || '',\n                tanggal_mulai: data.tanggal_mulai || '',\n                tanggal_selesai: data.tanggal_selesai || '',\n                jam: data.jam || '',\n                lokasi: data.lokasi || '',\n                map_link: data.map_link || '',\n                keterangan: data.keterangan || '',\n                file_name: data.file_name || null,\n                jumlah_terdaftar: data.jumlah_terdaftar ?? null,\n                status: data.status != null ? Number(data.status) : 1\n            }\n            this.mdl_lihat = true\n        },\n\n        openImage(src) {\n            this.selectedImage = src\n            this.mdl_image = true\n        },\n\n        resetForm() {\n            this.form = {\n                id: null,\n                nama_kegiatan: '',\n                tanggal_mulai: '',\n                tanggal_selesai: '',\n                jam: '',\n                lokasi: '',\n                map_link: '',\n                keterangan: '',\n                file_name: null,\n                jumlah_terdaftar: null,\n                status: 1\n            }\n            this.fileBaru = null\n        },\n\n        async getView() {\n            try {\n                this.$store.commit(\"shoWLoading\");\n\n                const res = await fetch(this.$store.state.url.JADWAL_DONOR + \"getview\", {\n                    method: \"POST\",\n                    headers: {\n                        \"content-type\": \"application/json\",\n                        authorization: \"kikensbatara \" + localStorage.token\n                    },\n                    body: JSON.stringify({\n                        data_ke: this.page_first,\n                        cari_value: this.cari_value,\n                        page_limit: this.page_limit\n                    })\n                });\n\n                const res_data = await res.json();\n\n                this.list_data = res_data.data || [];\n                this.total = res_data.total || 0;\n                this.page_last = Math.ceil(this.total / this.page_limit) || 1;\n\n                // update counts untuk semua jadwal yang ter-load (paralel)\n                if (Array.isArray(this.list_data) && this.list_data.length) {\n                    const promises = this.list_data.map(item => this.fetchParticipantsCount(item.id));\n                    await Promise.all(promises);\n                }\n\n                this.$store.commit(\"hideLoading\");\n            } catch (err) {\n                console.error(\"❌ Error getView Jadwal Donor:\", err);\n                this.$store.commit(\"hideLoading\");\n            }\n        },\n\n        addData() {\n            this.btn_add = true;\n            const formData = new FormData();\n\n            formData.append(\"nama_kegiatan\", this.form.nama_kegiatan);\n            formData.append(\"tanggal_mulai\", this.form.tanggal_mulai);\n            formData.append(\"tanggal_selesai\", this.form.tanggal_selesai);\n            formData.append(\"jam\", this.form.jam);\n            formData.append(\"lokasi\", this.form.lokasi);\n            formData.append(\"map_link\", this.form.map_link || '');\n            formData.append(\"keterangan\", this.form.keterangan || '');\n            formData.append(\"jumlah_terdaftar\", this.form.jumlah_terdaftar != null ? this.form.jumlah_terdaftar : '');\n            // set status default = 1 (Aktif)\n            formData.append(\"status\", 1);\n\n            // q-file v-model sudah di-bind ke form.file_name pada template Anda\n            // jika user memilih file di add -> form.file_name akan menjadi File object\n            if (this.form.file_name) {\n                formData.append(\"file_name\", this.form.file_name);\n            }\n\n            fetch(this.$store.state.url.JADWAL_DONOR + \"addData\", {\n                method: \"POST\",\n                headers: {\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: formData\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    this.btn_add = false;\n                    if (res_data.success) {\n                        this.$q.notify({ type: \"positive\", message: res_data.message || \"Sukses menambah jadwal\" })\n                        this.getView();\n                        this.mdl_add = false;\n                        this.resetForm();\n                    } else {\n                        this.$q.notify({ type: \"negative\", message: res_data.message || \"Gagal menambah jadwal\" })\n                    }\n                })\n                .catch(err => {\n                    this.btn_add = false;\n                    console.error(\"❌ Error addData Jadwal Donor:\", err);\n                    this.$q.notify({ type: \"negative\", message: \"Terjadi kesalahan server\" })\n                })\n        },\n\n        async updateData() {\n            try {\n                this.btn_edit = true;\n                const formData = new FormData();\n                formData.append(\"id\", this.form.id);\n                formData.append(\"nama_kegiatan\", this.form.nama_kegiatan);\n                formData.append(\"tanggal_mulai\", this.form.tanggal_mulai);\n                formData.append(\"tanggal_selesai\", this.form.tanggal_selesai);\n                formData.append(\"jam\", this.form.jam);\n                formData.append(\"lokasi\", this.form.lokasi);\n                formData.append(\"map_link\", this.form.map_link || '');\n                formData.append(\"keterangan\", this.form.keterangan || '');\n                formData.append(\"jumlah_terdaftar\", this.form.jumlah_terdaftar != null ? this.form.jumlah_terdaftar : '');\n                formData.append(\n                    \"status\",\n                    typeof this.form.status === \"object\"\n                        ? this.form.status.value\n                        : this.form.status\n                );\n\n\n                if (this.fileBaru) {\n                    // user upload file baru pada edit\n                    formData.append(\"file_name\", this.fileBaru);\n                } else {\n                    // tidak upload baru -> kirim nama file lama agar backend tahu tetap memakai file lama\n                    formData.append(\"file_name\", this.form.file_name || '');\n                }\n\n                const res = await fetch(this.$store.state.url.JADWAL_DONOR + \"editData\", {\n                    method: \"POST\",\n                    headers: {\n                        authorization: \"kikensbatara \" + localStorage.token\n                    },\n                    body: formData\n                });\n\n                const result = await res.json();\n                this.btn_edit = false;\n                if (result.success) {\n                    this.$q.notify({ type: \"positive\", message: result.message || \"Sukses update jadwal\" })\n                    this.mdl_edit = false;\n                    this.getView();\n                } else {\n                    this.$q.notify({ type: \"negative\", message: result.message || \"Gagal update jadwal\" })\n                }\n            } catch (err) {\n                this.btn_edit = false;\n                console.error(\"❌ Error updateData Jadwal Donor:\", err);\n                this.$q.notify({ type: \"negative\", message: \"Gagal update data\" })\n            }\n        },\n\n        removeData() {\n            fetch(this.$store.state.url.JADWAL_DONOR + \"removeData\", {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: JSON.stringify({ id: this.form.id })\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    if (res_data.success) {\n                        this.$q.notify({ type: \"positive\", message: res_data.message || 'Sukses menghapus jadwal' })\n                        this.getView()\n                    } else {\n                        this.$q.notify({ type: \"negative\", message: res_data.message || 'Data tidak ditemukan' })\n                    }\n                })\n                .catch(err => {\n                    console.error(\"❌ Error removeData Jadwal Donor:\", err);\n                    this.$q.notify({ type: \"negative\", message: 'Terjadi kesalahan server' })\n                })\n        },\n\n        cari_data() {\n            this.page_first = 1;\n            this.getView();\n        },\n\n        indexing(index) {\n            return ((this.page_first - 1) * this.page_limit) + index;\n        },\n\n        async openPeserta(jadwal) {\n            this.currentJadwal = jadwal || {};\n            this.mdl_peserta = true;\n            this.participants = [];\n            this.pendonorDarahOptions = [];\n            this.selectedPendonor = null;\n            this.btn_add_peserta = false;\n            this.searchInput = '';\n\n            try {\n                this.$store.commit(\"shoWLoading\");\n\n                // 1) ambil peserta (pendonor yang sudah ditautkan ke jadwal) dari backend\n                const res = await fetch(this.$store.state.url.JADWAL_DONOR + \"getParticipants\", {\n                    method: \"POST\",\n                    headers: {\n                        \"content-type\": \"application/json\",\n                        authorization: \"kikensbatara \" + localStorage.token\n                    },\n                    body: JSON.stringify({ jadwal_id: this.currentJadwal.id })\n                });\n                const json = await res.json();\n                this.participants = json.data || [];\n                console.log('Participants updated:', this.participants);\n\n                this.$set(this.participantsCount, this.currentJadwal.id, (this.participants || []).length);\n\n\n                // 2) ambil seluruh pendonor dari tabel pendonor_darah untuk opsi select\n                // GANTI endpoint di bawah jika nama endpoint Anda berbeda\n                // contoh asumsi: this.$store.state.url.PENDONOR_DARAH + \"list\"\n                const pendRes = await fetch(this.$store.state.url.REGIS_DONOR + \"list\", {\n                    method: \"GET\",\n                    headers: {\n                        authorization: \"kikensbatara \" + localStorage.token\n                    }\n                });\n                const pendJson = await pendRes.json();\n                console.log('Raw backend data:', pendJson.data);\n                // Cek duplikasi label\n                const labels = pendJson.data.map(d => d.label);\n                const uniqueLabels = [...new Set(labels)];\n                if (labels.length !== uniqueLabels.length) {\n                    console.warn('Duplikasi label dari backend:', labels.filter((l, i) => labels.indexOf(l) !== i));\n                }\n\n\n                console.log('pendonor list response:', pendJson);\n                // pendJson.data diharapkan array objek: { id, nama, jenis_kelamin, golongan_darah, rhesus, no_hp }\n                // Di dalam openPeserta(), ganti mapping ini:\n                // this.pendonorDarahOptions = (pendJson.data || []).map(p => {\n                //     const nama = p.nama_lengkap || '';  // <-- INI SALAH: p.nama_lengkap tidak ada\n                //     const gol = p.golongan_darah || '';\n                //     const rhesus = p.rhesus || '';\n                //     const no_hp = p.no_hp || '';\n                //     return {\n                //         id: String(p.id),\n                //         label: `${nama || '-'} — ${gol || '-'}${rhesus ? rhesus : ''} — ${no_hp || '-'}`,\n                //         raw: p\n                //     };\n                // });\n                // MENJADI: Gunakan data langsung dari backend (sudah ada label dan raw)\n                // this.pendonorDarahOptions = pendJson.data || [];\n                this.pendonorDarahOptions = (pendJson.data || []).map(p => {\n                    return {\n                        ...p,\n                        id: String(p.id), // wajib string agar konsisten\n                        label: p.label ? String(p.label) : `${p.nama_lengkap || p.nama || '-'} — ${p.golongan_darah || '-'} ${p.rhesus ? p.rhesus : ''} — ${p.no_hp || '-'}`.trim()\n                    };\n                });\n\n                this.$store.commit(\"hideLoading\");\n            } catch (err) {\n                console.error(\"❌ Error openPeserta:\", err);\n                this.$store.commit(\"hideLoading\");\n                this.$q.notify({ type: \"negative\", message: \"Gagal memuat peserta / daftar pendonor\" });\n            }\n        },\n\n        onSelectPendonor(val) {\n            console.log('selectedPendonor (objek penuh):', val);\n            this.selectedPendonor = val;  // val adalah objek penuh\n\n        },\n\n\n        resetPesertaForm() {\n            this.selectedPendonor = null;\n            this.searchInput = '';\n            this.btn_add_peserta = false;\n        },\n\n        async addPeserta() {\n            if (!this.currentJadwal.id) {\n                this.$q.notify({ type: \"negative\", message: \"Data jadwal tidak ditemukan\" });\n                return;\n            }\n            if (!this.selectedPendonor) {\n                this.$q.notify({ type: \"negative\", message: \"Pilih pendonor dari daftar terlebih dahulu\" });\n                return;\n            }\n\n            this.btn_add_peserta = true;\n            try {\n                const body = {\n                    jadwal_id: this.currentJadwal.id,\n                    pendonor_id: this.selectedPendonor ? this.selectedPendonor.id : null  // Akses id dari objek\n                };\n\n                const res = await fetch(this.$store.state.url.JADWAL_DONOR + \"addParticipant\", {\n                    method: \"POST\",\n                    headers: {\n                        \"content-type\": \"application/json\",\n                        authorization: \"kikensbatara \" + localStorage.token\n                    },\n                    body: JSON.stringify(body)\n                });\n\n                const json = await res.json();\n                this.btn_add_peserta = false;\n\n                if (json.success) {\n                    this.$q.notify({ type: \"positive\", message: json.message || \"Peserta berhasil ditambahkan\" });\n                    await this.openPeserta(this.currentJadwal);\n                    this.selectedPendonor = null;  // Reset\n                } else {\n                    this.$q.notify({ type: \"negative\", message: json.message || \"Gagal menambahkan peserta\" });\n                }\n            } catch (err) {\n                this.btn_add_peserta = false;\n                console.error(\"❌ Error addPeserta:\", err);\n                this.$q.notify({ type: \"negative\", message: \"Terjadi kesalahan server\" });\n            }\n        },\n\n        removePeserta(pesertaId) {\n            if (!pesertaId) {\n                this.$q.notify({ type: 'negative', message: 'ID peserta tidak ditemukan' });\n                return;\n            }\n\n            const ok = window.confirm('Apakah Anda yakin ingin menghapus peserta ini?');\n            if (!ok) return;\n\n            fetch(this.$store.state.url.JADWAL_DONOR + \"removeParticipant\", {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                    authorization: \"kikensbatara \" + localStorage.token\n                },\n                body: JSON.stringify({ id: pesertaId })\n            })\n                .then(res => res.json())\n                .then(res_data => {\n                    if (res_data.success) {\n                        this.$q.notify({ type: \"positive\", message: res_data.message || 'Peserta berhasil dihapus' });\n                        this.openPeserta(this.currentJadwal);\n                    } else {\n                        this.$q.notify({ type: \"negative\", message: res_data.message || 'Peserta tidak ditemukan' });\n                    }\n                })\n                .catch(err => {\n                    console.error(\"❌ Error removePeserta:\", err);\n                    this.$q.notify({ type: \"negative\", message: 'Terjadi kesalahan server' });\n                });\n        },\n        onFilter(val, updateFn) {\n            this.searchInput = val;  // Track input\n            updateFn();  // Update opsi\n        },\n        async fetchParticipantsCount(jadwalId) {\n            if (!jadwalId) return;\n            try {\n                const res = await fetch(this.$store.state.url.JADWAL_DONOR + \"getParticipants\", {\n                    method: \"POST\",\n                    headers: {\n                        \"content-type\": \"application/json\",\n                        authorization: \"kikensbatara \" + localStorage.token\n                    },\n                    body: JSON.stringify({ jadwal_id: jadwalId })\n                });\n                const json = await res.json();\n                const count = Array.isArray(json.data) ? json.data.length : 0;\n                // simpan ke map\n                this.$set(this.participantsCount, jadwalId, count);\n            } catch (err) {\n                console.error(\"❌ Error fetchParticipantsCount:\", err);\n                this.$set(this.participantsCount, jadwalId, 0);\n            }\n        },\n\n\n    },\n\n    mounted() {\n        this.getView();\n    }\n}\n"],"mappings":"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"}]}