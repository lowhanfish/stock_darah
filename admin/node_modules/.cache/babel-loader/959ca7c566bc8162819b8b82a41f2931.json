{"remainingRequest":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js!/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/quasar/src/utils/morph.js","dependencies":[{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/quasar/src/utils/morph.js","mtime":1758930416687},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/babel.config.js","mtime":1755527684372},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/cache-loader/dist/cjs.js","mtime":1758930418112},{"path":"/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/babel-loader/lib/index.js","mtime":1758930419036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0RWxlbWVudCB9IGZyb20gJy4vZG9tLmpzJzsKaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL2lzJzsKbGV0IGlkID0gMDsKbGV0IG9mZnNldEJhc2UgPSB2b2lkIDA7CmZ1bmN0aW9uIGdldEFic29sdXRlUG9zaXRpb24oZWwsIHJlc2l6ZSkgewogIGlmIChvZmZzZXRCYXNlID09PSB2b2lkIDApIHsKICAgIG9mZnNldEJhc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIG9mZnNldEJhc2Uuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDA7IHRvcDogMCc7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG9mZnNldEJhc2UpOwogIH0KICBjb25zdCBib3VuZGluZ1JlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICBjb25zdCBiYXNlUmVjdCA9IG9mZnNldEJhc2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgY29uc3QgewogICAgbWFyZ2luTGVmdCwKICAgIG1hcmdpblJpZ2h0LAogICAgbWFyZ2luVG9wLAogICAgbWFyZ2luQm90dG9tCiAgfSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTsKICBjb25zdCBtYXJnaW5IID0gcGFyc2VJbnQobWFyZ2luTGVmdCwgMTApICsgcGFyc2VJbnQobWFyZ2luUmlnaHQsIDEwKTsKICBjb25zdCBtYXJnaW5WID0gcGFyc2VJbnQobWFyZ2luVG9wLCAxMCkgKyBwYXJzZUludChtYXJnaW5Cb3R0b20sIDEwKTsKICByZXR1cm4gewogICAgbGVmdDogYm91bmRpbmdSZWN0LmxlZnQgLSBiYXNlUmVjdC5sZWZ0LAogICAgdG9wOiBib3VuZGluZ1JlY3QudG9wIC0gYmFzZVJlY3QudG9wLAogICAgd2lkdGg6IGJvdW5kaW5nUmVjdC5yaWdodCAtIGJvdW5kaW5nUmVjdC5sZWZ0LAogICAgaGVpZ2h0OiBib3VuZGluZ1JlY3QuYm90dG9tIC0gYm91bmRpbmdSZWN0LnRvcCwKICAgIHdpZHRoTTogYm91bmRpbmdSZWN0LnJpZ2h0IC0gYm91bmRpbmdSZWN0LmxlZnQgKyAocmVzaXplID09PSB0cnVlID8gMCA6IG1hcmdpbkgpLAogICAgaGVpZ2h0TTogYm91bmRpbmdSZWN0LmJvdHRvbSAtIGJvdW5kaW5nUmVjdC50b3AgKyAocmVzaXplID09PSB0cnVlID8gMCA6IG1hcmdpblYpLAogICAgbWFyZ2luSDogcmVzaXplID09PSB0cnVlID8gbWFyZ2luSCA6IDAsCiAgICBtYXJnaW5WOiByZXNpemUgPT09IHRydWUgPyBtYXJnaW5WIDogMAogIH07Cn0KZnVuY3Rpb24gZ2V0QWJzb2x1dGVTaXplKGVsKSB7CiAgcmV0dXJuIHsKICAgIHdpZHRoOiBlbC5zY3JvbGxXaWR0aCwKICAgIGhlaWdodDogZWwuc2Nyb2xsSGVpZ2h0CiAgfTsKfQoKLy8gZmlyZWZveCBydWxlegpjb25zdCBzdHlsZUVkZ2VzID0gWydUb3AnLCAnUmlnaHQnLCAnQm90dG9tJywgJ0xlZnQnXTsKY29uc3Qgc3R5bGVCb3JkZXJSYWRpdXNlcyA9IFsnYm9yZGVyVG9wTGVmdFJhZGl1cycsICdib3JkZXJUb3BSaWdodFJhZGl1cycsICdib3JkZXJCb3R0b21SaWdodFJhZGl1cycsICdib3JkZXJCb3R0b21MZWZ0UmFkaXVzJ107CmNvbnN0IHJlU3R5bGVTa2lwS2V5ID0gLy1ibG9ja3wtaW5saW5lfGJsb2NrLXxpbmxpbmUtLzsKY29uc3QgcmVTdHlsZVNraXBSdWxlID0gLygtYmxvY2t8LWlubGluZXxibG9jay18aW5saW5lLSkuKjovOwpmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsLCBwcm9wcykgewogIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpOwogIGNvbnN0IGZpeGVkID0ge307CiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgY29uc3QgcHJvcCA9IHByb3BzW2ldOwogICAgaWYgKHN0eWxlW3Byb3BdID09PSAnJykgewogICAgICBpZiAocHJvcCA9PT0gJ2Nzc1RleHQnKSB7CiAgICAgICAgY29uc3Qgc3R5bGVMZW4gPSBzdHlsZS5sZW5ndGg7CiAgICAgICAgbGV0IHZhbCA9ICcnOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVMZW47IGkrKykgewogICAgICAgICAgaWYgKHJlU3R5bGVTa2lwS2V5LnRlc3Qoc3R5bGVbaV0pICE9PSB0cnVlKSB7CiAgICAgICAgICAgIHZhbCArPSBzdHlsZVtpXSArICc6ICcgKyBzdHlsZVtzdHlsZVtpXV0gKyAnOyAnOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmaXhlZFtwcm9wXSA9IHZhbDsKICAgICAgfSBlbHNlIGlmIChbJ2JvcmRlcldpZHRoJywgJ2JvcmRlclN0eWxlJywgJ2JvcmRlckNvbG9yJ10uaW5kZXhPZihwcm9wKSA+IC0xKSB7CiAgICAgICAgY29uc3Qgc3VmZml4ID0gcHJvcC5yZXBsYWNlKCdib3JkZXInLCAnJyk7CiAgICAgICAgbGV0IHZhbCA9ICcnOwogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc3R5bGVFZGdlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgY29uc3Qgc3ViUHJvcCA9ICdib3JkZXInICsgc3R5bGVFZGdlc1tqXSArIHN1ZmZpeDsKICAgICAgICAgIHZhbCArPSBzdHlsZVtzdWJQcm9wXSArICcgJzsKICAgICAgICB9CiAgICAgICAgZml4ZWRbcHJvcF0gPSB2YWw7CiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gJ2JvcmRlclJhZGl1cycpIHsKICAgICAgICBsZXQgdmFsMSA9ICcnOwogICAgICAgIGxldCB2YWwyID0gJyc7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdHlsZUJvcmRlclJhZGl1c2VzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjb25zdCB2YWwgPSBzdHlsZVtzdHlsZUJvcmRlclJhZGl1c2VzW2pdXS5zcGxpdCgnICcpOwogICAgICAgICAgdmFsMSArPSB2YWxbMF0gKyAnICc7CiAgICAgICAgICB2YWwyICs9ICh2YWxbMV0gPT09IHZvaWQgMCA/IHZhbFswXSA6IHZhbFsxXSkgKyAnICc7CiAgICAgICAgfQogICAgICAgIGZpeGVkW3Byb3BdID0gdmFsMSArICcvICcgKyB2YWwyOwogICAgICB9IGVsc2UgewogICAgICAgIGZpeGVkW3Byb3BdID0gc3R5bGVbcHJvcF07CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChwcm9wID09PSAnY3NzVGV4dCcpIHsKICAgICAgICBmaXhlZFtwcm9wXSA9IHN0eWxlW3Byb3BdLnNwbGl0KCc7JykuZmlsdGVyKHZhbCA9PiByZVN0eWxlU2tpcFJ1bGUudGVzdCh2YWwpICE9PSB0cnVlKS5qb2luKCc7Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZml4ZWRbcHJvcF0gPSBzdHlsZVtwcm9wXTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gZml4ZWQ7Cn0KY29uc3QgekluZGV4UG9zaXRpb25zID0gWydhYnNvbHV0ZScsICdmaXhlZCcsICdyZWxhdGl2ZScsICdzdGlja3knXTsKZnVuY3Rpb24gZ2V0TWF4WkluZGV4KGVsU3RhcnQpIHsKICBsZXQgZWwgPSBlbFN0YXJ0OwogIGxldCBtYXhJbmRleCA9IDA7CiAgd2hpbGUgKGVsICE9PSBudWxsICYmIGVsICE9PSBkb2N1bWVudCkgewogICAgY29uc3QgewogICAgICBwb3NpdGlvbiwKICAgICAgekluZGV4CiAgICB9ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpOwogICAgY29uc3QgekluZGV4TnVtID0gTnVtYmVyKHpJbmRleCk7CiAgICBpZiAoekluZGV4TnVtID4gbWF4SW5kZXggJiYgKGVsID09PSBlbFN0YXJ0IHx8IHpJbmRleFBvc2l0aW9ucy5pbmNsdWRlcyhwb3NpdGlvbikgPT09IHRydWUpKSB7CiAgICAgIG1heEluZGV4ID0gekluZGV4TnVtOwogICAgfQogICAgZWwgPSBlbC5wYXJlbnROb2RlOwogIH0KICByZXR1cm4gbWF4SW5kZXg7Cn0KZnVuY3Rpb24gbm9ybWFsaXplRWxlbWVudHMob3B0cykgewogIHJldHVybiB7CiAgICBmcm9tOiBvcHRzLmZyb20sCiAgICB0bzogb3B0cy50byAhPT0gdm9pZCAwID8gb3B0cy50byA6IG9wdHMuZnJvbQogIH07Cn0KZnVuY3Rpb24gbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKSB7CiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykgewogICAgb3B0aW9ucyA9IHsKICAgICAgZHVyYXRpb246IG9wdGlvbnMKICAgIH07CiAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykgewogICAgb3B0aW9ucyA9IHsKICAgICAgb25FbmQ6IG9wdGlvbnMKICAgIH07CiAgfQogIHJldHVybiB7CiAgICAuLi5vcHRpb25zLAogICAgd2FpdEZvcjogb3B0aW9ucy53YWl0Rm9yID09PSB2b2lkIDAgPyAwIDogb3B0aW9ucy53YWl0Rm9yLAogICAgZHVyYXRpb246IGlzTmFOKG9wdGlvbnMuZHVyYXRpb24pID09PSB0cnVlID8gMzAwIDogcGFyc2VJbnQob3B0aW9ucy5kdXJhdGlvbiwgMTApLAogICAgZWFzaW5nOiB0eXBlb2Ygb3B0aW9ucy5lYXNpbmcgPT09ICdzdHJpbmcnICYmIG9wdGlvbnMuZWFzaW5nLmxlbmd0aCA+IDAgPyBvcHRpb25zLmVhc2luZyA6ICdlYXNlLWluLW91dCcsCiAgICBkZWxheTogaXNOYU4ob3B0aW9ucy5kZWxheSkgPT09IHRydWUgPyAwIDogcGFyc2VJbnQob3B0aW9ucy5kZWxheSwgMTApLAogICAgZmlsbDogdHlwZW9mIG9wdGlvbnMuZmlsbCA9PT0gJ3N0cmluZycgJiYgb3B0aW9ucy5maWxsLmxlbmd0aCA+IDAgPyBvcHRpb25zLmZpbGwgOiAnbm9uZScsCiAgICByZXNpemU6IG9wdGlvbnMucmVzaXplID09PSB0cnVlLAogICAgdXNlQ1NTOiBvcHRpb25zLnVzZUNTUyA9PT0gdHJ1ZSB8fCBvcHRpb25zLnVzZWNzcyA9PT0gdHJ1ZSwKICAgIGhpZGVGcm9tQ2xvbmU6IG9wdGlvbnMuaGlkZUZyb21DbG9uZSA9PT0gdHJ1ZSB8fCBvcHRpb25zLmhpZGVmcm9tY2xvbmUgPT09IHRydWUsCiAgICBrZWVwVG9DbG9uZTogb3B0aW9ucy5rZWVwVG9DbG9uZSA9PT0gdHJ1ZSB8fCBvcHRpb25zLmtlZXB0b2Nsb25lID09PSB0cnVlLAogICAgdHdlZW46IG9wdGlvbnMudHdlZW4gPT09IHRydWUsCiAgICB0d2VlbkZyb21PcGFjaXR5OiBpc05hTihvcHRpb25zLnR3ZWVuRnJvbU9wYWNpdHkpID09PSB0cnVlID8gMC42IDogcGFyc2VGbG9hdChvcHRpb25zLnR3ZWVuRnJvbU9wYWNpdHkpLAogICAgdHdlZW5Ub09wYWNpdHk6IGlzTmFOKG9wdGlvbnMudHdlZW5Ub09wYWNpdHkpID09PSB0cnVlID8gMC41IDogcGFyc2VGbG9hdChvcHRpb25zLnR3ZWVuVG9PcGFjaXR5KQogIH07Cn0KZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkgewogIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQub3duZXJEb2N1bWVudCA9PT0gZG9jdW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlICE9PSBudWxsOwp9CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1vcnBoKF9vcHRpb25zKSB7CiAgbGV0IGNhbmNlbCA9ICgpID0+IGZhbHNlOwogIGxldCBjYW5jZWxTdGF0dXMgPSBmYWxzZTsKICBsZXQgZW5kRWxlbWVudFRvID0gdHJ1ZTsKICBjb25zdCBlbGVtZW50cyA9IG5vcm1hbGl6ZUVsZW1lbnRzKF9vcHRpb25zKTsKICBjb25zdCBvcHRpb25zID0gbm9ybWFsaXplT3B0aW9ucyhfb3B0aW9ucyk7CiAgY29uc3QgZWxGcm9tID0gZ2V0RWxlbWVudChlbGVtZW50cy5mcm9tKTsKICBpZiAoaXNWYWxpZEVsZW1lbnQoZWxGcm9tKSAhPT0gdHJ1ZSkgewogICAgLy8gd2UgcmV0dXJuIGEgY2FuY2VsIGZ1bmN0aW9uIHRoYXQgcmV0dXJuIGZhbHNlLCBtZWFuaW5nIHRoZSBjYW5jZWwgZnVuY3Rpb24gZmFpbGVkCiAgICByZXR1cm4gY2FuY2VsOwogIH0KICAvLyB3ZSBjbGVhbiBvdGhlciBtb3JwaHMgcnVubmluZyBvbiB0aGlzIGVsZW1lbnQKICB0eXBlb2YgZWxGcm9tLnFNb3JwaENhbmNlbCA9PT0gJ2Z1bmN0aW9uJyAmJiBlbEZyb20ucU1vcnBoQ2FuY2VsKCk7CiAgbGV0IGFuaW1hdGlvbkZyb21DbG9uZSA9IHZvaWQgMDsKICBsZXQgYW5pbWF0aW9uRnJvbVR3ZWVuID0gdm9pZCAwOwogIGxldCBhbmltYXRpb25Ub0Nsb25lID0gdm9pZCAwOwogIGxldCBhbmltYXRpb25UbyA9IHZvaWQgMDsKICBjb25zdCBlbEZyb21QYXJlbnQgPSBlbEZyb20ucGFyZW50Tm9kZTsKICBjb25zdCBlbEZyb21OZXh0ID0gZWxGcm9tLm5leHRFbGVtZW50U2libGluZzsKCiAgLy8gd2UgZ2V0IHRoZSBkaW1lbnNpb25zIGFuZCBjaGFyYWN0ZXJpc3RpY3MKICAvLyBvZiB0aGUgcGFyZW50IG9mIHRoZSBpbml0aWFsIGVsZW1lbnQgYmVmb3JlIGNoYW5nZXMKICBjb25zdCBlbEZyb21Qb3NpdGlvbiA9IGdldEFic29sdXRlUG9zaXRpb24oZWxGcm9tLCBvcHRpb25zLnJlc2l6ZSk7CiAgY29uc3QgewogICAgd2lkdGg6IGVsRnJvbVBhcmVudFdpZHRoQmVmb3JlLAogICAgaGVpZ2h0OiBlbEZyb21QYXJlbnRIZWlnaHRCZWZvcmUKICB9ID0gZ2V0QWJzb2x1dGVTaXplKGVsRnJvbVBhcmVudCk7CiAgY29uc3QgewogICAgYm9yZGVyV2lkdGg6IGVsRnJvbUJvcmRlcldpZHRoLAogICAgYm9yZGVyU3R5bGU6IGVsRnJvbUJvcmRlclN0eWxlLAogICAgYm9yZGVyQ29sb3I6IGVsRnJvbUJvcmRlckNvbG9yLAogICAgYm9yZGVyUmFkaXVzOiBlbEZyb21Cb3JkZXJSYWRpdXMsCiAgICBiYWNrZ3JvdW5kQ29sb3I6IGVsRnJvbUJhY2tncm91bmQsCiAgICB0cmFuc2Zvcm06IGVsRnJvbVRyYW5zZm9ybSwKICAgIHBvc2l0aW9uOiBlbEZyb21Qb3NpdGlvbmluZ1R5cGUsCiAgICBjc3NUZXh0OiBlbEZyb21Dc3NUZXh0CiAgfSA9IGdldENvbXB1dGVkU3R5bGUoZWxGcm9tLCBbJ2JvcmRlcldpZHRoJywgJ2JvcmRlclN0eWxlJywgJ2JvcmRlckNvbG9yJywgJ2JvcmRlclJhZGl1cycsICdiYWNrZ3JvdW5kQ29sb3InLCAndHJhbnNmb3JtJywgJ3Bvc2l0aW9uJywgJ2Nzc1RleHQnXSk7CiAgY29uc3QgZWxGcm9tQ2xhc3NTYXZlZCA9IGVsRnJvbS5jbGFzc0xpc3QudG9TdHJpbmcoKTsKICBjb25zdCBlbEZyb21TdHlsZVNhdmVkID0gZWxGcm9tLnN0eWxlLmNzc1RleHQ7CgogIC8vIHdlIG1ha2UgYSBjbG9uZSBvZiB0aGUgaW5pdGlhbCBlbGVtZW50IGFuZAogIC8vIHVzZSBpdCB0byBkaXNwbGF5IHVudGlsIHRoZSBmaW5hbCBlbGVtZW50IGlzIHJlYWR5CiAgLy8gYW5kIHRvIGNoYW5nZSB0aGUgb2NjdXBpZWQgc3BhY2UgZHVyaW5nIGFuaW1hdGlvbgogIGNvbnN0IGVsRnJvbUNsb25lID0gZWxGcm9tLmNsb25lTm9kZSh0cnVlKTsKICBjb25zdCBlbEZyb21Ud2VlbiA9IG9wdGlvbnMudHdlZW4gPT09IHRydWUgPyBlbEZyb20uY2xvbmVOb2RlKHRydWUpIDogdm9pZCAwOwogIGlmIChlbEZyb21Ud2VlbiAhPT0gdm9pZCAwKSB7CiAgICBlbEZyb21Ud2Vlbi5jbGFzc05hbWUgPSBlbEZyb21Ud2Vlbi5jbGFzc0xpc3QudG9TdHJpbmcoKS5zcGxpdCgnICcpLmZpbHRlcihjID0+IC9eYmctLy50ZXN0KGMpID09PSBmYWxzZSkuam9pbignICcpOwogIH0KCiAgLy8gaWYgdGhlIGluaXRpYWwgZWxlbWVudCBpcyBub3QgZ29pbmcgdG8gYmUgcmVtb3ZlZCBkbyBub3Qgc2hvdyB0aGUgcGxhY2Vob2xkZXIKICBvcHRpb25zLmhpZGVGcm9tQ2xvbmUgPT09IHRydWUgJiYgZWxGcm9tQ2xvbmUuY2xhc3NMaXN0LmFkZCgncS1tb3JwaC0taW50ZXJuYWwnKTsKCiAgLy8gcHJldmVudCBpbnRlcmFjdGlvbiB3aXRoIHBsYWNlaG9sZGVyCiAgZWxGcm9tQ2xvbmUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7CiAgZWxGcm9tQ2xvbmUuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJzsKICBlbEZyb21DbG9uZS5zdHlsZS5hbmltYXRpb24gPSAnbm9uZSc7CiAgZWxGcm9tQ2xvbmUuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJzsKICBlbEZyb21QYXJlbnQuaW5zZXJ0QmVmb3JlKGVsRnJvbUNsb25lLCBlbEZyb21OZXh0KTsKCiAgLy8gd2UgbWFyayB0aGUgZWxlbWVudCB3aXRoIGl0cyBjbGVhbnVwIGZ1bmN0aW9uCiAgZWxGcm9tLnFNb3JwaENhbmNlbCA9ICgpID0+IHsKICAgIGNhbmNlbFN0YXR1cyA9IHRydWU7CgogICAgLy8gd2UgY2xlYW4gdGhlIGNsb25lIG9mIHRoZSBpbml0aWFsIGVsZW1lbnQKICAgIGVsRnJvbUNsb25lLnJlbW92ZSgpOwogICAgZWxGcm9tVHdlZW4gIT09IHZvaWQgMCAmJiBlbEZyb21Ud2Vlbi5yZW1vdmUoKTsKICAgIG9wdGlvbnMuaGlkZUZyb21DbG9uZSA9PT0gdHJ1ZSAmJiBlbEZyb21DbG9uZS5jbGFzc0xpc3QucmVtb3ZlKCdxLW1vcnBoLS1pbnRlcm5hbCcpOwoKICAgIC8vIHdlIHJlbW92ZSB0aGUgY2xlYW51cCBmdW5jdGlvbiBmcm9tIHRoZSBlbGVtZW50CiAgICBlbEZyb20ucU1vcnBoQ2FuY2VsID0gdm9pZCAwOwogIH07CgogIC8vIHdpbGwgYmUgY2FsbGVkIGFmdGVyIFZ1ZSBjYXRjaGVzIHVwIHdpdGggdGhlIGNoYW5nZXMgZG9uZSBieSBfb3B0aW9ucy5vblRvZ2dsZSgpIGZ1bmN0aW9uCiAgY29uc3QgY2FsY3VsYXRlRmluYWxTdGF0ZSA9ICgpID0+IHsKICAgIGNvbnN0IGVsVG8gPSBnZXRFbGVtZW50KGVsZW1lbnRzLnRvKTsKICAgIGlmIChjYW5jZWxTdGF0dXMgPT09IHRydWUgfHwgaXNWYWxpZEVsZW1lbnQoZWxUbykgIT09IHRydWUpIHsKICAgICAgdHlwZW9mIGVsRnJvbS5xTW9ycGhDYW5jZWwgPT09ICdmdW5jdGlvbicgJiYgZWxGcm9tLnFNb3JwaENhbmNlbCgpOwogICAgICByZXR1cm47CiAgICB9CiAgICAvLyB3ZSBjbGVhbiBvdGhlciBtb3JwaHMgcnVubmluZyBvbiB0aGlzIGVsZW1lbnQKICAgIGVsRnJvbSAhPT0gZWxUbyAmJiB0eXBlb2YgZWxUby5xTW9ycGhDYW5jZWwgPT09ICdmdW5jdGlvbicgJiYgZWxUby5xTW9ycGhDYW5jZWwoKTsKCiAgICAvLyB3ZSBoaWRlIHRoZSBmaW5hbCBlbGVtZW50IGFuZCB0aGUgY2xvbmUgb2YgdGhlIGluaXRpYWwgZWxlbWVudAogICAgLy8gd2UgZG9uJ3QgaGlkZSB0aGUgZmluYWwgZWxlbWVudCBpZiB3ZSB3YW50IGJvdGggaXQgYW5kIHRoZSBhbmltYXRlZCBvbmUgdmlzaWJsZQogICAgb3B0aW9ucy5rZWVwVG9DbG9uZSAhPT0gdHJ1ZSAmJiBlbFRvLmNsYXNzTGlzdC5hZGQoJ3EtbW9ycGgtLWludGVybmFsJyk7CiAgICBlbEZyb21DbG9uZS5jbGFzc0xpc3QuYWRkKCdxLW1vcnBoLS1pbnRlcm5hbCcpOwoKICAgIC8vIHdlIGdldCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgcGFyZW50IG9mIHRoZSBpbml0aWFsIGVsZW1lbnQgYWZ0ZXIgY2hhbmdlcwogICAgLy8gdGhlIGRpZmZlcmVuY2UgaXMgaG93IG11Y2ggd2Ugc2hvdWxkIGFuaW1hdGUgdGhlIGNsb25lCiAgICBjb25zdCB7CiAgICAgIHdpZHRoOiBlbEZyb21QYXJlbnRXaWR0aEFmdGVyLAogICAgICBoZWlnaHQ6IGVsRnJvbVBhcmVudEhlaWdodEFmdGVyCiAgICB9ID0gZ2V0QWJzb2x1dGVTaXplKGVsRnJvbVBhcmVudCk7CgogICAgLy8gd2UgZ2V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBwYXJlbnQgb2YgdGhlIGZpbmFsIGVsZW1lbnQgYmVmb3JlIGNoYW5nZXMKICAgIGNvbnN0IHsKICAgICAgd2lkdGg6IGVsVG9QYXJlbnRXaWR0aEJlZm9yZSwKICAgICAgaGVpZ2h0OiBlbFRvUGFyZW50SGVpZ2h0QmVmb3JlCiAgICB9ID0gZ2V0QWJzb2x1dGVTaXplKGVsVG8ucGFyZW50Tm9kZSk7CgogICAgLy8gdGhlbiB3ZSBzaG93IHRoZSBjbG9uZSBvZiB0aGUgaW5pdGlhbCBlbGVtZW50IGlmIHdlIGRvbid0IHdhbnQgaXQgaGlkZGVuCiAgICBvcHRpb25zLmhpZGVGcm9tQ2xvbmUgIT09IHRydWUgJiYgZWxGcm9tQ2xvbmUuY2xhc3NMaXN0LnJlbW92ZSgncS1tb3JwaC0taW50ZXJuYWwnKTsKCiAgICAvLyB3ZSBtYXJrIHRoZSBlbGVtZW50IHdpdGggaXRzIGNsZWFudXAgZnVuY3Rpb24KICAgIGVsVG8ucU1vcnBoQ2FuY2VsID0gKCkgPT4gewogICAgICBjYW5jZWxTdGF0dXMgPSB0cnVlOwoKICAgICAgLy8gd2UgY2xlYW4gdGhlIGNsb25lIG9mIHRoZSBpbml0aWFsIGVsZW1lbnQKICAgICAgZWxGcm9tQ2xvbmUucmVtb3ZlKCk7CiAgICAgIGVsRnJvbVR3ZWVuICE9PSB2b2lkIDAgJiYgZWxGcm9tVHdlZW4ucmVtb3ZlKCk7CiAgICAgIG9wdGlvbnMuaGlkZUZyb21DbG9uZSA9PT0gdHJ1ZSAmJiBlbEZyb21DbG9uZS5jbGFzc0xpc3QucmVtb3ZlKCdxLW1vcnBoLS1pbnRlcm5hbCcpOwoKICAgICAgLy8gd2Ugc2hvdyB0aGUgZmluYWwgZWxlbWVudAogICAgICBvcHRpb25zLmtlZXBUb0Nsb25lICE9PSB0cnVlICYmIGVsVG8uY2xhc3NMaXN0LnJlbW92ZSgncS1tb3JwaC0taW50ZXJuYWwnKTsKCiAgICAgIC8vIHdlIHJlbW92ZSB0aGUgY2xlYW51cCBmdW5jdGlvbiBmcm9tIHRoZSBlbGVtZW50cwogICAgICBlbEZyb20ucU1vcnBoQ2FuY2VsID0gdm9pZCAwOwogICAgICBlbFRvLnFNb3JwaENhbmNlbCA9IHZvaWQgMDsKICAgIH07CgogICAgLy8gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgd2FpdEZvciAoZ2l2ZSB0aW1lIHRvIHJlbmRlciB0aGUgZmluYWwgZWxlbWVudCkKICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7CiAgICAgIGlmIChjYW5jZWxTdGF0dXMgPT09IHRydWUpIHsKICAgICAgICB0eXBlb2YgZWxUby5xTW9ycGhDYW5jZWwgPT09ICdmdW5jdGlvbicgJiYgZWxUby5xTW9ycGhDYW5jZWwoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIG5vdyB0aGUgYW5pbWF0aW9uIHN0YXJ0cywgc28gd2Ugb25seSBuZWVkIHRoZSBjbG9uZQogICAgICAvLyBvZiB0aGUgaW5pdGlhbCBlbGVtZW50IGFzIGEgc3BhY2VyCiAgICAgIC8vIHdlIGFsc28gaGlkZSBpdCB0byBjYWxjdWxhdGUgdGhlIGRpbWVuc2lvbnMgb2YgdGhlCiAgICAgIC8vIHBhcmVudCBvZiB0aGUgZmluYWwgZWxlbWVudCBhZnRlciB0aGUgY2hhbmdlcwogICAgICBpZiAob3B0aW9ucy5oaWRlRnJvbUNsb25lICE9PSB0cnVlKSB7CiAgICAgICAgZWxGcm9tQ2xvbmUuY2xhc3NMaXN0LmFkZCgncS1tb3JwaC0taW50ZXJuYWwnKTsKICAgICAgICBlbEZyb21DbG9uZS5pbm5lckhUTUwgPSAnJzsKICAgICAgICBlbEZyb21DbG9uZS5zdHlsZS5sZWZ0ID0gMDsKICAgICAgICBlbEZyb21DbG9uZS5zdHlsZS5yaWdodCA9ICd1bnNldCc7CiAgICAgICAgZWxGcm9tQ2xvbmUuc3R5bGUudG9wID0gMDsKICAgICAgICBlbEZyb21DbG9uZS5zdHlsZS5ib3R0b20gPSAndW5zZXQnOwogICAgICAgIGVsRnJvbUNsb25lLnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJzsKICAgICAgfQoKICAgICAgLy8gd2Ugc2hvdyB0aGUgZmluYWwgZWxlbWVudAogICAgICBpZiAob3B0aW9ucy5rZWVwVG9DbG9uZSAhPT0gdHJ1ZSkgewogICAgICAgIGVsVG8uY2xhc3NMaXN0LnJlbW92ZSgncS1tb3JwaC0taW50ZXJuYWwnKTsKICAgICAgfQoKICAgICAgLy8gd2UgZ2V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBwYXJlbnQgb2YgdGhlIGZpbmFsIGVsZW1lbnQgYWZ0ZXIgY2hhbmdlcwogICAgICAvLyB0aGUgZGlmZmVyZW5jZSBpcyBob3cgbXVjaCB3ZSBzaG91bGQgYW5pbWF0ZSB0aGUgY2xvbmUKICAgICAgY29uc3QgZWxUb1BhcmVudCA9IGVsVG8ucGFyZW50Tm9kZTsKICAgICAgY29uc3QgewogICAgICAgIHdpZHRoOiBlbFRvUGFyZW50V2lkdGhBZnRlciwKICAgICAgICBoZWlnaHQ6IGVsVG9QYXJlbnRIZWlnaHRBZnRlcgogICAgICB9ID0gZ2V0QWJzb2x1dGVTaXplKGVsVG9QYXJlbnQpOwogICAgICBjb25zdCBlbFRvQ2xvbmUgPSBlbFRvLmNsb25lTm9kZShvcHRpb25zLmtlZXBUb0Nsb25lKTsKICAgICAgZWxUb0Nsb25lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpOwogICAgICBpZiAob3B0aW9ucy5rZWVwVG9DbG9uZSAhPT0gdHJ1ZSkgewogICAgICAgIGVsVG9DbG9uZS5zdHlsZS5sZWZ0ID0gMDsKICAgICAgICBlbFRvQ2xvbmUuc3R5bGUucmlnaHQgPSAndW5zZXQnOwogICAgICAgIGVsVG9DbG9uZS5zdHlsZS50b3AgPSAwOwogICAgICAgIGVsVG9DbG9uZS5zdHlsZS5ib3R0b20gPSAndW5zZXQnOwogICAgICAgIGVsVG9DbG9uZS5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7CiAgICAgICAgZWxUb0Nsb25lLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7CiAgICAgIH0KICAgICAgZWxUb0Nsb25lLmNsYXNzTGlzdC5hZGQoJ3EtbW9ycGgtLWludGVybmFsJyk7CgogICAgICAvLyBpZiBlbEZyb20gaXMgdGhlIHNhbWUgYXMgZWxUbyB0aGUgbmV4dCBlbGVtZW50IGlzIGVsRnJvbUNsb25lCiAgICAgIGNvbnN0IGVsVG9OZXh0ID0gZWxUbyA9PT0gZWxGcm9tICYmIGVsRnJvbVBhcmVudCA9PT0gZWxUb1BhcmVudCA/IGVsRnJvbUNsb25lIDogZWxUby5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgIGVsVG9QYXJlbnQuaW5zZXJ0QmVmb3JlKGVsVG9DbG9uZSwgZWxUb05leHQpOwogICAgICBjb25zdCB7CiAgICAgICAgYm9yZGVyV2lkdGg6IGVsVG9Cb3JkZXJXaWR0aCwKICAgICAgICBib3JkZXJTdHlsZTogZWxUb0JvcmRlclN0eWxlLAogICAgICAgIGJvcmRlckNvbG9yOiBlbFRvQm9yZGVyQ29sb3IsCiAgICAgICAgYm9yZGVyUmFkaXVzOiBlbFRvQm9yZGVyUmFkaXVzLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogZWxUb0JhY2tncm91bmQsCiAgICAgICAgdHJhbnNmb3JtOiBlbFRvVHJhbnNmb3JtLAogICAgICAgIHBvc2l0aW9uOiBlbFRvUG9zaXRpb25pbmdUeXBlLAogICAgICAgIGNzc1RleHQ6IGVsVG9Dc3NUZXh0CiAgICAgIH0gPSBnZXRDb21wdXRlZFN0eWxlKGVsVG8sIFsnYm9yZGVyV2lkdGgnLCAnYm9yZGVyU3R5bGUnLCAnYm9yZGVyQ29sb3InLCAnYm9yZGVyUmFkaXVzJywgJ2JhY2tncm91bmRDb2xvcicsICd0cmFuc2Zvcm0nLCAncG9zaXRpb24nLCAnY3NzVGV4dCddKTsKICAgICAgY29uc3QgZWxUb0NsYXNzU2F2ZWQgPSBlbFRvLmNsYXNzTGlzdC50b1N0cmluZygpOwogICAgICBjb25zdCBlbFRvU3R5bGVTYXZlZCA9IGVsVG8uc3R5bGUuY3NzVGV4dDsKCiAgICAgIC8vIHdlIHNldCB0aGUgY29tcHV0ZWQgc3R5bGVzIG9uIHRoZSBlbGVtZW50ICh0byBiZSBhYmxlIHRvIHJlbW92ZSBjbGFzc2VzKQogICAgICBlbFRvLnN0eWxlLmNzc1RleHQgPSBlbFRvQ3NzVGV4dDsKICAgICAgZWxUby5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7CiAgICAgIGVsVG8uc3R5bGUuYW5pbWF0aW9uID0gJ25vbmUnOwogICAgICBlbFRvLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7CiAgICAgIC8vIHdlIHN0cmlwIHRoZSBiYWNrZ3JvdW5kIGNsYXNzZXMgKGJhY2tncm91bmQgY29sb3IgY2FuIG5vIGxvbmdlciBiZSBhbmltYXRlZCBpZiAhaW1wb3J0YW50IGlzIHVzZWQpCiAgICAgIGVsVG8uY2xhc3NOYW1lID0gZWxUb0NsYXNzU2F2ZWQuc3BsaXQoJyAnKS5maWx0ZXIoYyA9PiAvXmJnLS8udGVzdChjKSA9PT0gZmFsc2UpLmpvaW4oJyAnKTsKICAgICAgY29uc3QgZWxUb1Bvc2l0aW9uID0gZ2V0QWJzb2x1dGVQb3NpdGlvbihlbFRvLCBvcHRpb25zLnJlc2l6ZSk7CiAgICAgIGNvbnN0IGRlbHRhWCA9IGVsRnJvbVBvc2l0aW9uLmxlZnQgLSBlbFRvUG9zaXRpb24ubGVmdDsKICAgICAgY29uc3QgZGVsdGFZID0gZWxGcm9tUG9zaXRpb24udG9wIC0gZWxUb1Bvc2l0aW9uLnRvcDsKICAgICAgY29uc3Qgc2NhbGVYID0gZWxGcm9tUG9zaXRpb24ud2lkdGggLyAoZWxUb1Bvc2l0aW9uLndpZHRoID4gMCA/IGVsVG9Qb3NpdGlvbi53aWR0aCA6IDEwKTsKICAgICAgY29uc3Qgc2NhbGVZID0gZWxGcm9tUG9zaXRpb24uaGVpZ2h0IC8gKGVsVG9Qb3NpdGlvbi5oZWlnaHQgPiAwID8gZWxUb1Bvc2l0aW9uLmhlaWdodCA6IDEwMCk7CiAgICAgIGNvbnN0IGVsRnJvbVBhcmVudFdpZHRoRGlmZiA9IGVsRnJvbVBhcmVudFdpZHRoQmVmb3JlIC0gZWxGcm9tUGFyZW50V2lkdGhBZnRlcjsKICAgICAgY29uc3QgZWxGcm9tUGFyZW50SGVpZ2h0RGlmZiA9IGVsRnJvbVBhcmVudEhlaWdodEJlZm9yZSAtIGVsRnJvbVBhcmVudEhlaWdodEFmdGVyOwogICAgICBjb25zdCBlbFRvUGFyZW50V2lkdGhEaWZmID0gZWxUb1BhcmVudFdpZHRoQWZ0ZXIgLSBlbFRvUGFyZW50V2lkdGhCZWZvcmU7CiAgICAgIGNvbnN0IGVsVG9QYXJlbnRIZWlnaHREaWZmID0gZWxUb1BhcmVudEhlaWdodEFmdGVyIC0gZWxUb1BhcmVudEhlaWdodEJlZm9yZTsKICAgICAgY29uc3QgZWxGcm9tQ2xvbmVXaWR0aCA9IE1hdGgubWF4KGVsRnJvbVBvc2l0aW9uLndpZHRoTSwgZWxGcm9tUGFyZW50V2lkdGhEaWZmKTsKICAgICAgY29uc3QgZWxGcm9tQ2xvbmVIZWlnaHQgPSBNYXRoLm1heChlbEZyb21Qb3NpdGlvbi5oZWlnaHRNLCBlbEZyb21QYXJlbnRIZWlnaHREaWZmKTsKICAgICAgY29uc3QgZWxUb0Nsb25lV2lkdGggPSBNYXRoLm1heChlbFRvUG9zaXRpb24ud2lkdGhNLCBlbFRvUGFyZW50V2lkdGhEaWZmKTsKICAgICAgY29uc3QgZWxUb0Nsb25lSGVpZ2h0ID0gTWF0aC5tYXgoZWxUb1Bvc2l0aW9uLmhlaWdodE0sIGVsVG9QYXJlbnRIZWlnaHREaWZmKTsKICAgICAgY29uc3QgZWxTaGFyZWRTaXplID0gZWxGcm9tID09PSBlbFRvICYmIFsnYWJzb2x1dGUnLCAnZml4ZWQnXS5pbmNsdWRlcyhlbFRvUG9zaXRpb25pbmdUeXBlKSA9PT0gZmFsc2UgJiYgWydhYnNvbHV0ZScsICdmaXhlZCddLmluY2x1ZGVzKGVsRnJvbVBvc2l0aW9uaW5nVHlwZSkgPT09IGZhbHNlOwoKICAgICAgLy8gaWYgdGhlIGZpbmFsIGVsZW1lbnQgaGFzIGZpeGVkIHBvc2l0aW9uIG9yIGlmIGEgcGFyZW50CiAgICAgIC8vIGhhcyBmaXhlZCBwb3NpdGlvbiB3ZSBuZWVkIHRvIGFuaW1hdGUgaXQgYXMgZml4ZWQKICAgICAgbGV0IGVsVG9OZWVkc0ZpeGVkUG9zaXRpb24gPSBlbFRvUG9zaXRpb25pbmdUeXBlID09PSAnZml4ZWQnOwogICAgICBsZXQgcGFyZW50ID0gZWxUb1BhcmVudDsKICAgICAgd2hpbGUgKGVsVG9OZWVkc0ZpeGVkUG9zaXRpb24gIT09IHRydWUgJiYgcGFyZW50ICE9PSBkb2N1bWVudCkgewogICAgICAgIGVsVG9OZWVkc0ZpeGVkUG9zaXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQpLnBvc2l0aW9uID09PSAnZml4ZWQnOwogICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlOwogICAgICB9CgogICAgICAvLyB3ZSBzaG93IHRoZSBzcGFjZXIgZm9yIHRoZSBpbml0aWFsIGVsZW1lbnQKICAgICAgaWYgKG9wdGlvbnMuaGlkZUZyb21DbG9uZSAhPT0gdHJ1ZSkgewogICAgICAgIGVsRnJvbUNsb25lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIGVsRnJvbUNsb25lLnN0eWxlLmZsZXggPSAnMCAwIGF1dG8nOwogICAgICAgIGVsRnJvbUNsb25lLnN0eWxlLm9wYWNpdHkgPSAwOwogICAgICAgIGVsRnJvbUNsb25lLnN0eWxlLm1pbldpZHRoID0gJ3Vuc2V0JzsKICAgICAgICBlbEZyb21DbG9uZS5zdHlsZS5tYXhXaWR0aCA9ICd1bnNldCc7CiAgICAgICAgZWxGcm9tQ2xvbmUuc3R5bGUubWluSGVpZ2h0ID0gJ3Vuc2V0JzsKICAgICAgICBlbEZyb21DbG9uZS5zdHlsZS5tYXhIZWlnaHQgPSAndW5zZXQnOwogICAgICAgIGVsRnJvbUNsb25lLmNsYXNzTGlzdC5yZW1vdmUoJ3EtbW9ycGgtLWludGVybmFsJyk7CiAgICAgIH0KCiAgICAgIC8vIHdlIHNob3cgdGhlIHNwYWNlciBmb3IgdGhlIGZpbmFsIGVsZW1lbnQKICAgICAgaWYgKG9wdGlvbnMua2VlcFRvQ2xvbmUgIT09IHRydWUpIHsKICAgICAgICBlbFRvQ2xvbmUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgZWxUb0Nsb25lLnN0eWxlLmZsZXggPSAnMCAwIGF1dG8nOwogICAgICAgIGVsVG9DbG9uZS5zdHlsZS5vcGFjaXR5ID0gMDsKICAgICAgICBlbFRvQ2xvbmUuc3R5bGUubWluV2lkdGggPSAndW5zZXQnOwogICAgICAgIGVsVG9DbG9uZS5zdHlsZS5tYXhXaWR0aCA9ICd1bnNldCc7CiAgICAgICAgZWxUb0Nsb25lLnN0eWxlLm1pbkhlaWdodCA9ICd1bnNldCc7CiAgICAgICAgZWxUb0Nsb25lLnN0eWxlLm1heEhlaWdodCA9ICd1bnNldCc7CiAgICAgIH0KICAgICAgZWxUb0Nsb25lLmNsYXNzTGlzdC5yZW1vdmUoJ3EtbW9ycGgtLWludGVybmFsJyk7CgogICAgICAvLyB3ZSBhcHBseSBjbGFzc2VzIHNwZWNpZmllZCBieSB1c2VyCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jbGFzc2VzID09PSAnc3RyaW5nJykgewogICAgICAgIGVsVG8uY2xhc3NOYW1lICs9ICcgJyArIG9wdGlvbnMuY2xhc3NlczsKICAgICAgfQoKICAgICAgLy8gd2UgYXBwbHkgc3R5bGVzIHNwZWNpZmllZCBieSB1c2VyCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5zdHlsZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBlbFRvLnN0eWxlLmNzc1RleHQgKz0gJyAnICsgb3B0aW9ucy5zdHlsZTsKICAgICAgfSBlbHNlIGlmIChpc09iamVjdChvcHRpb25zLnN0eWxlKSA9PT0gdHJ1ZSkgewogICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBvcHRpb25zLnN0eWxlKSB7CiAgICAgICAgICBlbFRvLnN0eWxlW3Byb3BdID0gb3B0aW9ucy5zdHlsZVtwcm9wXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc3QgZWxGcm9tWkluZGV4ID0gZ2V0TWF4WkluZGV4KGVsRnJvbUNsb25lKTsKICAgICAgY29uc3QgZWxUb1pJbmRleCA9IGdldE1heFpJbmRleChlbFRvKTsKCiAgICAgIC8vIHdlIHBvc2l0aW9uIHRoZSBtb3JwaGluZyBlbGVtZW50CiAgICAgIC8vIGlmIHdlIHVzZSBmaXhlZCBwb3NpdGlvbiBmb3IgdGhlIGZpbmFsIGVsZW1lbnQgd2UgbmVlZCB0byBhZGp1c3QgZm9yIHNjcm9sbAogICAgICBjb25zdCBkb2N1bWVudFNjcm9sbCA9IGVsVG9OZWVkc0ZpeGVkUG9zaXRpb24gPT09IHRydWUgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiB7CiAgICAgICAgc2Nyb2xsTGVmdDogMCwKICAgICAgICBzY3JvbGxUb3A6IDAKICAgICAgfTsKICAgICAgZWxUby5zdHlsZS5wb3NpdGlvbiA9IGVsVG9OZWVkc0ZpeGVkUG9zaXRpb24gPT09IHRydWUgPyAnZml4ZWQnIDogJ2Fic29sdXRlJzsKICAgICAgZWxUby5zdHlsZS5sZWZ0ID0gYCR7ZWxUb1Bvc2l0aW9uLmxlZnQgLSBkb2N1bWVudFNjcm9sbC5zY3JvbGxMZWZ0fXB4YDsKICAgICAgZWxUby5zdHlsZS5yaWdodCA9ICd1bnNldCc7CiAgICAgIGVsVG8uc3R5bGUudG9wID0gYCR7ZWxUb1Bvc2l0aW9uLnRvcCAtIGRvY3VtZW50U2Nyb2xsLnNjcm9sbFRvcH1weGA7CiAgICAgIGVsVG8uc3R5bGUubWFyZ2luID0gMDsKICAgICAgaWYgKG9wdGlvbnMucmVzaXplID09PSB0cnVlKSB7CiAgICAgICAgZWxUby5zdHlsZS5taW5XaWR0aCA9ICd1bnNldCc7CiAgICAgICAgZWxUby5zdHlsZS5tYXhXaWR0aCA9ICd1bnNldCc7CiAgICAgICAgZWxUby5zdHlsZS5taW5IZWlnaHQgPSAndW5zZXQnOwogICAgICAgIGVsVG8uc3R5bGUubWF4SGVpZ2h0ID0gJ3Vuc2V0JzsKICAgICAgICBlbFRvLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICAgICAgZWxUby5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJzsKICAgICAgICBlbFRvLnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nOwogICAgICB9CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxUbyk7CiAgICAgIGlmIChlbEZyb21Ud2VlbiAhPT0gdm9pZCAwKSB7CiAgICAgICAgZWxGcm9tVHdlZW4uc3R5bGUuY3NzVGV4dCA9IGVsRnJvbUNzc1RleHQ7CiAgICAgICAgZWxGcm9tVHdlZW4uc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnOwogICAgICAgIGVsRnJvbVR3ZWVuLnN0eWxlLmFuaW1hdGlvbiA9ICdub25lJzsKICAgICAgICBlbEZyb21Ud2Vlbi5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnOwogICAgICAgIGVsRnJvbVR3ZWVuLnN0eWxlLnBvc2l0aW9uID0gZWxUby5zdHlsZS5wb3NpdGlvbjsKICAgICAgICBlbEZyb21Ud2Vlbi5zdHlsZS5sZWZ0ID0gYCR7ZWxGcm9tUG9zaXRpb24ubGVmdCAtIGRvY3VtZW50U2Nyb2xsLnNjcm9sbExlZnR9cHhgOwogICAgICAgIGVsRnJvbVR3ZWVuLnN0eWxlLnJpZ2h0ID0gJ3Vuc2V0JzsKICAgICAgICBlbEZyb21Ud2Vlbi5zdHlsZS50b3AgPSBgJHtlbEZyb21Qb3NpdGlvbi50b3AgLSBkb2N1bWVudFNjcm9sbC5zY3JvbGxUb3B9cHhgOwogICAgICAgIGVsRnJvbVR3ZWVuLnN0eWxlLm1hcmdpbiA9IDA7CiAgICAgICAgZWxGcm9tVHdlZW4uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJzsKICAgICAgICBpZiAob3B0aW9ucy5yZXNpemUgPT09IHRydWUpIHsKICAgICAgICAgIGVsRnJvbVR3ZWVuLnN0eWxlLm1pbldpZHRoID0gJ3Vuc2V0JzsKICAgICAgICAgIGVsRnJvbVR3ZWVuLnN0eWxlLm1heFdpZHRoID0gJ3Vuc2V0JzsKICAgICAgICAgIGVsRnJvbVR3ZWVuLnN0eWxlLm1pbkhlaWdodCA9ICd1bnNldCc7CiAgICAgICAgICBlbEZyb21Ud2Vlbi5zdHlsZS5tYXhIZWlnaHQgPSAndW5zZXQnOwogICAgICAgICAgZWxGcm9tVHdlZW4uc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsKICAgICAgICAgIGVsRnJvbVR3ZWVuLnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nOwogICAgICAgICAgZWxGcm9tVHdlZW4uc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7CiAgICAgICAgfQogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxGcm9tVHdlZW4pOwogICAgICB9CiAgICAgIGNvbnN0IGNvbW1vbkNsZWFudXAgPSBhYm9ydGVkID0+IHsKICAgICAgICAvLyB3ZSBwdXQgdGhlIGVsZW1lbnQgYmFjayBpbiBpdCdzIHBsYWNlCiAgICAgICAgLy8gYW5kIHJlc3RvcmUgdGhlIHN0eWxlcyBhbmQgY2xhc3NlcwogICAgICAgIGlmIChlbEZyb20gPT09IGVsVG8gJiYgZW5kRWxlbWVudFRvICE9PSB0cnVlKSB7CiAgICAgICAgICBlbFRvLnN0eWxlLmNzc1RleHQgPSBlbEZyb21TdHlsZVNhdmVkOwogICAgICAgICAgZWxUby5jbGFzc05hbWUgPSBlbEZyb21DbGFzc1NhdmVkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbFRvLnN0eWxlLmNzc1RleHQgPSBlbFRvU3R5bGVTYXZlZDsKICAgICAgICAgIGVsVG8uY2xhc3NOYW1lID0gZWxUb0NsYXNzU2F2ZWQ7CiAgICAgICAgfQogICAgICAgIGVsVG9DbG9uZS5wYXJlbnROb2RlID09PSBlbFRvUGFyZW50ICYmIGVsVG9QYXJlbnQuaW5zZXJ0QmVmb3JlKGVsVG8sIGVsVG9DbG9uZSk7CgogICAgICAgIC8vIHdlIGNsZWFuIHRoZSBzcGFjZXJzCiAgICAgICAgZWxGcm9tQ2xvbmUucmVtb3ZlKCk7CiAgICAgICAgZWxUb0Nsb25lLnJlbW92ZSgpOwogICAgICAgIGVsRnJvbVR3ZWVuICE9PSB2b2lkIDAgJiYgZWxGcm9tVHdlZW4ucmVtb3ZlKCk7CgogICAgICAgIC8vIGNhbmNlbCB3aWxsIGJlIG5vIGxvbmdlciBhdmFpbGFibGUKICAgICAgICBjYW5jZWwgPSAoKSA9PiBmYWxzZTsKICAgICAgICBlbEZyb20ucU1vcnBoQ2FuY2VsID0gdm9pZCAwOwogICAgICAgIGVsVG8ucU1vcnBoQ2FuY2VsID0gdm9pZCAwOwoKICAgICAgICAvLyB3ZSBhcmUgcmVhZHkKICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25FbmQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIG9wdGlvbnMub25FbmQoZW5kRWxlbWVudFRvID09PSB0cnVlID8gJ3RvJyA6ICdmcm9tJywgYWJvcnRlZCA9PT0gdHJ1ZSk7CiAgICAgICAgfQogICAgICB9OwogICAgICBpZiAob3B0aW9ucy51c2VDU1MgIT09IHRydWUgJiYgdHlwZW9mIGVsVG8uYW5pbWF0ZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIGNvbnN0IHJlc2l6ZUZyb20gPSBvcHRpb25zLnJlc2l6ZSA9PT0gdHJ1ZSA/IHsKICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2RlbHRhWH1weCwgJHtkZWx0YVl9cHgpYCwKICAgICAgICAgIHdpZHRoOiBgJHtlbEZyb21DbG9uZVdpZHRofXB4YCwKICAgICAgICAgIGhlaWdodDogYCR7ZWxGcm9tQ2xvbmVIZWlnaHR9cHhgCiAgICAgICAgfSA6IHsKICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2RlbHRhWH1weCwgJHtkZWx0YVl9cHgpIHNjYWxlKCR7c2NhbGVYfSwgJHtzY2FsZVl9KWAKICAgICAgICB9OwogICAgICAgIGNvbnN0IHJlc2l6ZVRvID0gb3B0aW9ucy5yZXNpemUgPT09IHRydWUgPyB7CiAgICAgICAgICB3aWR0aDogYCR7ZWxUb0Nsb25lV2lkdGh9cHhgLAogICAgICAgICAgaGVpZ2h0OiBgJHtlbFRvQ2xvbmVIZWlnaHR9cHhgCiAgICAgICAgfSA6IHt9OwogICAgICAgIGNvbnN0IHJlc2l6ZUZyb21Ud2VlbiA9IG9wdGlvbnMucmVzaXplID09PSB0cnVlID8gewogICAgICAgICAgd2lkdGg6IGAke2VsRnJvbUNsb25lV2lkdGh9cHhgLAogICAgICAgICAgaGVpZ2h0OiBgJHtlbEZyb21DbG9uZUhlaWdodH1weGAKICAgICAgICB9IDoge307CiAgICAgICAgY29uc3QgcmVzaXplVG9Ud2VlbiA9IG9wdGlvbnMucmVzaXplID09PSB0cnVlID8gewogICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7LTEgKiBkZWx0YVh9cHgsICR7LTEgKiBkZWx0YVl9cHgpYCwKICAgICAgICAgIHdpZHRoOiBgJHtlbFRvQ2xvbmVXaWR0aH1weGAsCiAgICAgICAgICBoZWlnaHQ6IGAke2VsVG9DbG9uZUhlaWdodH1weGAKICAgICAgICB9IDogewogICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7LTEgKiBkZWx0YVh9cHgsICR7LTEgKiBkZWx0YVl9cHgpIHNjYWxlKCR7MSAvIHNjYWxlWH0sICR7MSAvIHNjYWxlWX0pYAogICAgICAgIH07CiAgICAgICAgY29uc3QgdHdlZW5Gcm9tID0gZWxGcm9tVHdlZW4gIT09IHZvaWQgMCA/IHsKICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMudHdlZW5Ub09wYWNpdHkKICAgICAgICB9IDogewogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBlbEZyb21CYWNrZ3JvdW5kCiAgICAgICAgfTsKICAgICAgICBjb25zdCB0d2VlblRvID0gZWxGcm9tVHdlZW4gIT09IHZvaWQgMCA/IHsKICAgICAgICAgIG9wYWNpdHk6IDEKICAgICAgICB9IDogewogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBlbFRvQmFja2dyb3VuZAogICAgICAgIH07CiAgICAgICAgYW5pbWF0aW9uVG8gPSBlbFRvLmFuaW1hdGUoW3sKICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgIGJvcmRlcldpZHRoOiBlbEZyb21Cb3JkZXJXaWR0aCwKICAgICAgICAgIGJvcmRlclN0eWxlOiBlbEZyb21Cb3JkZXJTdHlsZSwKICAgICAgICAgIGJvcmRlckNvbG9yOiBlbEZyb21Cb3JkZXJDb2xvciwKICAgICAgICAgIGJvcmRlclJhZGl1czogZWxGcm9tQm9yZGVyUmFkaXVzLAogICAgICAgICAgekluZGV4OiBlbEZyb21aSW5kZXgsCiAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICcwIDAnLAogICAgICAgICAgLi4ucmVzaXplRnJvbSwKICAgICAgICAgIC4uLnR3ZWVuRnJvbQogICAgICAgIH0sIHsKICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgIGJvcmRlcldpZHRoOiBlbFRvQm9yZGVyV2lkdGgsCiAgICAgICAgICBib3JkZXJTdHlsZTogZWxUb0JvcmRlclN0eWxlLAogICAgICAgICAgYm9yZGVyQ29sb3I6IGVsVG9Cb3JkZXJDb2xvciwKICAgICAgICAgIGJvcmRlclJhZGl1czogZWxUb0JvcmRlclJhZGl1cywKICAgICAgICAgIHpJbmRleDogZWxUb1pJbmRleCwKICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJzAgMCcsCiAgICAgICAgICB0cmFuc2Zvcm06IGVsVG9UcmFuc2Zvcm0sCiAgICAgICAgICAuLi5yZXNpemVUbywKICAgICAgICAgIC4uLnR3ZWVuVG8KICAgICAgICB9XSwgewogICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sCiAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLAogICAgICAgICAgZmlsbDogb3B0aW9ucy5maWxsLAogICAgICAgICAgZGVsYXk6IG9wdGlvbnMuZGVsYXkKICAgICAgICB9KTsKICAgICAgICBhbmltYXRpb25Gcm9tVHdlZW4gPSBlbEZyb21Ud2VlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxGcm9tVHdlZW4uYW5pbWF0ZShbewogICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy50d2VlbkZyb21PcGFjaXR5LAogICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgYm9yZGVyV2lkdGg6IGVsRnJvbUJvcmRlcldpZHRoLAogICAgICAgICAgYm9yZGVyU3R5bGU6IGVsRnJvbUJvcmRlclN0eWxlLAogICAgICAgICAgYm9yZGVyQ29sb3I6IGVsRnJvbUJvcmRlckNvbG9yLAogICAgICAgICAgYm9yZGVyUmFkaXVzOiBlbEZyb21Cb3JkZXJSYWRpdXMsCiAgICAgICAgICB6SW5kZXg6IGVsRnJvbVpJbmRleCwKICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJzAgMCcsCiAgICAgICAgICB0cmFuc2Zvcm06IGVsRnJvbVRyYW5zZm9ybSwKICAgICAgICAgIC4uLnJlc2l6ZUZyb21Ud2VlbgogICAgICAgIH0sIHsKICAgICAgICAgIG9wYWNpdHk6IDAsCiAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICBib3JkZXJXaWR0aDogZWxUb0JvcmRlcldpZHRoLAogICAgICAgICAgYm9yZGVyU3R5bGU6IGVsVG9Cb3JkZXJTdHlsZSwKICAgICAgICAgIGJvcmRlckNvbG9yOiBlbFRvQm9yZGVyQ29sb3IsCiAgICAgICAgICBib3JkZXJSYWRpdXM6IGVsVG9Cb3JkZXJSYWRpdXMsCiAgICAgICAgICB6SW5kZXg6IGVsVG9aSW5kZXgsCiAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICcwIDAnLAogICAgICAgICAgLi4ucmVzaXplVG9Ud2VlbgogICAgICAgIH1dLCB7CiAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbiwKICAgICAgICAgIGVhc2luZzogb3B0aW9ucy5lYXNpbmcsCiAgICAgICAgICBmaWxsOiBvcHRpb25zLmZpbGwsCiAgICAgICAgICBkZWxheTogb3B0aW9ucy5kZWxheQogICAgICAgIH0pOwogICAgICAgIGFuaW1hdGlvbkZyb21DbG9uZSA9IG9wdGlvbnMuaGlkZUZyb21DbG9uZSA9PT0gdHJ1ZSB8fCBlbFNoYXJlZFNpemUgPT09IHRydWUgPyB2b2lkIDAgOiBlbEZyb21DbG9uZS5hbmltYXRlKFt7CiAgICAgICAgICBtYXJnaW46IGAke2VsRnJvbVBhcmVudEhlaWdodERpZmYgPCAwID8gZWxGcm9tUGFyZW50SGVpZ2h0RGlmZiAvIDIgOiAwfXB4ICR7ZWxGcm9tUGFyZW50V2lkdGhEaWZmIDwgMCA/IGVsRnJvbVBhcmVudFdpZHRoRGlmZiAvIDIgOiAwfXB4YCwKICAgICAgICAgIHdpZHRoOiBgJHtlbEZyb21DbG9uZVdpZHRoICsgZWxGcm9tUG9zaXRpb24ubWFyZ2luSH1weGAsCiAgICAgICAgICBoZWlnaHQ6IGAke2VsRnJvbUNsb25lSGVpZ2h0ICsgZWxGcm9tUG9zaXRpb24ubWFyZ2luVn1weGAKICAgICAgICB9LCB7CiAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICB3aWR0aDogMCwKICAgICAgICAgIGhlaWdodDogMAogICAgICAgIH1dLCB7CiAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbiwKICAgICAgICAgIGVhc2luZzogb3B0aW9ucy5lYXNpbmcsCiAgICAgICAgICBmaWxsOiBvcHRpb25zLmZpbGwsCiAgICAgICAgICBkZWxheTogb3B0aW9ucy5kZWxheQogICAgICAgIH0pOwogICAgICAgIGFuaW1hdGlvblRvQ2xvbmUgPSBvcHRpb25zLmtlZXBUb0Nsb25lID09PSB0cnVlID8gdm9pZCAwIDogZWxUb0Nsb25lLmFuaW1hdGUoW2VsU2hhcmVkU2l6ZSA9PT0gdHJ1ZSA/IHsKICAgICAgICAgIG1hcmdpbjogYCR7ZWxGcm9tUGFyZW50SGVpZ2h0RGlmZiA8IDAgPyBlbEZyb21QYXJlbnRIZWlnaHREaWZmIC8gMiA6IDB9cHggJHtlbEZyb21QYXJlbnRXaWR0aERpZmYgPCAwID8gZWxGcm9tUGFyZW50V2lkdGhEaWZmIC8gMiA6IDB9cHhgLAogICAgICAgICAgd2lkdGg6IGAke2VsRnJvbUNsb25lV2lkdGggKyBlbEZyb21Qb3NpdGlvbi5tYXJnaW5IfXB4YCwKICAgICAgICAgIGhlaWdodDogYCR7ZWxGcm9tQ2xvbmVIZWlnaHQgKyBlbEZyb21Qb3NpdGlvbi5tYXJnaW5WfXB4YAogICAgICAgIH0gOiB7CiAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICB3aWR0aDogMCwKICAgICAgICAgIGhlaWdodDogMAogICAgICAgIH0sIHsKICAgICAgICAgIG1hcmdpbjogYCR7ZWxUb1BhcmVudEhlaWdodERpZmYgPCAwID8gZWxUb1BhcmVudEhlaWdodERpZmYgLyAyIDogMH1weCAke2VsVG9QYXJlbnRXaWR0aERpZmYgPCAwID8gZWxUb1BhcmVudFdpZHRoRGlmZiAvIDIgOiAwfXB4YCwKICAgICAgICAgIHdpZHRoOiBgJHtlbFRvQ2xvbmVXaWR0aCArIGVsVG9Qb3NpdGlvbi5tYXJnaW5IfXB4YCwKICAgICAgICAgIGhlaWdodDogYCR7ZWxUb0Nsb25lSGVpZ2h0ICsgZWxUb1Bvc2l0aW9uLm1hcmdpblZ9cHhgCiAgICAgICAgfV0sIHsKICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLAogICAgICAgICAgZWFzaW5nOiBvcHRpb25zLmVhc2luZywKICAgICAgICAgIGZpbGw6IG9wdGlvbnMuZmlsbCwKICAgICAgICAgIGRlbGF5OiBvcHRpb25zLmRlbGF5CiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgY2xlYW51cCA9IGFib3J0ID0+IHsKICAgICAgICAgIGFuaW1hdGlvbkZyb21DbG9uZSAhPT0gdm9pZCAwICYmIGFuaW1hdGlvbkZyb21DbG9uZS5jYW5jZWwoKTsKICAgICAgICAgIGFuaW1hdGlvbkZyb21Ud2VlbiAhPT0gdm9pZCAwICYmIGFuaW1hdGlvbkZyb21Ud2Vlbi5jYW5jZWwoKTsKICAgICAgICAgIGFuaW1hdGlvblRvQ2xvbmUgIT09IHZvaWQgMCAmJiBhbmltYXRpb25Ub0Nsb25lLmNhbmNlbCgpOwogICAgICAgICAgYW5pbWF0aW9uVG8uY2FuY2VsKCk7CiAgICAgICAgICBhbmltYXRpb25Uby5yZW1vdmVFdmVudExpc3RlbmVyKCdmaW5pc2gnLCBjbGVhbnVwKTsKICAgICAgICAgIGFuaW1hdGlvblRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbmNlbCcsIGNsZWFudXApOwogICAgICAgICAgY29tbW9uQ2xlYW51cChhYm9ydCk7CgogICAgICAgICAgLy8gd2UgY2xlYW4gdGhlIGFuaW1hdGlvbnMKICAgICAgICAgIGFuaW1hdGlvbkZyb21DbG9uZSA9IHZvaWQgMDsKICAgICAgICAgIGFuaW1hdGlvbkZyb21Ud2VlbiA9IHZvaWQgMDsKICAgICAgICAgIGFuaW1hdGlvblRvQ2xvbmUgPSB2b2lkIDA7CiAgICAgICAgICBhbmltYXRpb25UbyA9IHZvaWQgMDsKICAgICAgICB9OwogICAgICAgIGVsRnJvbS5xTW9ycGhDYW5jZWwgPSAoKSA9PiB7CiAgICAgICAgICBlbEZyb20ucU1vcnBoQ2FuY2VsID0gdm9pZCAwOwogICAgICAgICAgY2FuY2VsU3RhdHVzID0gdHJ1ZTsKICAgICAgICAgIGNsZWFudXAoKTsKICAgICAgICB9OwogICAgICAgIGVsVG8ucU1vcnBoQ2FuY2VsID0gKCkgPT4gewogICAgICAgICAgZWxUby5xTW9ycGhDYW5jZWwgPSB2b2lkIDA7CiAgICAgICAgICBjYW5jZWxTdGF0dXMgPSB0cnVlOwogICAgICAgICAgY2xlYW51cCgpOwogICAgICAgIH07CiAgICAgICAgYW5pbWF0aW9uVG8uYWRkRXZlbnRMaXN0ZW5lcignZmluaXNoJywgY2xlYW51cCk7CiAgICAgICAgYW5pbWF0aW9uVG8uYWRkRXZlbnRMaXN0ZW5lcignY2FuY2VsJywgY2xlYW51cCk7CiAgICAgICAgY2FuY2VsID0gYWJvcnQgPT4gewogICAgICAgICAgLy8gd2UgYXJlIG5vdCBpbiBhIG1vcnBoIHRoYXQgd2UgY2FuIGNhbmNlbAogICAgICAgICAgaWYgKGNhbmNlbFN0YXR1cyA9PT0gdHJ1ZSB8fCBhbmltYXRpb25UbyA9PT0gdm9pZCAwKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChhYm9ydCA9PT0gdHJ1ZSkgewogICAgICAgICAgICBjbGVhbnVwKHRydWUpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGVuZEVsZW1lbnRUbyA9IGVuZEVsZW1lbnRUbyAhPT0gdHJ1ZTsKICAgICAgICAgIGFuaW1hdGlvbkZyb21DbG9uZSAhPT0gdm9pZCAwICYmIGFuaW1hdGlvbkZyb21DbG9uZS5yZXZlcnNlKCk7CiAgICAgICAgICBhbmltYXRpb25Gcm9tVHdlZW4gIT09IHZvaWQgMCAmJiBhbmltYXRpb25Gcm9tVHdlZW4ucmV2ZXJzZSgpOwogICAgICAgICAgYW5pbWF0aW9uVG9DbG9uZSAhPT0gdm9pZCAwICYmIGFuaW1hdGlvblRvQ2xvbmUucmV2ZXJzZSgpOwogICAgICAgICAgYW5pbWF0aW9uVG8ucmV2ZXJzZSgpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBxQW5pbUlkID0gYHEtbW9ycGgtYW5pbS0keysraWR9YDsKICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgY29uc3QgcmVzaXplRnJvbSA9IG9wdGlvbnMucmVzaXplID09PSB0cnVlID8gYAogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgke2RlbHRhWH1weCwgJHtkZWx0YVl9cHgpOwogICAgICAgICAgICB3aWR0aDogJHtlbEZyb21DbG9uZVdpZHRofXB4OwogICAgICAgICAgICBoZWlnaHQ6ICR7ZWxGcm9tQ2xvbmVIZWlnaHR9cHg7CiAgICAgICAgICBgIDogYHRyYW5zZm9ybTogdHJhbnNsYXRlKCR7ZGVsdGFYfXB4LCAke2RlbHRhWX1weCkgc2NhbGUoJHtzY2FsZVh9LCAke3NjYWxlWX0pO2A7CiAgICAgICAgY29uc3QgcmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZSA9PT0gdHJ1ZSA/IGAKICAgICAgICAgICAgd2lkdGg6ICR7ZWxUb0Nsb25lV2lkdGh9cHg7CiAgICAgICAgICAgIGhlaWdodDogJHtlbFRvQ2xvbmVIZWlnaHR9cHg7CiAgICAgICAgICBgIDogJyc7CiAgICAgICAgY29uc3QgcmVzaXplRnJvbVR3ZWVuID0gb3B0aW9ucy5yZXNpemUgPT09IHRydWUgPyBgCiAgICAgICAgICAgIHdpZHRoOiAke2VsRnJvbUNsb25lV2lkdGh9cHg7CiAgICAgICAgICAgIGhlaWdodDogJHtlbEZyb21DbG9uZUhlaWdodH1weDsKICAgICAgICAgIGAgOiAnJzsKICAgICAgICBjb25zdCByZXNpemVUb1R3ZWVuID0gb3B0aW9ucy5yZXNpemUgPT09IHRydWUgPyBgCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKCR7LTEgKiBkZWx0YVh9cHgsICR7LTEgKiBkZWx0YVl9cHgpOwogICAgICAgICAgICB3aWR0aDogJHtlbFRvQ2xvbmVXaWR0aH1weDsKICAgICAgICAgICAgaGVpZ2h0OiAke2VsVG9DbG9uZUhlaWdodH1weDsKICAgICAgICAgIGAgOiBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoJHstMSAqIGRlbHRhWH1weCwgJHstMSAqIGRlbHRhWX1weCkgc2NhbGUoJHsxIC8gc2NhbGVYfSwgJHsxIC8gc2NhbGVZfSk7YDsKICAgICAgICBjb25zdCB0d2VlbkZyb20gPSBlbEZyb21Ud2VlbiAhPT0gdm9pZCAwID8gYG9wYWNpdHk6ICR7b3B0aW9ucy50d2VlblRvT3BhY2l0eX07YCA6IGBiYWNrZ3JvdW5kLWNvbG9yOiAke2VsRnJvbUJhY2tncm91bmR9O2A7CiAgICAgICAgY29uc3QgdHdlZW5UbyA9IGVsRnJvbVR3ZWVuICE9PSB2b2lkIDAgPyAnb3BhY2l0eTogMTsnIDogYGJhY2tncm91bmQtY29sb3I6ICR7ZWxUb0JhY2tncm91bmR9O2A7CiAgICAgICAgY29uc3Qga2V5ZnJhbWVzRnJvbVR3ZWVuID0gZWxGcm9tVHdlZW4gPT09IHZvaWQgMCA/ICcnIDogYAogICAgICAgICAgICBAa2V5ZnJhbWVzICR7cUFuaW1JZH0tZnJvbS10d2VlbiB7CiAgICAgICAgICAgICAgMCUgewogICAgICAgICAgICAgICAgb3BhY2l0eTogJHtvcHRpb25zLnR3ZWVuRnJvbU9wYWNpdHl9OwogICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAke2VsRnJvbUJvcmRlcldpZHRofTsKICAgICAgICAgICAgICAgIGJvcmRlci1zdHlsZTogJHtlbEZyb21Cb3JkZXJTdHlsZX07CiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICR7ZWxGcm9tQm9yZGVyQ29sb3J9OwogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogJHtlbEZyb21Cb3JkZXJSYWRpdXN9OwogICAgICAgICAgICAgICAgei1pbmRleDogJHtlbEZyb21aSW5kZXh9OwogICAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwOwogICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAke2VsRnJvbVRyYW5zZm9ybX07CiAgICAgICAgICAgICAgICAke3Jlc2l6ZUZyb21Ud2Vlbn0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIDEwMCUgewogICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgICAgIGJvcmRlci13aWR0aDogJHtlbFRvQm9yZGVyV2lkdGh9OwogICAgICAgICAgICAgICAgYm9yZGVyLXN0eWxlOiAke2VsVG9Cb3JkZXJTdHlsZX07CiAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICR7ZWxUb0JvcmRlckNvbG9yfTsKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6ICR7ZWxUb0JvcmRlclJhZGl1c307CiAgICAgICAgICAgICAgICB6LWluZGV4OiAke2VsVG9aSW5kZXh9OwogICAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwOwogICAgICAgICAgICAgICAgJHtyZXNpemVUb1R3ZWVufQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgYDsKICAgICAgICBjb25zdCBrZXlmcmFtZXNGcm9tID0gb3B0aW9ucy5oaWRlRnJvbUNsb25lID09PSB0cnVlIHx8IGVsU2hhcmVkU2l6ZSA9PT0gdHJ1ZSA/ICcnIDogYAogICAgICAgICAgICBAa2V5ZnJhbWVzICR7cUFuaW1JZH0tZnJvbSB7CiAgICAgICAgICAgICAgMCUgewogICAgICAgICAgICAgICAgbWFyZ2luOiAke2VsRnJvbVBhcmVudEhlaWdodERpZmYgPCAwID8gZWxGcm9tUGFyZW50SGVpZ2h0RGlmZiAvIDIgOiAwfXB4ICR7ZWxGcm9tUGFyZW50V2lkdGhEaWZmIDwgMCA/IGVsRnJvbVBhcmVudFdpZHRoRGlmZiAvIDIgOiAwfXB4OwogICAgICAgICAgICAgICAgd2lkdGg6ICR7ZWxGcm9tQ2xvbmVXaWR0aCArIGVsRnJvbVBvc2l0aW9uLm1hcmdpbkh9cHg7CiAgICAgICAgICAgICAgICBoZWlnaHQ6ICR7ZWxGcm9tQ2xvbmVIZWlnaHQgKyBlbEZyb21Qb3NpdGlvbi5tYXJnaW5WfXB4OwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgMTAwJSB7CiAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgICB3aWR0aDogMDsKICAgICAgICAgICAgICAgIGhlaWdodDogMDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIGA7CiAgICAgICAgY29uc3Qga2V5ZnJhbWVUb1N0YXJ0ID0gZWxTaGFyZWRTaXplID09PSB0cnVlID8gYAogICAgICAgICAgICBtYXJnaW46ICR7ZWxGcm9tUGFyZW50SGVpZ2h0RGlmZiA8IDAgPyBlbEZyb21QYXJlbnRIZWlnaHREaWZmIC8gMiA6IDB9cHggJHtlbEZyb21QYXJlbnRXaWR0aERpZmYgPCAwID8gZWxGcm9tUGFyZW50V2lkdGhEaWZmIC8gMiA6IDB9cHg7CiAgICAgICAgICAgIHdpZHRoOiAke2VsRnJvbUNsb25lV2lkdGggKyBlbEZyb21Qb3NpdGlvbi5tYXJnaW5IfXB4OwogICAgICAgICAgICBoZWlnaHQ6ICR7ZWxGcm9tQ2xvbmVIZWlnaHQgKyBlbEZyb21Qb3NpdGlvbi5tYXJnaW5WfXB4OwogICAgICAgICAgYCA6IGAKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICB3aWR0aDogMDsKICAgICAgICAgICAgaGVpZ2h0OiAwOwogICAgICAgICAgYDsKICAgICAgICBjb25zdCBrZXlmcmFtZXNUbyA9IG9wdGlvbnMua2VlcFRvQ2xvbmUgPT09IHRydWUgPyAnJyA6IGAKICAgICAgICAgICAgQGtleWZyYW1lcyAke3FBbmltSWR9LXRvIHsKICAgICAgICAgICAgICAwJSB7CiAgICAgICAgICAgICAgICAke2tleWZyYW1lVG9TdGFydH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIDEwMCUgewogICAgICAgICAgICAgICAgbWFyZ2luOiAke2VsVG9QYXJlbnRIZWlnaHREaWZmIDwgMCA/IGVsVG9QYXJlbnRIZWlnaHREaWZmIC8gMiA6IDB9cHggJHtlbFRvUGFyZW50V2lkdGhEaWZmIDwgMCA/IGVsVG9QYXJlbnRXaWR0aERpZmYgLyAyIDogMH1weDsKICAgICAgICAgICAgICAgIHdpZHRoOiAke2VsVG9DbG9uZVdpZHRoICsgZWxUb1Bvc2l0aW9uLm1hcmdpbkh9cHg7CiAgICAgICAgICAgICAgICBoZWlnaHQ6ICR7ZWxUb0Nsb25lSGVpZ2h0ICsgZWxUb1Bvc2l0aW9uLm1hcmdpblZ9cHg7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBgOwogICAgICAgIHN0eWxlLmlubmVySFRNTCA9IGAKICAgICAgICAgIEBrZXlmcmFtZXMgJHtxQW5pbUlkfSB7CiAgICAgICAgICAgIDAlIHsKICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAke2VsRnJvbUJvcmRlcldpZHRofTsKICAgICAgICAgICAgICBib3JkZXItc3R5bGU6ICR7ZWxGcm9tQm9yZGVyU3R5bGV9OwogICAgICAgICAgICAgIGJvcmRlci1jb2xvcjogJHtlbEZyb21Cb3JkZXJDb2xvcn07CiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogJHtlbEZyb21Cb3JkZXJSYWRpdXN9OwogICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7ZWxGcm9tQmFja2dyb3VuZH07CiAgICAgICAgICAgICAgei1pbmRleDogJHtlbEZyb21aSW5kZXh9OwogICAgICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDsKICAgICAgICAgICAgICAke3Jlc2l6ZUZyb219CiAgICAgICAgICAgICAgJHt0d2VlbkZyb219CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDEwMCUgewogICAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgICBib3JkZXItd2lkdGg6ICR7ZWxUb0JvcmRlcldpZHRofTsKICAgICAgICAgICAgICBib3JkZXItc3R5bGU6ICR7ZWxUb0JvcmRlclN0eWxlfTsKICAgICAgICAgICAgICBib3JkZXItY29sb3I6ICR7ZWxUb0JvcmRlckNvbG9yfTsKICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAke2VsVG9Cb3JkZXJSYWRpdXN9OwogICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7ZWxUb0JhY2tncm91bmR9OwogICAgICAgICAgICAgIHotaW5kZXg6ICR7ZWxUb1pJbmRleH07CiAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwOwogICAgICAgICAgICAgIHRyYW5zZm9ybTogJHtlbFRvVHJhbnNmb3JtfTsKICAgICAgICAgICAgICAke3Jlc2l6ZVRvfQogICAgICAgICAgICAgICR7dHdlZW5Ub30KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgICR7a2V5ZnJhbWVzRnJvbX0KCiAgICAgICAgICAke2tleWZyYW1lc0Zyb21Ud2Vlbn0KCiAgICAgICAgICAke2tleWZyYW1lc1RvfQogICAgICAgIGA7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CiAgICAgICAgbGV0IGFuaW1hdGlvbkRpcmVjdGlvbiA9ICdub3JtYWwnOwogICAgICAgIGVsRnJvbUNsb25lLnN0eWxlLmFuaW1hdGlvbiA9IGAke29wdGlvbnMuZHVyYXRpb259bXMgJHtvcHRpb25zLmVhc2luZ30gJHtvcHRpb25zLmRlbGF5fW1zICR7YW5pbWF0aW9uRGlyZWN0aW9ufSAke29wdGlvbnMuZmlsbH0gJHtxQW5pbUlkfS1mcm9tYDsKICAgICAgICBpZiAoZWxGcm9tVHdlZW4gIT09IHZvaWQgMCkgewogICAgICAgICAgZWxGcm9tVHdlZW4uc3R5bGUuYW5pbWF0aW9uID0gYCR7b3B0aW9ucy5kdXJhdGlvbn1tcyAke29wdGlvbnMuZWFzaW5nfSAke29wdGlvbnMuZGVsYXl9bXMgJHthbmltYXRpb25EaXJlY3Rpb259ICR7b3B0aW9ucy5maWxsfSAke3FBbmltSWR9LWZyb20tdHdlZW5gOwogICAgICAgIH0KICAgICAgICBlbFRvQ2xvbmUuc3R5bGUuYW5pbWF0aW9uID0gYCR7b3B0aW9ucy5kdXJhdGlvbn1tcyAke29wdGlvbnMuZWFzaW5nfSAke29wdGlvbnMuZGVsYXl9bXMgJHthbmltYXRpb25EaXJlY3Rpb259ICR7b3B0aW9ucy5maWxsfSAke3FBbmltSWR9LXRvYDsKICAgICAgICBlbFRvLnN0eWxlLmFuaW1hdGlvbiA9IGAke29wdGlvbnMuZHVyYXRpb259bXMgJHtvcHRpb25zLmVhc2luZ30gJHtvcHRpb25zLmRlbGF5fW1zICR7YW5pbWF0aW9uRGlyZWN0aW9ufSAke29wdGlvbnMuZmlsbH0gJHtxQW5pbUlkfWA7CiAgICAgICAgY29uc3QgY2xlYW51cCA9IGV2dCA9PiB7CiAgICAgICAgICBpZiAoZXZ0ID09PSBPYmplY3QoZXZ0KSAmJiBldnQuYW5pbWF0aW9uTmFtZSAhPT0gcUFuaW1JZCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBlbFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGNsZWFudXApOwogICAgICAgICAgZWxUby5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25jYW5jZWwnLCBjbGVhbnVwKTsKICAgICAgICAgIGNvbW1vbkNsZWFudXAoKTsKCiAgICAgICAgICAvLyB3ZSBjbGVhbiB0aGUgYW5pbWF0aW9ucwogICAgICAgICAgc3R5bGUucmVtb3ZlKCk7CiAgICAgICAgfTsKICAgICAgICBlbEZyb20ucU1vcnBoQ2FuY2VsID0gKCkgPT4gewogICAgICAgICAgZWxGcm9tLnFNb3JwaENhbmNlbCA9IHZvaWQgMDsKICAgICAgICAgIGNhbmNlbFN0YXR1cyA9IHRydWU7CiAgICAgICAgICBjbGVhbnVwKCk7CiAgICAgICAgfTsKICAgICAgICBlbFRvLnFNb3JwaENhbmNlbCA9ICgpID0+IHsKICAgICAgICAgIGVsVG8ucU1vcnBoQ2FuY2VsID0gdm9pZCAwOwogICAgICAgICAgY2FuY2VsU3RhdHVzID0gdHJ1ZTsKICAgICAgICAgIGNsZWFudXAoKTsKICAgICAgICB9OwogICAgICAgIGVsVG8uYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgY2xlYW51cCk7CiAgICAgICAgZWxUby5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25jYW5jZWwnLCBjbGVhbnVwKTsKICAgICAgICBjYW5jZWwgPSBhYm9ydCA9PiB7CiAgICAgICAgICAvLyB3ZSBhcmUgbm90IGluIGEgbW9ycGggdGhhdCB3ZSBjYW4gY2FuY2VsCiAgICAgICAgICBpZiAoY2FuY2VsU3RhdHVzID09PSB0cnVlIHx8ICFlbFRvIHx8ICFlbEZyb21DbG9uZSB8fCAhZWxUb0Nsb25lKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChhYm9ydCA9PT0gdHJ1ZSkgewogICAgICAgICAgICBjbGVhbnVwKCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgZW5kRWxlbWVudFRvID0gZW5kRWxlbWVudFRvICE9PSB0cnVlOwogICAgICAgICAgYW5pbWF0aW9uRGlyZWN0aW9uID0gYW5pbWF0aW9uRGlyZWN0aW9uID09PSAnbm9ybWFsJyA/ICdyZXZlcnNlJyA6ICdub3JtYWwnOwogICAgICAgICAgZWxGcm9tQ2xvbmUuc3R5bGUuYW5pbWF0aW9uRGlyZWN0aW9uID0gYW5pbWF0aW9uRGlyZWN0aW9uOwogICAgICAgICAgZWxGcm9tVHdlZW4uc3R5bGUuYW5pbWF0aW9uRGlyZWN0aW9uID0gYW5pbWF0aW9uRGlyZWN0aW9uOwogICAgICAgICAgZWxUb0Nsb25lLnN0eWxlLmFuaW1hdGlvbkRpcmVjdGlvbiA9IGFuaW1hdGlvbkRpcmVjdGlvbjsKICAgICAgICAgIGVsVG8uc3R5bGUuYW5pbWF0aW9uRGlyZWN0aW9uID0gYW5pbWF0aW9uRGlyZWN0aW9uOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfTsKICAgICAgfQogICAgfTsKICAgIGlmIChvcHRpb25zLndhaXRGb3IgPiAwIHx8IG9wdGlvbnMud2FpdEZvciA9PT0gJ3RyYW5zaXRpb25lbmQnIHx8IG9wdGlvbnMud2FpdEZvciA9PT0gT2JqZWN0KG9wdGlvbnMud2FpdEZvcikgJiYgdHlwZW9mIG9wdGlvbnMud2FpdEZvci50aGVuID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIGNvbnN0IGRlbGF5UHJvbWlzZSA9IG9wdGlvbnMud2FpdEZvciA+IDAgPyBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgb3B0aW9ucy53YWl0Rm9yKSkgOiBvcHRpb25zLndhaXRGb3IgPT09ICd0cmFuc2l0aW9uZW5kJyA/IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICBlbmRGbigpOwogICAgICAgIH0sIDQwMCk7CiAgICAgICAgY29uc3QgZW5kRm4gPSBldiA9PiB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgICAgaWYgKGVsVG8pIHsKICAgICAgICAgICAgZWxUby5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZW5kRm4pOwogICAgICAgICAgICBlbFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25jYW5jZWwnLCBlbmRGbik7CiAgICAgICAgICB9CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfTsKICAgICAgICBlbFRvLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBlbmRGbik7CiAgICAgICAgZWxUby5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uY2FuY2VsJywgZW5kRm4pOwogICAgICB9KSA6IG9wdGlvbnMud2FpdEZvcjsKICAgICAgZGVsYXlQcm9taXNlLnRoZW4oYW5pbWF0ZSkuY2F0Y2goKCkgPT4gewogICAgICAgIHR5cGVvZiBlbFRvLnFNb3JwaENhbmNlbCA9PT0gJ2Z1bmN0aW9uJyAmJiBlbFRvLnFNb3JwaENhbmNlbCgpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGFuaW1hdGUoKTsKICAgIH0KICB9OwogIHR5cGVvZiBfb3B0aW9ucy5vblRvZ2dsZSA9PT0gJ2Z1bmN0aW9uJyAmJiBfb3B0aW9ucy5vblRvZ2dsZSgpOwogIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxjdWxhdGVGaW5hbFN0YXRlKTsKCiAgLy8gd2UgcmV0dXJuIHRoZSBjYW5jZWwgZnVuY3Rpb24KICAvLyByZXR1cm5zOgogIC8vICAgZmFsc2UgaWYgdGhlIGNhbmNlbCBjYW5ub3QgYmUgcGVyZm9ybWVkICh0aGUgbW9ycGggZW5kZWQgYWxyZWFkeSBvciBoYXMgbm90IHN0YXJ0ZWQpCiAgLy8gICB0cnVlIGVsc2UKICByZXR1cm4gYWJvcnQgPT4gY2FuY2VsKGFib3J0KTsKfQ=="},{"version":3,"names":["getElement","isObject","id","offsetBase","getAbsolutePosition","el","resize","document","createElement","style","cssText","body","appendChild","boundingRect","getBoundingClientRect","baseRect","marginLeft","marginRight","marginTop","marginBottom","window","getComputedStyle","marginH","parseInt","marginV","left","top","width","right","height","bottom","widthM","heightM","getAbsoluteSize","scrollWidth","scrollHeight","styleEdges","styleBorderRadiuses","reStyleSkipKey","reStyleSkipRule","props","fixed","i","length","prop","styleLen","val","test","indexOf","suffix","replace","j","subProp","val1","val2","split","filter","join","zIndexPositions","getMaxZIndex","elStart","maxIndex","position","zIndex","zIndexNum","Number","includes","parentNode","normalizeElements","opts","from","to","normalizeOptions","options","duration","onEnd","waitFor","isNaN","easing","delay","fill","useCSS","usecss","hideFromClone","hidefromclone","keepToClone","keeptoclone","tween","tweenFromOpacity","parseFloat","tweenToOpacity","isValidElement","element","ownerDocument","morph","_options","cancel","cancelStatus","endElementTo","elements","elFrom","qMorphCancel","animationFromClone","animationFromTween","animationToClone","animationTo","elFromParent","elFromNext","nextElementSibling","elFromPosition","elFromParentWidthBefore","elFromParentHeightBefore","borderWidth","elFromBorderWidth","borderStyle","elFromBorderStyle","borderColor","elFromBorderColor","borderRadius","elFromBorderRadius","backgroundColor","elFromBackground","transform","elFromTransform","elFromPositioningType","elFromCssText","elFromClassSaved","classList","toString","elFromStyleSaved","elFromClone","cloneNode","elFromTween","className","c","add","setAttribute","transition","animation","pointerEvents","insertBefore","remove","calculateFinalState","elTo","elFromParentWidthAfter","elFromParentHeightAfter","elToParentWidthBefore","elToParentHeightBefore","animate","innerHTML","elToParent","elToParentWidthAfter","elToParentHeightAfter","elToClone","elToNext","elToBorderWidth","elToBorderStyle","elToBorderColor","elToBorderRadius","elToBackground","elToTransform","elToPositioningType","elToCssText","elToClassSaved","elToStyleSaved","elToPosition","deltaX","deltaY","scaleX","scaleY","elFromParentWidthDiff","elFromParentHeightDiff","elToParentWidthDiff","elToParentHeightDiff","elFromCloneWidth","Math","max","elFromCloneHeight","elToCloneWidth","elToCloneHeight","elSharedSize","elToNeedsFixedPosition","parent","display","flex","opacity","minWidth","maxWidth","minHeight","maxHeight","classes","elFromZIndex","elToZIndex","documentScroll","documentElement","scrollLeft","scrollTop","margin","overflow","overflowX","overflowY","commonCleanup","aborted","resizeFrom","resizeTo","resizeFromTween","resizeToTween","tweenFrom","tweenTo","transformOrigin","cleanup","abort","removeEventListener","addEventListener","reverse","qAnimId","keyframesFromTween","keyframesFrom","keyframeToStart","keyframesTo","head","animationDirection","evt","Object","animationName","then","delayPromise","Promise","resolve","setTimeout","timer","endFn","ev","clearTimeout","catch","onToggle","requestAnimationFrame"],"sources":["/Users/simplephi/Documents/riswan/stock_darah/admin/node_modules/quasar/src/utils/morph.js"],"sourcesContent":["import { getElement } from './dom.js'\nimport { isObject } from './is'\n\nlet id = 0\nlet offsetBase = void 0\n\nfunction getAbsolutePosition (el, resize) {\n  if (offsetBase === void 0) {\n    offsetBase = document.createElement('div')\n    offsetBase.style.cssText = 'position: absolute; left: 0; top: 0'\n    document.body.appendChild(offsetBase)\n  }\n\n  const boundingRect = el.getBoundingClientRect()\n  const baseRect = offsetBase.getBoundingClientRect()\n  const { marginLeft, marginRight, marginTop, marginBottom } = window.getComputedStyle(el)\n  const marginH = parseInt(marginLeft, 10) + parseInt(marginRight, 10)\n  const marginV = parseInt(marginTop, 10) + parseInt(marginBottom, 10)\n\n  return {\n    left: boundingRect.left - baseRect.left,\n    top: boundingRect.top - baseRect.top,\n    width: boundingRect.right - boundingRect.left,\n    height: boundingRect.bottom - boundingRect.top,\n    widthM: boundingRect.right - boundingRect.left + (resize === true ? 0 : marginH),\n    heightM: boundingRect.bottom - boundingRect.top + (resize === true ? 0 : marginV),\n    marginH: resize === true ? marginH : 0,\n    marginV: resize === true ? marginV : 0\n  }\n}\n\nfunction getAbsoluteSize (el) {\n  return {\n    width: el.scrollWidth,\n    height: el.scrollHeight\n  }\n}\n\n// firefox rulez\nconst styleEdges = [ 'Top', 'Right', 'Bottom', 'Left' ]\nconst styleBorderRadiuses = [ 'borderTopLeftRadius', 'borderTopRightRadius', 'borderBottomRightRadius', 'borderBottomLeftRadius' ]\nconst reStyleSkipKey = /-block|-inline|block-|inline-/\nconst reStyleSkipRule = /(-block|-inline|block-|inline-).*:/\n\nfunction getComputedStyle (el, props) {\n  const style = window.getComputedStyle(el)\n  const fixed = {}\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i]\n\n    if (style[prop] === '') {\n      if (prop === 'cssText') {\n        const styleLen = style.length\n        let val = ''\n\n        for (let i = 0; i < styleLen; i++) {\n          if (reStyleSkipKey.test(style[i]) !== true) {\n            val += style[i] + ': ' + style[style[i]] + '; '\n          }\n        }\n\n        fixed[prop] = val\n      }\n      else if ([ 'borderWidth', 'borderStyle', 'borderColor' ].indexOf(prop) > -1) {\n        const suffix = prop.replace('border', '')\n        let val = ''\n        for (let j = 0; j < styleEdges.length; j++) {\n          const subProp = 'border' + styleEdges[j] + suffix\n          val += style[subProp] + ' '\n        }\n        fixed[prop] = val\n      }\n      else if (prop === 'borderRadius') {\n        let val1 = ''\n        let val2 = ''\n        for (let j = 0; j < styleBorderRadiuses.length; j++) {\n          const val = style[styleBorderRadiuses[j]].split(' ')\n          val1 += val[0] + ' '\n          val2 += (val[1] === void 0 ? val[0] : val[1]) + ' '\n        }\n        fixed[prop] = val1 + '/ ' + val2\n      }\n      else {\n        fixed[prop] = style[prop]\n      }\n    }\n    else {\n      if (prop === 'cssText') {\n        fixed[prop] = style[prop]\n          .split(';')\n          .filter(val => reStyleSkipRule.test(val) !== true)\n          .join(';')\n      }\n      else {\n        fixed[prop] = style[prop]\n      }\n    }\n  }\n\n  return fixed\n}\n\nconst zIndexPositions = ['absolute', 'fixed', 'relative', 'sticky']\n\nfunction getMaxZIndex (elStart) {\n  let el = elStart\n  let maxIndex = 0\n\n  while (el !== null && el !== document) {\n    const { position, zIndex } = window.getComputedStyle(el)\n    const zIndexNum = Number(zIndex)\n\n    if (\n      zIndexNum > maxIndex &&\n      (el === elStart || zIndexPositions.includes(position) === true)\n    ) {\n      maxIndex = zIndexNum\n    }\n\n    el = el.parentNode\n  }\n\n  return maxIndex\n}\n\nfunction normalizeElements (opts) {\n  return {\n    from: opts.from,\n    to: opts.to !== void 0\n      ? opts.to\n      : opts.from\n  }\n}\n\nfunction normalizeOptions (options) {\n  if (typeof options === 'number') {\n    options = {\n      duration: options\n    }\n  }\n  else if (typeof options === 'function') {\n    options = {\n      onEnd: options\n    }\n  }\n\n  return {\n    ...options,\n\n    waitFor: options.waitFor === void 0 ? 0 : options.waitFor,\n\n    duration: isNaN(options.duration) === true ? 300 : parseInt(options.duration, 10),\n    easing: typeof options.easing === 'string' && options.easing.length > 0 ? options.easing : 'ease-in-out',\n    delay: isNaN(options.delay) === true ? 0 : parseInt(options.delay, 10),\n    fill: typeof options.fill === 'string' && options.fill.length > 0 ? options.fill : 'none',\n\n    resize: options.resize === true,\n    useCSS: options.useCSS === true || options.usecss === true,\n    hideFromClone: options.hideFromClone === true || options.hidefromclone === true,\n    keepToClone: options.keepToClone === true || options.keeptoclone === true,\n\n    tween: options.tween === true,\n    tweenFromOpacity: isNaN(options.tweenFromOpacity) === true ? 0.6 : parseFloat(options.tweenFromOpacity),\n    tweenToOpacity: isNaN(options.tweenToOpacity) === true ? 0.5 : parseFloat(options.tweenToOpacity)\n  }\n}\n\nfunction isValidElement (element) {\n  return element &&\n    element.ownerDocument === document &&\n    element.parentNode !== null\n}\n\nexport default function morph (_options) {\n  let cancel = () => false\n  let cancelStatus = false\n  let endElementTo = true\n\n  const elements = normalizeElements(_options)\n  const options = normalizeOptions(_options)\n\n  const elFrom = getElement(elements.from)\n  if (isValidElement(elFrom) !== true) {\n    // we return a cancel function that return false, meaning the cancel function failed\n    return cancel\n  }\n  // we clean other morphs running on this element\n  typeof elFrom.qMorphCancel === 'function' && elFrom.qMorphCancel()\n\n  let animationFromClone = void 0\n  let animationFromTween = void 0\n  let animationToClone = void 0\n  let animationTo = void 0\n\n  const elFromParent = elFrom.parentNode\n  const elFromNext = elFrom.nextElementSibling\n\n  // we get the dimensions and characteristics\n  // of the parent of the initial element before changes\n  const elFromPosition = getAbsolutePosition(elFrom, options.resize)\n  const {\n    width: elFromParentWidthBefore,\n    height: elFromParentHeightBefore\n  } = getAbsoluteSize(elFromParent)\n  const {\n    borderWidth: elFromBorderWidth,\n    borderStyle: elFromBorderStyle,\n    borderColor: elFromBorderColor,\n    borderRadius: elFromBorderRadius,\n    backgroundColor: elFromBackground,\n    transform: elFromTransform,\n    position: elFromPositioningType,\n    cssText: elFromCssText\n  } = getComputedStyle(elFrom, [ 'borderWidth', 'borderStyle', 'borderColor', 'borderRadius', 'backgroundColor', 'transform', 'position', 'cssText' ])\n  const elFromClassSaved = elFrom.classList.toString()\n  const elFromStyleSaved = elFrom.style.cssText\n\n  // we make a clone of the initial element and\n  // use it to display until the final element is ready\n  // and to change the occupied space during animation\n  const elFromClone = elFrom.cloneNode(true)\n  const elFromTween = options.tween === true ? elFrom.cloneNode(true) : void 0\n\n  if (elFromTween !== void 0) {\n    elFromTween.className = elFromTween.classList.toString().split(' ').filter(c => /^bg-/.test(c) === false).join(' ')\n  }\n\n  // if the initial element is not going to be removed do not show the placeholder\n  options.hideFromClone === true && elFromClone.classList.add('q-morph--internal')\n\n  // prevent interaction with placeholder\n  elFromClone.setAttribute('aria-hidden', 'true')\n  elFromClone.style.transition = 'none'\n  elFromClone.style.animation = 'none'\n  elFromClone.style.pointerEvents = 'none'\n  elFromParent.insertBefore(elFromClone, elFromNext)\n\n  // we mark the element with its cleanup function\n  elFrom.qMorphCancel = () => {\n    cancelStatus = true\n\n    // we clean the clone of the initial element\n    elFromClone.remove()\n    elFromTween !== void 0 && elFromTween.remove()\n\n    options.hideFromClone === true && elFromClone.classList.remove('q-morph--internal')\n\n    // we remove the cleanup function from the element\n    elFrom.qMorphCancel = void 0\n  }\n\n  // will be called after Vue catches up with the changes done by _options.onToggle() function\n  const calculateFinalState = () => {\n    const elTo = getElement(elements.to)\n    if (cancelStatus === true || isValidElement(elTo) !== true) {\n      typeof elFrom.qMorphCancel === 'function' && elFrom.qMorphCancel()\n\n      return\n    }\n    // we clean other morphs running on this element\n    elFrom !== elTo && typeof elTo.qMorphCancel === 'function' && elTo.qMorphCancel()\n\n    // we hide the final element and the clone of the initial element\n    // we don't hide the final element if we want both it and the animated one visible\n    options.keepToClone !== true && elTo.classList.add('q-morph--internal')\n    elFromClone.classList.add('q-morph--internal')\n\n    // we get the dimensions of the parent of the initial element after changes\n    // the difference is how much we should animate the clone\n    const {\n      width: elFromParentWidthAfter,\n      height: elFromParentHeightAfter\n    } = getAbsoluteSize(elFromParent)\n\n    // we get the dimensions of the parent of the final element before changes\n    const {\n      width: elToParentWidthBefore,\n      height: elToParentHeightBefore\n    } = getAbsoluteSize(elTo.parentNode)\n\n    // then we show the clone of the initial element if we don't want it hidden\n    options.hideFromClone !== true && elFromClone.classList.remove('q-morph--internal')\n\n    // we mark the element with its cleanup function\n    elTo.qMorphCancel = () => {\n      cancelStatus = true\n\n      // we clean the clone of the initial element\n      elFromClone.remove()\n      elFromTween !== void 0 && elFromTween.remove()\n\n      options.hideFromClone === true && elFromClone.classList.remove('q-morph--internal')\n\n      // we show the final element\n      options.keepToClone !== true && elTo.classList.remove('q-morph--internal')\n\n      // we remove the cleanup function from the elements\n      elFrom.qMorphCancel = void 0\n      elTo.qMorphCancel = void 0\n    }\n\n    // will be called after waitFor (give time to render the final element)\n    const animate = () => {\n      if (cancelStatus === true) {\n        typeof elTo.qMorphCancel === 'function' && elTo.qMorphCancel()\n\n        return\n      }\n\n      // now the animation starts, so we only need the clone\n      // of the initial element as a spacer\n      // we also hide it to calculate the dimensions of the\n      // parent of the final element after the changes\n      if (options.hideFromClone !== true) {\n        elFromClone.classList.add('q-morph--internal')\n        elFromClone.innerHTML = ''\n        elFromClone.style.left = 0\n        elFromClone.style.right = 'unset'\n        elFromClone.style.top = 0\n        elFromClone.style.bottom = 'unset'\n        elFromClone.style.transform = 'none'\n      }\n\n      // we show the final element\n      if (options.keepToClone !== true) {\n        elTo.classList.remove('q-morph--internal')\n      }\n\n      // we get the dimensions of the parent of the final element after changes\n      // the difference is how much we should animate the clone\n      const elToParent = elTo.parentNode\n      const {\n        width: elToParentWidthAfter,\n        height: elToParentHeightAfter\n      } = getAbsoluteSize(elToParent)\n\n      const elToClone = elTo.cloneNode(options.keepToClone)\n      elToClone.setAttribute('aria-hidden', 'true')\n      if (options.keepToClone !== true) {\n        elToClone.style.left = 0\n        elToClone.style.right = 'unset'\n        elToClone.style.top = 0\n        elToClone.style.bottom = 'unset'\n        elToClone.style.transform = 'none'\n        elToClone.style.pointerEvents = 'none'\n      }\n      elToClone.classList.add('q-morph--internal')\n\n      // if elFrom is the same as elTo the next element is elFromClone\n      const elToNext = elTo === elFrom && elFromParent === elToParent ? elFromClone : elTo.nextElementSibling\n      elToParent.insertBefore(elToClone, elToNext)\n\n      const {\n        borderWidth: elToBorderWidth,\n        borderStyle: elToBorderStyle,\n        borderColor: elToBorderColor,\n        borderRadius: elToBorderRadius,\n        backgroundColor: elToBackground,\n        transform: elToTransform,\n        position: elToPositioningType,\n        cssText: elToCssText\n      } = getComputedStyle(elTo, [ 'borderWidth', 'borderStyle', 'borderColor', 'borderRadius', 'backgroundColor', 'transform', 'position', 'cssText' ])\n      const elToClassSaved = elTo.classList.toString()\n      const elToStyleSaved = elTo.style.cssText\n\n      // we set the computed styles on the element (to be able to remove classes)\n      elTo.style.cssText = elToCssText\n      elTo.style.transform = 'none'\n      elTo.style.animation = 'none'\n      elTo.style.transition = 'none'\n      // we strip the background classes (background color can no longer be animated if !important is used)\n      elTo.className = elToClassSaved.split(' ').filter(c => /^bg-/.test(c) === false).join(' ')\n\n      const elToPosition = getAbsolutePosition(elTo, options.resize)\n\n      const deltaX = elFromPosition.left - elToPosition.left\n      const deltaY = elFromPosition.top - elToPosition.top\n      const scaleX = elFromPosition.width / (elToPosition.width > 0 ? elToPosition.width : 10)\n      const scaleY = elFromPosition.height / (elToPosition.height > 0 ? elToPosition.height : 100)\n\n      const elFromParentWidthDiff = elFromParentWidthBefore - elFromParentWidthAfter\n      const elFromParentHeightDiff = elFromParentHeightBefore - elFromParentHeightAfter\n      const elToParentWidthDiff = elToParentWidthAfter - elToParentWidthBefore\n      const elToParentHeightDiff = elToParentHeightAfter - elToParentHeightBefore\n\n      const elFromCloneWidth = Math.max(elFromPosition.widthM, elFromParentWidthDiff)\n      const elFromCloneHeight = Math.max(elFromPosition.heightM, elFromParentHeightDiff)\n      const elToCloneWidth = Math.max(elToPosition.widthM, elToParentWidthDiff)\n      const elToCloneHeight = Math.max(elToPosition.heightM, elToParentHeightDiff)\n\n      const elSharedSize = elFrom === elTo &&\n        [ 'absolute', 'fixed' ].includes(elToPositioningType) === false &&\n        [ 'absolute', 'fixed' ].includes(elFromPositioningType) === false\n\n      // if the final element has fixed position or if a parent\n      // has fixed position we need to animate it as fixed\n      let elToNeedsFixedPosition = elToPositioningType === 'fixed'\n      let parent = elToParent\n      while (elToNeedsFixedPosition !== true && parent !== document) {\n        elToNeedsFixedPosition = window.getComputedStyle(parent).position === 'fixed'\n        parent = parent.parentNode\n      }\n\n      // we show the spacer for the initial element\n      if (options.hideFromClone !== true) {\n        elFromClone.style.display = 'block'\n        elFromClone.style.flex = '0 0 auto'\n        elFromClone.style.opacity = 0\n        elFromClone.style.minWidth = 'unset'\n        elFromClone.style.maxWidth = 'unset'\n        elFromClone.style.minHeight = 'unset'\n        elFromClone.style.maxHeight = 'unset'\n        elFromClone.classList.remove('q-morph--internal')\n      }\n\n      // we show the spacer for the final element\n      if (options.keepToClone !== true) {\n        elToClone.style.display = 'block'\n        elToClone.style.flex = '0 0 auto'\n        elToClone.style.opacity = 0\n        elToClone.style.minWidth = 'unset'\n        elToClone.style.maxWidth = 'unset'\n        elToClone.style.minHeight = 'unset'\n        elToClone.style.maxHeight = 'unset'\n      }\n      elToClone.classList.remove('q-morph--internal')\n\n      // we apply classes specified by user\n      if (typeof options.classes === 'string') {\n        elTo.className += ' ' + options.classes\n      }\n\n      // we apply styles specified by user\n      if (typeof options.style === 'string') {\n        elTo.style.cssText += ' ' + options.style\n      }\n      else if (isObject(options.style) === true) {\n        for (const prop in options.style) {\n          elTo.style[prop] = options.style[prop]\n        }\n      }\n\n      const elFromZIndex = getMaxZIndex(elFromClone)\n      const elToZIndex = getMaxZIndex(elTo)\n\n      // we position the morphing element\n      // if we use fixed position for the final element we need to adjust for scroll\n      const documentScroll = elToNeedsFixedPosition === true\n        ? document.documentElement\n        : { scrollLeft: 0, scrollTop: 0 }\n      elTo.style.position = elToNeedsFixedPosition === true ? 'fixed' : 'absolute'\n      elTo.style.left = `${elToPosition.left - documentScroll.scrollLeft}px`\n      elTo.style.right = 'unset'\n      elTo.style.top = `${elToPosition.top - documentScroll.scrollTop}px`\n      elTo.style.margin = 0\n\n      if (options.resize === true) {\n        elTo.style.minWidth = 'unset'\n        elTo.style.maxWidth = 'unset'\n        elTo.style.minHeight = 'unset'\n        elTo.style.maxHeight = 'unset'\n        elTo.style.overflow = 'hidden'\n        elTo.style.overflowX = 'hidden'\n        elTo.style.overflowY = 'hidden'\n      }\n\n      document.body.appendChild(elTo)\n\n      if (elFromTween !== void 0) {\n        elFromTween.style.cssText = elFromCssText\n        elFromTween.style.transform = 'none'\n        elFromTween.style.animation = 'none'\n        elFromTween.style.transition = 'none'\n\n        elFromTween.style.position = elTo.style.position\n        elFromTween.style.left = `${elFromPosition.left - documentScroll.scrollLeft}px`\n        elFromTween.style.right = 'unset'\n        elFromTween.style.top = `${elFromPosition.top - documentScroll.scrollTop}px`\n        elFromTween.style.margin = 0\n        elFromTween.style.pointerEvents = 'none'\n\n        if (options.resize === true) {\n          elFromTween.style.minWidth = 'unset'\n          elFromTween.style.maxWidth = 'unset'\n          elFromTween.style.minHeight = 'unset'\n          elFromTween.style.maxHeight = 'unset'\n          elFromTween.style.overflow = 'hidden'\n          elFromTween.style.overflowX = 'hidden'\n          elFromTween.style.overflowY = 'hidden'\n        }\n\n        document.body.appendChild(elFromTween)\n      }\n\n      const commonCleanup = aborted => {\n        // we put the element back in it's place\n        // and restore the styles and classes\n        if (elFrom === elTo && endElementTo !== true) {\n          elTo.style.cssText = elFromStyleSaved\n          elTo.className = elFromClassSaved\n        }\n        else {\n          elTo.style.cssText = elToStyleSaved\n          elTo.className = elToClassSaved\n        }\n        elToClone.parentNode === elToParent && elToParent.insertBefore(elTo, elToClone)\n\n        // we clean the spacers\n        elFromClone.remove()\n        elToClone.remove()\n        elFromTween !== void 0 && elFromTween.remove()\n\n        // cancel will be no longer available\n        cancel = () => false\n\n        elFrom.qMorphCancel = void 0\n        elTo.qMorphCancel = void 0\n\n        // we are ready\n        if (typeof options.onEnd === 'function') {\n          options.onEnd(endElementTo === true ? 'to' : 'from', aborted === true)\n        }\n      }\n\n      if (options.useCSS !== true && typeof elTo.animate === 'function') {\n        const resizeFrom = options.resize === true\n          ? {\n            transform: `translate(${deltaX}px, ${deltaY}px)`,\n            width: `${elFromCloneWidth}px`,\n            height: `${elFromCloneHeight}px`\n          }\n          : {\n            transform: `translate(${deltaX}px, ${deltaY}px) scale(${scaleX}, ${scaleY})`\n          }\n        const resizeTo = options.resize === true\n          ? {\n            width: `${elToCloneWidth}px`,\n            height: `${elToCloneHeight}px`\n          }\n          : {}\n        const resizeFromTween = options.resize === true\n          ? {\n            width: `${elFromCloneWidth}px`,\n            height: `${elFromCloneHeight}px`\n          }\n          : {}\n        const resizeToTween = options.resize === true\n          ? {\n            transform: `translate(${-1 * deltaX}px, ${-1 * deltaY}px)`,\n            width: `${elToCloneWidth}px`,\n            height: `${elToCloneHeight}px`\n          }\n          : {\n            transform: `translate(${-1 * deltaX}px, ${-1 * deltaY}px) scale(${1 / scaleX}, ${1 / scaleY})`\n          }\n        const tweenFrom = elFromTween !== void 0\n          ? { opacity: options.tweenToOpacity }\n          : { backgroundColor: elFromBackground }\n        const tweenTo = elFromTween !== void 0\n          ? { opacity: 1 }\n          : { backgroundColor: elToBackground }\n        animationTo = elTo.animate([\n          {\n            margin: 0,\n            borderWidth: elFromBorderWidth,\n            borderStyle: elFromBorderStyle,\n            borderColor: elFromBorderColor,\n            borderRadius: elFromBorderRadius,\n            zIndex: elFromZIndex,\n            transformOrigin: '0 0',\n            ...resizeFrom,\n            ...tweenFrom\n          },\n          {\n            margin: 0,\n            borderWidth: elToBorderWidth,\n            borderStyle: elToBorderStyle,\n            borderColor: elToBorderColor,\n            borderRadius: elToBorderRadius,\n            zIndex: elToZIndex,\n            transformOrigin: '0 0',\n            transform: elToTransform,\n            ...resizeTo,\n            ...tweenTo\n          }\n        ], {\n          duration: options.duration,\n          easing: options.easing,\n          fill: options.fill,\n          delay: options.delay\n        })\n\n        animationFromTween = elFromTween === void 0 ? void 0 : elFromTween.animate([\n          {\n            opacity: options.tweenFromOpacity,\n            margin: 0,\n            borderWidth: elFromBorderWidth,\n            borderStyle: elFromBorderStyle,\n            borderColor: elFromBorderColor,\n            borderRadius: elFromBorderRadius,\n            zIndex: elFromZIndex,\n            transformOrigin: '0 0',\n            transform: elFromTransform,\n            ...resizeFromTween\n          },\n          {\n            opacity: 0,\n            margin: 0,\n            borderWidth: elToBorderWidth,\n            borderStyle: elToBorderStyle,\n            borderColor: elToBorderColor,\n            borderRadius: elToBorderRadius,\n            zIndex: elToZIndex,\n            transformOrigin: '0 0',\n            ...resizeToTween\n          }\n        ], {\n          duration: options.duration,\n          easing: options.easing,\n          fill: options.fill,\n          delay: options.delay\n        })\n\n        animationFromClone = options.hideFromClone === true || elSharedSize === true ? void 0 : elFromClone.animate([\n          {\n            margin: `${elFromParentHeightDiff < 0 ? elFromParentHeightDiff / 2 : 0}px ${elFromParentWidthDiff < 0 ? elFromParentWidthDiff / 2 : 0}px`,\n            width: `${elFromCloneWidth + elFromPosition.marginH}px`,\n            height: `${elFromCloneHeight + elFromPosition.marginV}px`\n          },\n          {\n            margin: 0,\n            width: 0,\n            height: 0\n          }\n        ], {\n          duration: options.duration,\n          easing: options.easing,\n          fill: options.fill,\n          delay: options.delay\n        })\n\n        animationToClone = options.keepToClone === true ? void 0 : elToClone.animate([\n          elSharedSize === true\n            ? {\n              margin: `${elFromParentHeightDiff < 0 ? elFromParentHeightDiff / 2 : 0}px ${elFromParentWidthDiff < 0 ? elFromParentWidthDiff / 2 : 0}px`,\n              width: `${elFromCloneWidth + elFromPosition.marginH}px`,\n              height: `${elFromCloneHeight + elFromPosition.marginV}px`\n            }\n            : {\n              margin: 0,\n              width: 0,\n              height: 0\n            },\n          {\n            margin: `${elToParentHeightDiff < 0 ? elToParentHeightDiff / 2 : 0}px ${elToParentWidthDiff < 0 ? elToParentWidthDiff / 2 : 0}px`,\n            width: `${elToCloneWidth + elToPosition.marginH}px`,\n            height: `${elToCloneHeight + elToPosition.marginV}px`\n          }\n        ], {\n          duration: options.duration,\n          easing: options.easing,\n          fill: options.fill,\n          delay: options.delay\n        })\n\n        const cleanup = abort => {\n          animationFromClone !== void 0 && animationFromClone.cancel()\n          animationFromTween !== void 0 && animationFromTween.cancel()\n          animationToClone !== void 0 && animationToClone.cancel()\n          animationTo.cancel()\n\n          animationTo.removeEventListener('finish', cleanup)\n          animationTo.removeEventListener('cancel', cleanup)\n\n          commonCleanup(abort)\n\n          // we clean the animations\n          animationFromClone = void 0\n          animationFromTween = void 0\n          animationToClone = void 0\n          animationTo = void 0\n        }\n\n        elFrom.qMorphCancel = () => {\n          elFrom.qMorphCancel = void 0\n          cancelStatus = true\n          cleanup()\n        }\n        elTo.qMorphCancel = () => {\n          elTo.qMorphCancel = void 0\n          cancelStatus = true\n          cleanup()\n        }\n\n        animationTo.addEventListener('finish', cleanup)\n        animationTo.addEventListener('cancel', cleanup)\n\n        cancel = abort => {\n          // we are not in a morph that we can cancel\n          if (cancelStatus === true || animationTo === void 0) {\n            return false\n          }\n\n          if (abort === true) {\n            cleanup(true)\n            return true\n          }\n\n          endElementTo = endElementTo !== true\n\n          animationFromClone !== void 0 && animationFromClone.reverse()\n          animationFromTween !== void 0 && animationFromTween.reverse()\n          animationToClone !== void 0 && animationToClone.reverse()\n          animationTo.reverse()\n\n          return true\n        }\n      }\n      else {\n        const qAnimId = `q-morph-anim-${++id}`\n        const style = document.createElement('style')\n        const resizeFrom = options.resize === true\n          ? `\n            transform: translate(${deltaX}px, ${deltaY}px);\n            width: ${elFromCloneWidth}px;\n            height: ${elFromCloneHeight}px;\n          `\n          : `transform: translate(${deltaX}px, ${deltaY}px) scale(${scaleX}, ${scaleY});`\n        const resizeTo = options.resize === true\n          ? `\n            width: ${elToCloneWidth}px;\n            height: ${elToCloneHeight}px;\n          `\n          : ''\n        const resizeFromTween = options.resize === true\n          ? `\n            width: ${elFromCloneWidth}px;\n            height: ${elFromCloneHeight}px;\n          `\n          : ''\n        const resizeToTween = options.resize === true\n          ? `\n            transform: translate(${-1 * deltaX}px, ${-1 * deltaY}px);\n            width: ${elToCloneWidth}px;\n            height: ${elToCloneHeight}px;\n          `\n          : `transform: translate(${-1 * deltaX}px, ${-1 * deltaY}px) scale(${1 / scaleX}, ${1 / scaleY});`\n        const tweenFrom = elFromTween !== void 0\n          ? `opacity: ${options.tweenToOpacity};`\n          : `background-color: ${elFromBackground};`\n        const tweenTo = elFromTween !== void 0\n          ? 'opacity: 1;'\n          : `background-color: ${elToBackground};`\n        const keyframesFromTween = elFromTween === void 0\n          ? ''\n          : `\n            @keyframes ${qAnimId}-from-tween {\n              0% {\n                opacity: ${options.tweenFromOpacity};\n                margin: 0;\n                border-width: ${elFromBorderWidth};\n                border-style: ${elFromBorderStyle};\n                border-color: ${elFromBorderColor};\n                border-radius: ${elFromBorderRadius};\n                z-index: ${elFromZIndex};\n                transform-origin: 0 0;\n                transform: ${elFromTransform};\n                ${resizeFromTween}\n              }\n\n              100% {\n                opacity: 0;\n                margin: 0;\n                border-width: ${elToBorderWidth};\n                border-style: ${elToBorderStyle};\n                border-color: ${elToBorderColor};\n                border-radius: ${elToBorderRadius};\n                z-index: ${elToZIndex};\n                transform-origin: 0 0;\n                ${resizeToTween}\n              }\n            }\n          `\n        const keyframesFrom = options.hideFromClone === true || elSharedSize === true\n          ? ''\n          : `\n            @keyframes ${qAnimId}-from {\n              0% {\n                margin: ${elFromParentHeightDiff < 0 ? elFromParentHeightDiff / 2 : 0}px ${elFromParentWidthDiff < 0 ? elFromParentWidthDiff / 2 : 0}px;\n                width: ${elFromCloneWidth + elFromPosition.marginH}px;\n                height: ${elFromCloneHeight + elFromPosition.marginV}px;\n              }\n\n              100% {\n                margin: 0;\n                width: 0;\n                height: 0;\n              }\n            }\n          `\n        const keyframeToStart = elSharedSize === true\n          ? `\n            margin: ${elFromParentHeightDiff < 0 ? elFromParentHeightDiff / 2 : 0}px ${elFromParentWidthDiff < 0 ? elFromParentWidthDiff / 2 : 0}px;\n            width: ${elFromCloneWidth + elFromPosition.marginH}px;\n            height: ${elFromCloneHeight + elFromPosition.marginV}px;\n          `\n          : `\n            margin: 0;\n            width: 0;\n            height: 0;\n          `\n        const keyframesTo = options.keepToClone === true\n          ? ''\n          : `\n            @keyframes ${qAnimId}-to {\n              0% {\n                ${keyframeToStart}\n              }\n\n              100% {\n                margin: ${elToParentHeightDiff < 0 ? elToParentHeightDiff / 2 : 0}px ${elToParentWidthDiff < 0 ? elToParentWidthDiff / 2 : 0}px;\n                width: ${elToCloneWidth + elToPosition.marginH}px;\n                height: ${elToCloneHeight + elToPosition.marginV}px;\n              }\n            }\n          `\n        style.innerHTML = `\n          @keyframes ${qAnimId} {\n            0% {\n              margin: 0;\n              border-width: ${elFromBorderWidth};\n              border-style: ${elFromBorderStyle};\n              border-color: ${elFromBorderColor};\n              border-radius: ${elFromBorderRadius};\n              background-color: ${elFromBackground};\n              z-index: ${elFromZIndex};\n              transform-origin: 0 0;\n              ${resizeFrom}\n              ${tweenFrom}\n            }\n\n            100% {\n              margin: 0;\n              border-width: ${elToBorderWidth};\n              border-style: ${elToBorderStyle};\n              border-color: ${elToBorderColor};\n              border-radius: ${elToBorderRadius};\n              background-color: ${elToBackground};\n              z-index: ${elToZIndex};\n              transform-origin: 0 0;\n              transform: ${elToTransform};\n              ${resizeTo}\n              ${tweenTo}\n            }\n          }\n\n          ${keyframesFrom}\n\n          ${keyframesFromTween}\n\n          ${keyframesTo}\n        `\n        document.head.appendChild(style)\n\n        let animationDirection = 'normal'\n\n        elFromClone.style.animation = `${options.duration}ms ${options.easing} ${options.delay}ms ${animationDirection} ${options.fill} ${qAnimId}-from`\n        if (elFromTween !== void 0) {\n          elFromTween.style.animation = `${options.duration}ms ${options.easing} ${options.delay}ms ${animationDirection} ${options.fill} ${qAnimId}-from-tween`\n        }\n        elToClone.style.animation = `${options.duration}ms ${options.easing} ${options.delay}ms ${animationDirection} ${options.fill} ${qAnimId}-to`\n        elTo.style.animation = `${options.duration}ms ${options.easing} ${options.delay}ms ${animationDirection} ${options.fill} ${qAnimId}`\n\n        const cleanup = evt => {\n          if (evt === Object(evt) && evt.animationName !== qAnimId) {\n            return\n          }\n\n          elTo.removeEventListener('animationend', cleanup)\n          elTo.removeEventListener('animationcancel', cleanup)\n\n          commonCleanup()\n\n          // we clean the animations\n          style.remove()\n        }\n\n        elFrom.qMorphCancel = () => {\n          elFrom.qMorphCancel = void 0\n          cancelStatus = true\n          cleanup()\n        }\n        elTo.qMorphCancel = () => {\n          elTo.qMorphCancel = void 0\n          cancelStatus = true\n          cleanup()\n        }\n\n        elTo.addEventListener('animationend', cleanup)\n        elTo.addEventListener('animationcancel', cleanup)\n\n        cancel = abort => {\n          // we are not in a morph that we can cancel\n          if (cancelStatus === true || !elTo || !elFromClone || !elToClone) {\n            return false\n          }\n\n          if (abort === true) {\n            cleanup()\n\n            return true\n          }\n\n          endElementTo = endElementTo !== true\n\n          animationDirection = animationDirection === 'normal' ? 'reverse' : 'normal'\n\n          elFromClone.style.animationDirection = animationDirection\n          elFromTween.style.animationDirection = animationDirection\n          elToClone.style.animationDirection = animationDirection\n          elTo.style.animationDirection = animationDirection\n\n          return true\n        }\n      }\n    }\n\n    if (\n      options.waitFor > 0 ||\n      options.waitFor === 'transitionend' ||\n      (options.waitFor === Object(options.waitFor) && typeof options.waitFor.then === 'function')\n    ) {\n      const delayPromise = options.waitFor > 0\n        ? new Promise(resolve => setTimeout(resolve, options.waitFor))\n        : (\n          options.waitFor === 'transitionend'\n            ? new Promise(resolve => {\n              const timer = setTimeout(() => {\n                endFn()\n              }, 400)\n\n              const endFn = ev => {\n                clearTimeout(timer)\n\n                if (elTo) {\n                  elTo.removeEventListener('transitionend', endFn)\n                  elTo.removeEventListener('transitioncancel', endFn)\n                }\n\n                resolve()\n              }\n\n              elTo.addEventListener('transitionend', endFn)\n              elTo.addEventListener('transitioncancel', endFn)\n            })\n            : options.waitFor\n        )\n\n      delayPromise\n        .then(animate)\n        .catch(() => {\n          typeof elTo.qMorphCancel === 'function' && elTo.qMorphCancel()\n        })\n    }\n    else {\n      animate()\n    }\n  }\n\n  typeof _options.onToggle === 'function' && _options.onToggle()\n  requestAnimationFrame(calculateFinalState)\n\n  // we return the cancel function\n  // returns:\n  //   false if the cancel cannot be performed (the morph ended already or has not started)\n  //   true else\n  return abort => cancel(abort)\n}\n"],"mappings":"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"}]}