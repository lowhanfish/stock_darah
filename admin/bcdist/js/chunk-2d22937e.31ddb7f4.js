(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22937e"],{dd08:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"about",staticStyle:{padding:"15px"}},[a("q-card",{staticClass:"my-card",attrs:{bordered:""}},[a("q-card-section",{staticClass:"main2 text-white"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"text-h6 h_titleHead"},[t._v("Registrasi Admin BDRS")])]),a("div",{staticClass:"col-12 col-md-2"}),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"row"},[a("q-input",{staticClass:"bg-white",staticStyle:{width:"90%"},attrs:{outlined:"",square:"",dense:!0},on:{keyup:function(a){return t.cari_data()}},model:{value:t.cari_value,callback:function(a){t.cari_value=a},expression:"cari_value"}}),a("q-btn",{staticClass:"main4",staticStyle:{width:"10%"},attrs:{glossy:"",dense:"",flat:"",icon:"add"},on:{click:function(a){t.mdl_add=!0}}},[a("q-tooltip",{attrs:{"content-class":"green-5","content-style":"font-size: 13px"}},[t._v(" Click untuk menambah data ")])],1)],1)])])]),a("q-separator",{attrs:{dark:"",inset:""}}),a("q-card-section",[a("hr",{staticClass:"hrpagin2"}),a("div",{staticClass:"tbl_responsive"},[a("table",{attrs:{width:"100%"}},[a("thead",{staticClass:"h_table_head main2x text-white"},[a("tr",[a("th",{staticClass:"text-center",attrs:{width:"5%"}},[t._v("No")]),a("th",{attrs:{width:"20%"}},[t._v("Nama Lengkap")]),a("th",{attrs:{width:"15%"}},[t._v("NIK")]),a("th",{attrs:{width:"15%"}},[t._v("Jabatan Fungsional")]),a("th",{attrs:{width:"10%"}},[t._v("No HP")]),a("th",{attrs:{width:"10%"}},[t._v("Email")]),a("th",{attrs:{width:"10%"}},[t._v("Aksi")])])]),a("tbody",t._l(t.list_data,(function(s,e){return a("tr",{key:s.id+"-"+e},[a("td",{staticClass:"text-center"},[t._v(t._s(t.indexing(e+1)))]),a("td",[t._v(t._s(s.nama_lengkap))]),a("td",[t._v(t._s(s.nik))]),a("td",[t._v(t._s(s.jabatan_fungsional))]),a("td",[t._v(t._s(s.no_hp))]),a("td",[t._v(t._s(s.email||"-"))]),a("td",{staticClass:"text-center"},[a("q-item-section",[a("div",{staticClass:"text-white q-gutter-xs text-center"},[a("q-btn",{staticClass:"main4",attrs:{size:"12px",dense:"",glossy:"",round:"",icon:"settings"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){t.mdl_lihat=!0,t.selectData(s)}}},[a("q-item-section",[t._v("Lihat Detail")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){t.mdl_password=!0,t.selectData(s)}}},[a("q-item-section",[t._v("Edit Password")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.editModal(s)}}},[a("q-item-section",[t._v("Edit")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){t.mdl_hapus=!0,t.selectData(s)}}},[a("q-item-section",[t._v("Hapus")])],1),a("q-separator")],1)],1)],1)],1)])],1)])})),0)])]),a("div",{staticClass:"flex flex-center q-mt-md"},[a("q-pagination",{attrs:{max:t.page_last,color:"grey-6","max-pages":4,"direction-links":!0,"boundary-links":!0},on:{"update:model-value":function(a){return t.getView()}},model:{value:t.page_first,callback:function(a){t.page_first=a},expression:"page_first"}})],1)])],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_add,callback:function(a){t.mdl_add=a},expression:"mdl_add"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"main2 text-white"},[a("div",{staticClass:"text-h6 h_modalhead"},[t._v("Tambah Admin BDRS")])]),a("form",{on:{submit:function(a){return a.preventDefault(),t.addData()}}},[a("q-card-section",{staticClass:"q-pt-none"},[a("hr",{staticClass:"hrpagin2"}),a("span",{staticClass:"h_lable"},[t._v("Nama Lengkap")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",required:"",dense:!0},model:{value:t.form.nama_lengkap,callback:function(a){t.$set(t.form,"nama_lengkap",a)},expression:"form.nama_lengkap"}}),a("span",{staticClass:"h_lable"},[t._v("NIK")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",required:"",square:"",dense:!0},model:{value:t.form.nik,callback:function(a){t.$set(t.form,"nik",a)},expression:"form.nik"}}),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("No STR")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",required:"",square:"",dense:!0},model:{value:t.form.no_str,callback:function(a){t.$set(t.form,"no_str",a)},expression:"form.no_str"}})],1),a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("Masa Berlaku STR")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"date",outlined:"",required:"",square:"",dense:!0},model:{value:t.form.masa_berlaku_str,callback:function(a){t.$set(t.form,"masa_berlaku_str",a)},expression:"form.masa_berlaku_str"}})],1)]),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("No HP")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",required:"",square:"",dense:!0},model:{value:t.form.no_hp,callback:function(a){t.$set(t.form,"no_hp",a)},expression:"form.no_hp"}})],1),a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("Email")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"email",outlined:"",square:"",dense:!0},model:{value:t.form.email,callback:function(a){t.$set(t.form,"email",a)},expression:"form.email"}})],1)]),a("span",{staticClass:"h_lable"},[t._v("Jabatan Fungsional")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",required:"",square:"",dense:!0},model:{value:t.form.jabatan_fungsional,callback:function(a){t.$set(t.form,"jabatan_fungsional",a)},expression:"form.jabatan_fungsional"}}),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-4"},[a("span",{staticClass:"h_lable"},[t._v("Foto Profil (jpg/png)")]),a("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih Foto",accept:"image/*",outlined:"",square:"",dense:"",required:""},model:{value:t.form.foto_profil,callback:function(a){t.$set(t.form,"foto_profil",a)},expression:"form.foto_profil"}})],1),a("div",{staticClass:"col-4"},[a("span",{staticClass:"h_lable"},[t._v("Surat Tugas (pdf)")]),a("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih PDF",accept:".pdf,application/pdf",outlined:"",square:"",dense:"",required:""},model:{value:t.form.surat_tugas,callback:function(a){t.$set(t.form,"surat_tugas",a)},expression:"form.surat_tugas"}})],1),a("div",{staticClass:"col-4"},[a("span",{staticClass:"h_lable"},[t._v("File STR (pdf)")]),a("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih PDF",accept:".pdf,application/pdf",outlined:"",square:"",dense:"",required:""},model:{value:t.form.file_str,callback:function(a){t.$set(t.form,"file_str",a)},expression:"form.file_str"}})],1)]),a("hr",{staticClass:"hrpagin2"}),a("span",{staticClass:"h_lable"},[t._v("Username")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:t.dataku.username,callback:function(a){t.$set(t.dataku,"username",a)},expression:"dataku.username"}}),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("Password")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",dense:!0},model:{value:t.dataku.password,callback:function(a){t.$set(t.dataku,"password",a)},expression:"dataku.password"}})],1),a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("Confirm Password")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",dense:!0},model:{value:t.dataku.confirmPassword,callback:function(a){t.$set(t.dataku,"confirmPassword",a)},expression:"dataku.confirmPassword"}})],1)]),a("hr",{staticClass:"hrpagin2"})],1),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{attrs:{loading:t.btn_add,color:"primary",type:"submit",label:"Simpan"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_edit,callback:function(a){t.mdl_edit=a},expression:"mdl_edit"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"bg-orange text-white"},[a("div",{staticClass:"text-h6 h_modalhead"},[t._v("Edit Data Admin BDRS")])]),a("form",{on:{submit:function(a){return a.preventDefault(),t.editData.apply(null,arguments)}}},[a("q-card-section",{staticClass:"q-pt-none"},[a("hr",{staticClass:"hrpagin2"}),a("span",{staticClass:"h_lable"},[t._v("Nama Lengkap")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:t.form.nama_lengkap,callback:function(a){t.$set(t.form,"nama_lengkap",a)},expression:"form.nama_lengkap"}}),a("span",{staticClass:"h_lable"},[t._v("NIK")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:t.form.nik,callback:function(a){t.$set(t.form,"nik",a)},expression:"form.nik"}}),a("span",{staticClass:"h_lable"},[t._v("No STR")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:t.form.no_str,callback:function(a){t.$set(t.form,"no_str",a)},expression:"form.no_str"}}),a("span",{staticClass:"h_lable"},[t._v("Masa Berlaku STR")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"date",outlined:"",square:"",dense:!0},model:{value:t.form.masa_berlaku_str,callback:function(a){t.$set(t.form,"masa_berlaku_str",a)},expression:"form.masa_berlaku_str"}}),a("span",{staticClass:"h_lable"},[t._v("Jabatan Fungsional")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:t.form.jabatan_fungsional,callback:function(a){t.$set(t.form,"jabatan_fungsional",a)},expression:"form.jabatan_fungsional"}}),a("span",{staticClass:"h_lable"},[t._v("No HP")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:t.form.no_hp,callback:function(a){t.$set(t.form,"no_hp",a)},expression:"form.no_hp"}}),a("span",{staticClass:"h_lable"},[t._v("Email")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"email",outlined:"",square:"",dense:!0},model:{value:t.form.email,callback:function(a){t.$set(t.form,"email",a)},expression:"form.email"}}),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("Foto Profil (biarkan kosong jika tidak ingin ganti)")]),a("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih Foto",accept:"image/*",outlined:"",square:"",dense:"",clearable:!0},model:{value:t.form.foto_profil,callback:function(a){t.$set(t.form,"foto_profil",a)},expression:"form.foto_profil"}}),t.form.foto_profil_url?a("div",{staticClass:"q-mb-md"},[a("img",{staticStyle:{"max-width":"100px","max-height":"100px"},attrs:{src:t.form.foto_profil_url,alt:"Foto Profil"}})]):t._e()],1),a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("Surat Tugas (biarkan kosong jika tidak ingin ganti)")]),a("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih PDF",accept:".pdf,application/pdf",outlined:"",square:"",dense:"",clearable:!0},model:{value:t.form.surat_tugas,callback:function(a){t.$set(t.form,"surat_tugas",a)},expression:"form.surat_tugas"}}),t.form.surat_tugas_url?a("div",{staticClass:"q-mb-md"},[a("a",{attrs:{href:t.form.surat_tugas_url,target:"_blank",rel:"noopener"}},[t._v("Lihat Surat Tugas Saat Ini")])]):t._e()],1)]),a("span",{staticClass:"h_lable"},[t._v("File STR (biarkan kosong jika tidak ingin ganti)")]),a("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih PDF",accept:".pdf,application/pdf",outlined:"",square:"",dense:"",clearable:!0},model:{value:t.form.file_str,callback:function(a){t.$set(t.form,"file_str",a)},expression:"form.file_str"}}),t.form.file_str_url?a("div",{staticClass:"q-mb-md"},[a("a",{attrs:{href:t.form.file_str_url,target:"_blank",rel:"noopener"}},[t._v("Lihat File STR Saat Ini")])]):t._e(),a("hr",{staticClass:"hrpagin2"}),a("span",{staticClass:"h_lable"},[t._v("Username")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0,placeholder:"Masukkan username baru jika ingin ubah"},model:{value:t.dataku.username,callback:function(a){t.$set(t.dataku,"username",a)},expression:"dataku.username"}}),a("hr",{staticClass:"hrpagin2"})],1),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{attrs:{loading:t.btn_edit,color:"warning",type:"submit",label:"Update"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_lihat,callback:function(a){t.mdl_lihat=a},expression:"mdl_lihat"}},[a("q-card",{staticClass:"mdl-md detail-modal",staticStyle:{"box-shadow":"0 8px 32px rgba(0, 0, 0, 0.12)","border-radius":"12px"}},[a("q-card-section",{staticClass:"bg-green text-white q-pa-lg",staticStyle:{"border-radius":"12px 12px 0 0"}},[a("div",{staticClass:"text-h6 h_modalhead flex items-center q-gutter-sm"},[a("q-icon",{attrs:{name:"admin_panel_settings",size:"24px"}}),a("span",[t._v("Detail Admin BDRS")])],1)]),a("q-card-section",{staticClass:"q-pa-xl"},[a("div",{staticClass:"row q-col-gutter-lg"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"text-h6 text-grey-8 q-mb-md q-pa-sm bg-grey-2 rounded",staticStyle:{"border-left":"4px solid #4caf50"}},[t._v(" Data Pribadi ")]),a("div",{staticClass:"q-gutter-y-md"},[a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"person",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Nama Lengkap")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.nama_lengkap||"-")+" ")])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"badge",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("NIK")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.nik||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"verified_user",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("No STR")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.no_str||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"event",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Masa Berlaku STR")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.UMUM.tglConvert(t.lihatData.masa_berlaku_str)||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"work",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Jabatan Fungsional")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.jabatan_fungsional||"-"))])])],1)])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"text-h6 text-grey-8 q-mb-md q-pa-sm bg-grey-2 rounded",staticStyle:{"border-left":"4px solid #4caf50"}},[t._v(" Data Kontak & Dokumen ")]),a("div",{staticClass:"q-gutter-y-md"},[a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"phone",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("No HP")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.no_hp||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"email",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Email")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.email||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"image",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Foto Profil")]),t.lihatData.foto_profil?a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a("img",{staticStyle:{"max-width":"100px","max-height":"100px"},attrs:{src:t.file_path+t.lihatData.foto_profil,alt:"Foto Profil"}})]):a("div",{staticClass:"text-body1 text-grey-6"},[t._v("-")])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"assignment",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Surat Tugas")]),t.lihatData.surat_tugas?a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a("a",{attrs:{href:t.file_path+t.lihatData.surat_tugas,target:"_blank",rel:"noopener"}},[t._v("Lihat Surat Tugas")])]):a("div",{staticClass:"text-body1 text-grey-6"},[t._v("-")])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"picture_as_pdf",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("File STR")]),t.lihatData.file_str?a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a("a",{attrs:{href:t.file_path+t.lihatData.file_str,target:"_blank",rel:"noopener"}},[t._v("Lihat File STR")])]):a("div",{staticClass:"text-body1 text-grey-6"},[t._v("-")])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"account_circle",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Username")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.username||"-"))])])],1)])])])]),a("q-card-actions",{staticClass:"bg-grey-2 text-grey-8 q-pa-lg",staticStyle:{"border-radius":"0 0 12px 12px"},attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Tutup",color:"negative",unelevated:"",size:"md"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_password,callback:function(a){t.mdl_password=a},expression:"mdl_password"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"bg-blue"},[a("div",{staticClass:"text-h6 h_modalhead text-center"},[t._v("Edit Password")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("br"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12 frame_cari"},[a("span",{staticClass:"h_lable"},[t._v("Password")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",dense:!0},model:{value:t.dataku.password,callback:function(a){t.$set(t.dataku,"password",a)},expression:"dataku.password"}})],1),a("div",{staticClass:"col-12 col-md-12 frame_cari"},[a("span",{staticClass:"h_lable"},[t._v("Confirm Password")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",dense:!0},model:{value:t.dataku.confirmPassword,callback:function(a){t.$set(t.dataku,"confirmPassword",a)},expression:"dataku.confirmPassword"}})],1),a("div",{staticClass:"col-12 col-md-12 frame_cari"},[t.errorMessage?a("div",{staticClass:"bg-red text-center",staticStyle:{padding:"2%"}},[a("span",{staticStyle:{color:"white"}},[t._v(t._s(t.errorMessage))])]):t._e()])])]),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Simpan"},on:{click:function(a){return t.editDataPassword()}}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_hapus,callback:function(a){t.mdl_hapus=a},expression:"mdl_hapus"}},[a("q-card",{staticClass:"mdl-sm"},[a("q-card-section",{staticClass:"q-pt-none text-center orageGrad"},[a("form",{on:{submit:function(a){return a.preventDefault(),t.hapusData.apply(null,arguments)}}},[a("br"),a("img",{attrs:{src:"img/alert.png",alt:"",width:"75"}}),t._v(" "),a("br"),a("span",{staticClass:"h_notifikasi"},[t._v("APAKAH ANDA YAKIN INGIN MENGHAPUS DATA INI??")]),a("input",{staticStyle:{position:"absolute",left:"-9999px"},attrs:{type:"submit"}}),a("br"),a("br"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",size:"sm",color:"negative"}}),t._v(" Â  "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{type:"submit",label:"Hapus",size:"sm",color:"primary"}})],1)])],1)],1)],1)},i=[],r=(s("d9e2"),s("7daa")),l=s.n(r),o={data(){return{UMUM:l.a,form:{id:null,users_id:null,nama_lengkap:"",nik:"",no_str:"",masa_berlaku_str:"",jabatan_fungsional:"",no_hp:"",email:"",foto_profil:null,foto_profil_url:"",surat_tugas:null,surat_tugas_url:"",file_str:null,file_str_url:""},mdl_add:!1,mdl_edit:!1,mdl_hapus:!1,btn_add:!1,btn_edit:!1,btn_hapus:!1,file_path:this.$store.state.url.URL_APP+"uploads/",list_data:[],jml_data:0,total_data:0,page_first:1,page_last:0,page_limit:10,cari_value:"",mdl_password:!1,dataku:{users_id:null,username:"",password:"",confirmPassword:""},errorMessage:"",mdl_lihat:!1,lihatData:{id:null,users_id:null,nama_lengkap:"",nik:"",no_str:"",masa_berlaku_str:"",jabatan_fungsional:"",no_hp:"",email:"",foto_profil:"",surat_tugas:"",file_str:"",username:""}}},methods:{getView(){const t={page_limit:this.page_limit,data_ke:(this.page_first-1)*this.page_limit,cari_value:this.cari_value};fetch(this.$store.state.url.REGIS_ADMIN_BDRS+"getview",{method:"POST",headers:{"content-type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{this.list_data=t.data,this.jml_data=t.jml_data,this.total_data=t.total_data,this.page_last=Math.ceil(this.total_data/this.page_limit)}).catch(t=>{console.error("Error fetching data:",t),this.$q.notify({type:"negative",message:"Gagal mengambil data admin_bdrs"})})},async addData(){try{if(this.dataku.password!==this.dataku.confirmPassword)return void this.$q.notify({type:"negative",message:"Password dan konfirmasi password tidak sama!"});if(this.dataku.password.length<6)return void this.$q.notify({type:"negative",message:"Password minimal 6 karakter!"});this.btn_add=!0;const t=new FormData;t.append("nama_lengkap",this.form.nama_lengkap),t.append("nik",this.form.nik),t.append("no_str",this.form.no_str),t.append("masa_berlaku_str",this.form.masa_berlaku_str),t.append("jabatan_fungsional",this.form.jabatan_fungsional),t.append("no_hp",this.form.no_hp),t.append("email",this.form.email),this.form.foto_profil&&t.append("foto_profil",this.form.foto_profil),this.form.surat_tugas&&t.append("surat_tugas",this.form.surat_tugas),this.form.file_str&&t.append("file_str",this.form.file_str),t.append("username",this.dataku.username),t.append("password",this.dataku.password);const a=await fetch(this.$store.state.url.REGIS_ADMIN_BDRS+"addAdminBdrs",{method:"POST",body:t,headers:{authorization:"kikensbatara "+localStorage.token}}),s=await a.json();if(!a.ok||!s.success)throw new Error(s.message||"Terjadi kesalahan saat menambah data");this.$q.notify({type:"positive",message:s.message||"Data admin_bdrs berhasil ditambahkan!"}),this.resetForm(),this.mdl_add=!1,this.getView(),this.$emit("data-added")}catch(t){console.error("Error adding data:",t),this.$q.notify({type:"negative",message:t.message||"Gagal menambah data admin_bdrs!"})}finally{this.btn_add=!1}},resetForm(){this.form={nama_lengkap:"",nik:"",no_str:"",masa_berlaku_str:"",jabatan_fungsional:"",no_hp:"",email:"",foto_profil:null,foto_profil_url:"",surat_tugas:null,surat_tugas_url:"",file_str:null,file_str_url:""},this.dataku={users_id:null,username:"",password:"",confirmPassword:""}},async editData(){this.btn_edit=!0;try{if(!this.form.nama_lengkap||!this.form.nik||!this.form.no_str||!this.form.masa_berlaku_str||!this.form.jabatan_fungsional)throw new Error("Field wajib (Nama, NIK, No STR, Masa Berlaku STR, Jabatan) harus diisi!");if(this.dataku.username&&this.dataku.username.length<6)throw new Error("Username minimal 6 karakter jika diubah!");const t=this.normalizeDate(this.form.masa_berlaku_str),a={id:this.form.id,users_id:this.form.users_id,nama_lengkap:this.form.nama_lengkap,nik:this.form.nik,no_str:this.form.no_str,masa_berlaku_str:t,jabatan_fungsional:this.form.jabatan_fungsional,no_hp:this.form.no_hp,email:this.form.email,username:this.dataku.username||""},s=this.form.foto_profil&&this.form.foto_profil instanceof File,e=this.form.surat_tugas&&this.form.surat_tugas instanceof File,i=this.form.file_str&&this.form.file_str instanceof File;let r,l;if(s||e||i){const t=new FormData;for(const s in a)t.append(s,a[s]||"");s&&t.append("foto_profil",this.form.foto_profil),e&&t.append("surat_tugas",this.form.surat_tugas),i&&t.append("file_str",this.form.file_str),r=await fetch(this.$store.state.url.REGIS_ADMIN_BDRS+"editAdminBdrs",{method:"POST",headers:{authorization:"kikensbatara "+localStorage.token},body:t}),l=await r.json()}else r=await fetch(this.$store.state.url.REGIS_ADMIN_BDRS+"editAdminBdrs",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(a)}),l=await r.json();if(!r.ok||!l.success)throw new Error(l.message||"Gagal mengupdate data");this.$q.notify({type:"positive",message:l.message||"Data berhasil diupdate"}),this.mdl_edit=!1,this.getView()}catch(t){console.error("Error edit data:",t),this.$q.notify({type:"negative",message:t.message||"Terjadi kesalahan saat update data"})}finally{this.btn_edit=!1}},editModal(t){this.form={id:t.id,users_id:t.users_id,nama_lengkap:t.nama_lengkap||"",nik:t.nik||"",no_str:t.no_str||"",masa_berlaku_str:t.masa_berlaku_str||"",jabatan_fungsional:t.jabatan_fungsional||"",no_hp:t.no_hp||"",email:t.email||"",foto_profil:null,foto_profil_url:t.foto_profil?this.file_path+t.foto_profil:"",surat_tugas:null,surat_tugas_url:t.surat_tugas?this.file_path+t.surat_tugas:"",file_str:null,file_str_url:t.file_str?this.file_path+t.file_str:""},this.dataku.username=t.username||"",this.mdl_edit=!0},async hapusData(){this.btn_hapus=!0;try{const t=await fetch(this.$store.state.url.REGIS_ADMIN_BDRS+"removeAdminBdrs",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify({id:this.form.id,users_id:this.form.users_id})}),a=await t.json();this.btn_hapus=!1,t.ok&&a.success?(this.mdl_hapus=!1,this.getView(),this.$q.notify({type:"positive",message:a.message||"Data berhasil dihapus"})):this.$q.notify({type:"negative",message:a.message||"Gagal menghapus data"})}catch(t){this.btn_hapus=!1,this.$q.notify({type:"negative",message:"Terjadi kesalahan saat menghapus data"}),console.error("Error hapus data:",t)}},async editDataPassword(){if(this.errorMessage="",this.dataku.password&&this.dataku.confirmPassword)if(this.dataku.password.length<6)this.errorMessage="Password minimal 6 karakter!";else if(this.dataku.password===this.dataku.confirmPassword)try{const t=await fetch(this.$store.state.url.REGIS_ADMIN_BDRS+"editPasswordAdminBdrs",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify({users_id:this.dataku.users_id,password:this.dataku.password})}),a=await t.json();t.ok&&a.success?(this.$q.notify({type:"positive",message:a.message||"Password berhasil diubah!"}),this.mdl_password=!1,this.dataku.password="",this.dataku.confirmPassword=""):this.errorMessage=a.message||"Gagal mengubah password!"}catch(t){console.error(t),this.errorMessage="Terjadi kesalahan saat mengubah password."}else this.errorMessage="Password dan Confirm Password tidak sama!";else this.errorMessage="Password dan Confirm Password wajib diisi!"},indexing(t){return(this.page_first-1)*this.page_limit+t},selectData(t){this.dataku={users_id:t.users_id,username:t.username||"",password:"",confirmPassword:""},this.errorMessage="",this.form={id:t.id,users_id:t.users_id,nama_lengkap:t.nama_lengkap||"",nik:t.nik||"",no_str:t.no_str||"",masa_berlaku_str:t.masa_berlaku_str||"",jabatan_fungsional:t.jabatan_fungsional||"",no_hp:t.no_hp||"",email:t.email||"",foto_profil:null,foto_profil_url:t.foto_profil?this.file_path+t.foto_profil:"",surat_tugas:null,surat_tugas_url:t.surat_tugas?this.file_path+t.surat_tugas:"",file_str:null,file_str_url:t.file_str?this.file_path+t.file_str:""},this.lihatData={id:t.id||null,users_id:t.users_id||null,nama_lengkap:t.nama_lengkap||"",nik:t.nik||"",no_str:t.no_str||"",masa_berlaku_str:t.masa_berlaku_str||"",jabatan_fungsional:t.jabatan_fungsional||"",no_hp:t.no_hp||"",email:t.email||"",foto_profil:t.foto_profil||"",surat_tugas:t.surat_tugas||"",file_str:t.file_str||"",username:t.username||""}},normalizeDate(t){return t&&""!==t?/^\d{4}-\d{2}-\d{2}$/.test(t)?t:t.includes("T")?t.split("T")[0]:"":""},cari_data(){this.page_first=1,this.getView()}},mounted(){this.getView()}},n=o,d=s("2877"),c=s("fe09"),m=Object(d["a"])(n,e,i,!1,null,null,null);a["default"]=m.exports;m.options.components=Object.assign(Object.create(m.options.components||null),m.options.components||{},{QCard:c["h"],QCardSection:c["j"],QInput:c["w"],QBtn:c["f"],QTooltip:c["O"],QSeparator:c["I"],QItemSection:c["z"],QMenu:c["C"],QList:c["B"],QItem:c["x"],QPagination:c["G"],QDialog:c["l"],QFile:c["r"],QCardActions:c["i"],QIcon:c["u"]}),m.options.directives=Object.assign(Object.create(m.options.directives||null),m.options.directives||{},{ClosePopup:c["a"]})}}]);
//# sourceMappingURL=chunk-2d22937e.31ddb7f4.js.map