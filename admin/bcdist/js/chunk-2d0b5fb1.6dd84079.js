(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5fb1"],{"1ae0":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"about",staticStyle:{padding:"15px"}},[a("q-card",{staticClass:"my-card",attrs:{bordered:""}},[a("q-card-section",{staticClass:"main2 text-white"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"text-h6 h_titleHead"},[t._v("Registrasi Tenaga Medis (Ruangan)")])]),a("div",{staticClass:"col-12 col-md-2"}),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"row"},[a("q-input",{staticClass:"bg-white",staticStyle:{width:"90%"},attrs:{outlined:"",square:"",dense:!0},on:{keyup:function(a){return t.cari_data()}},model:{value:t.cari_value,callback:function(a){t.cari_value=a},expression:"cari_value"}}),a("q-btn",{staticClass:"main4",staticStyle:{width:"10%"},attrs:{glossy:"",dense:"",flat:"",icon:"add"},on:{click:function(a){t.mdl_add=!0}}},[a("q-tooltip",{attrs:{"content-class":"green-6","content-style":"font-size: 13px"}},[t._v(" Click untuk menambah data ")])],1)],1)])])]),a("q-separator",{attrs:{dark:"",inset:""}}),a("q-card-section",[a("hr",{staticClass:"hrpagin2"}),a("div",{staticClass:"tbl_responsive"},[a("table",{attrs:{width:"100%"}},[a("thead",{staticClass:"h_table_head main2x text-white"},[a("tr",[a("th",{staticClass:"text-center",attrs:{width:"5%"}},[t._v("No")]),a("th",{attrs:{width:"40%"}},[t._v("Nama Ruangan")]),a("th",{attrs:{width:"40%"}},[t._v("Nama Penanggung Jawab")]),a("th",{attrs:{width:"10%"}},[t._v("username")]),a("th",{attrs:{width:"5%"}},[t._v("Aksi")])])]),a("tbody",t._l(t.list_data,(function(s,e){return a("tr",{key:s.id+"-"+e},[a("td",{staticClass:"text-center"},[t._v(t._s(t.indexing(e+1)))]),a("td",[t._v(t._s(s.nama_ruangan))]),a("td",[t._v(t._s(s.nama_pj))]),a("td",[t._v(t._s(s.username))]),a("td",{staticClass:"text-center"},[a("q-item-section",[a("div",{staticClass:"text-white q-gutter-xs text-center"},[a("q-btn",{staticClass:"main4",attrs:{size:"12px",dense:"",glossy:"",round:"",icon:"settings"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){t.mdl_lihat=!0,t.selectData(s)}}},[a("q-item-section",[t._v("Lihat Detail")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){t.mdl_password=!0,t.selectData(s)}}},[a("q-item-section",[t._v("Edit Password")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.editModal(s)}}},[a("q-item-section",[t._v("Edit")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){t.mdl_hapus=!0,t.selectData(s)}}},[a("q-item-section",[t._v("Hapus")])],1),a("q-separator")],1)],1)],1)],1)])],1)])})),0)])]),a("div",{staticClass:"flex flex-center q-mt-md"},[a("q-pagination",{attrs:{max:t.page_last,color:"grey-6","max-pages":4,"direction-links":!0,"boundary-links":!0},on:{"update:model-value":function(a){return t.getView()}},model:{value:t.page_first,callback:function(a){t.page_first=a},expression:"page_first"}})],1)])],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_add,callback:function(a){t.mdl_add=a},expression:"mdl_add"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"main2 text-white"},[a("div",{staticClass:"text-h6 h_modalhead"},[t._v("Registrasi Ruangan")])]),a("form",{on:{submit:function(a){return a.preventDefault(),t.addData()}}},[a("q-card-section",{staticClass:"q-pt-none"},[a("hr",{staticClass:"hrpagin2"}),a("span",{staticClass:"h_lable"},[t._v("Nama Ruangan")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",required:"",dense:!0},model:{value:t.form.nama_ruangan,callback:function(a){t.$set(t.form,"nama_ruangan",a)},expression:"form.nama_ruangan"}}),a("span",{staticClass:"h_lable"},[t._v("Nama PJ (Penanggung Jawab Ruangan)")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",required:"",dense:!0},model:{value:t.form.nama_pj,callback:function(a){t.$set(t.form,"nama_pj",a)},expression:"form.nama_pj"}}),a("hr",{staticClass:"hrpagin2"}),a("span",{staticClass:"h_lable"},[t._v("Username")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",required:"",dense:!0},model:{value:t.dataku.username,callback:function(a){t.$set(t.dataku,"username",a)},expression:"dataku.username"}}),a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("Password")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",required:"",dense:!0},model:{value:t.dataku.password,callback:function(a){t.$set(t.dataku,"password",a)},expression:"dataku.password"}})],1),a("div",{staticClass:"col-6"},[a("span",{staticClass:"h_lable"},[t._v("Confirm Password")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",required:"",dense:!0},model:{value:t.dataku.confirmPassword,callback:function(a){t.$set(t.dataku,"confirmPassword",a)},expression:"dataku.confirmPassword"}})],1)]),a("hr",{staticClass:"hrpagin2"})],1),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{attrs:{loading:t.btn_add,color:"primary",type:"submit",label:"Simpan"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"},on:{click:function(a){return t.resetForm()}}})],1)],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_edit,callback:function(a){t.mdl_edit=a},expression:"mdl_edit"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"bg-orange text-white"},[a("div",{staticClass:"text-h6 h_modalhead"},[t._v("Edit Ruangan")])]),a("form",{on:{submit:function(a){return a.preventDefault(),t.editData.apply(null,arguments)}}},[a("q-card-section",{staticClass:"q-pt-none"},[a("hr",{staticClass:"hrpagin2"}),a("span",{staticClass:"h_lable"},[t._v("Nama Ruangan")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",required:"",dense:!0},model:{value:t.form.nama_ruangan,callback:function(a){t.$set(t.form,"nama_ruangan",a)},expression:"form.nama_ruangan"}}),a("span",{staticClass:"h_lable"},[t._v("Nama PJ (Penanggung Jawab Ruangan)")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",required:"",dense:!0},model:{value:t.form.nama_pj,callback:function(a){t.$set(t.form,"nama_pj",a)},expression:"form.nama_pj"}}),a("hr",{staticClass:"hrpagin2"}),a("span",{staticClass:"h_lable"},[t._v("Username")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:t.dataku.username,callback:function(a){t.$set(t.dataku,"username",a)},expression:"dataku.username"}}),t.errorMessage?a("div",{staticClass:"q-mt-md bg-red text-white q-pa-sm"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e()],1),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{attrs:{loading:t.btn_edit,color:"warning",type:"submit",label:"Update"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"},on:{click:function(a){return t.resetForm()}}})],1)],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_lihat,callback:function(a){t.mdl_lihat=a},expression:"mdl_lihat"}},[a("q-card",{staticClass:"mdl-md detail-modal",staticStyle:{"box-shadow":"0 8px 32px rgba(0, 0, 0, 0.12)","border-radius":"12px"}},[a("q-card-section",{staticClass:"bg-green text-white q-pa-lg",staticStyle:{"border-radius":"12px 12px 0 0"}},[a("div",{staticClass:"text-h6 h_modalhead flex items-center q-gutter-sm"},[a("q-icon",{attrs:{name:"medical_services",size:"24px"}}),a("span",[t._v("Detail Tenaga Medis")])],1)]),a("q-card-section",{staticClass:"q-pa-xl"},[a("div",{staticClass:"row q-col-gutter-lg"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"text-h6 text-grey-8 q-mb-md q-pa-sm bg-grey-2 rounded",staticStyle:{"border-left":"4px solid #4caf50"}},[t._v(" Data Profesi ")]),a("div",{staticClass:"q-gutter-y-md"},[a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"person",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Nama Lengkap")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.nama_lengkap||"-")+" ")])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"badge",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("NIP")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.nip||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"assignment_ind",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Nomor SIP (Surat Izin Praktik)")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.nomor_induk_profesi||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"work",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Jabatan Fungsional")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.jabatan_fungsional||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"verified_user",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("No STR")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.no_str||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"event",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Masa Berlaku STR")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.UMUM.tglConvert(t.lihatData.masa_berlaku_str)||"-"))])])],1)])]),a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"text-h6 text-grey-8 q-mb-md q-pa-sm bg-grey-2 rounded",staticStyle:{"border-left":"4px solid #4caf50"}},[t._v(" Data Kontak ")]),a("div",{staticClass:"q-gutter-y-md"},[a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"email",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Email Aktif")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.email||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"phone",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("No HP Aktif")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.no_hp||"-"))])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"business",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Tempat Kerja")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.tempat_kerja||"-")+" ")])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"location_on",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Alamat Praktik")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.alamat_praktik||"-")+" ")])])],1),a("div",{staticClass:"row items-start q-gutter-sm detail-field"},[a("q-icon",{staticClass:"q-mt-xs",attrs:{name:"account_circle",size:"16px",color:"grey-6"}}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[t._v("Username")]),a("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[t._v(t._s(t.lihatData.username||"-"))])])],1)])]),a("div",{staticClass:"col-12 q-mt-xl"},[a("q-separator",{staticClass:"q-mb-md"}),t.lihatData.file_str?a("q-banner",{staticClass:"bg-green-1 text-primary",staticStyle:{"border-left":"4px solid #4caf50","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.08)"},attrs:{dense:"",rounded:""},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"picture_as_pdf",size:"20px",color:"positive"}})]},proxy:!0},{key:"action",fn:function(){return[a("q-btn",{attrs:{color:"primary",label:"Lihat Dokumen",flat:"",dense:"",unelevated:"",size:"sm"},on:{click:function(a){return t.openFileSTR()}}})]},proxy:!0}],null,!1,2381372705)},[a("div",[a("span",{staticClass:"text-weight-bold text-body2"},[t._v("Dokumen File STR Tersedia")]),a("div",{staticClass:"text-caption q-mt-xs"},[t._v("Klik tombol di samping untuk membuka dokumen PDF di tab baru.")])])]):a("div",{staticClass:"text-center q-pa-lg bg-grey-1 rounded",staticStyle:{"border-left":"4px solid #9e9e9e"}},[a("q-icon",{attrs:{name:"picture_as_pdf_off",size:"32px",color:"grey-5"}}),a("div",{staticClass:"text-h6 text-grey-6 q-mt-sm"},[t._v("Tidak Ada File STR")]),a("div",{staticClass:"text-caption text-grey-7"},[t._v("Dokumen belum diunggah.")])],1)],1)])]),a("q-card-actions",{staticClass:"bg-grey-2 text-grey-8 q-pa-lg",staticStyle:{"border-radius":"0 0 12px 12px"},attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Tutup",color:"negative",unelevated:"",size:"md"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_password,callback:function(a){t.mdl_password=a},expression:"mdl_password"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"bg-blue"},[a("div",{staticClass:"text-h6 h_modalhead text-center"},[t._v("Edit Password")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("br"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-12 frame_cari"},[a("span",{staticClass:"h_lable"},[t._v("Password")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",dense:!0},model:{value:t.dataku.password,callback:function(a){t.$set(t.dataku,"password",a)},expression:"dataku.password"}})],1),a("div",{staticClass:"col-12 col-md-12 frame_cari"},[a("span",{staticClass:"h_lable"},[t._v("Confirm Password")]),a("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",dense:!0},model:{value:t.dataku.confirmPassword,callback:function(a){t.$set(t.dataku,"confirmPassword",a)},expression:"dataku.confirmPassword"}})],1),a("div",{staticClass:"col-12 col-md-12 frame_cari"},[t.errorMessage?a("div",{staticClass:"bg-red text-center",staticStyle:{padding:"2%"}},[a("span",{staticStyle:{color:"white"}},[t._v(t._s(t.errorMessage))])]):t._e()])])]),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Simpan"},on:{click:function(a){return t.editDataPassword()}}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_hapus,callback:function(a){t.mdl_hapus=a},expression:"mdl_hapus"}},[a("q-card",{staticClass:"mdl-sm"},[a("q-card-section",{staticClass:"q-pt-none text-center orageGrad"},[a("form",{on:{submit:function(a){return a.preventDefault(),t.hapusData.apply(null,arguments)}}},[a("br"),a("img",{attrs:{src:"img/alert.png",alt:"",width:"75"}}),t._v(" "),a("br"),a("span",{staticClass:"h_notifikasi"},[t._v("APAKAH ANDA YAKIN INGIN MENGHAPUS DATA INI??")]),a("input",{staticStyle:{position:"absolute",left:"-9999px"},attrs:{type:"submit"}}),a("br"),a("br"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",size:"sm",color:"negative"}}),t._v(" Â  "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{type:"submit",label:"Hapus",size:"sm",color:"primary"}})],1)])],1)],1)],1)},i=[],r=(s("d9e2"),s("7daa")),n=s.n(r),o={data(){return{UMUM:n.a,form:{id:null,nama_ruangan:"",nama_pj:""},mdl_add:!1,mdl_edit:!1,mdl_hapus:!1,btn_add:!1,btn_edit:!1,file_path:this.$store.state.url.URL_APP+"uploads/",list_data:[],jml_data:0,total_data:0,page_first:1,page_last:0,page_limit:10,cari_value:"",mdl_password:!1,dataku:{username:"",password:"",confirmPassword:""},errorMessage:"",mdl_lihat:!1,lihatData:{nama_lengkap:"",nip:"",nomor_induk_profesi:"",jabatan_fungsional:"",no_str:"",masa_berlaku_str:"",file_str:"",email:"",no_hp:"",tempat_kerja:"",alamat_praktik:"",username:""}}},methods:{getView(){const t={page_limit:this.page_limit,data_ke:(this.page_first-1)*this.page_limit,cari_value:this.cari_value};fetch(this.$store.state.url.REGIS_MEDIS+"getview",{method:"POST",headers:{"content-type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>{this.list_data=t.data,this.jml_data=t.jml_data,this.total_data=t.total_data,this.page_last=Math.ceil(this.total_data/this.page_limit)}).catch(t=>{console.error("Error fetching data:",t),this.$q.notify({type:"negative",message:"Gagal mengambil data tenaga medis"})})},async addData(){try{if(!this.form.nama_ruangan||!this.form.nama_pj||!this.dataku.username||!this.dataku.password||!this.dataku.confirmPassword)return void this.$q.notify({type:"negative",message:"Semua field wajib diisi!"});if(this.dataku.password!==this.dataku.confirmPassword)return void this.$q.notify({type:"negative",message:"Password dan konfirmasi tidak sama!"});if(this.dataku.password.length<6)return void this.$q.notify({type:"negative",message:"Password minimal 6 karakter!"});if(this.dataku.username.length<4)return void this.$q.notify({type:"negative",message:"Username minimal 4 karakter!"});this.btn_add=!0;const t={nama_ruangan:this.form.nama_ruangan,nama_pj:this.form.nama_pj,username:this.dataku.username,password:this.dataku.password},a=await fetch(this.$store.state.url.REGIS_MEDIS+"addTenagaMedis",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(t)}),s=await a.json();if(!a.ok||!s.success)throw new Error(s.message||"Gagal registrasi");this.$q.notify({type:"positive",message:s.message||"Registrasi berhasil!"}),this.resetForm(),this.mdl_add=!1,this.getView(),this.$emit("data-added")}catch(t){console.error("Error adding data:",t),this.$q.notify({type:"negative",message:t.message||"Gagal menambah data!"})}finally{this.btn_add=!1}},resetForm(){this.form={id:null,nama_ruangan:"",nama_pj:""},this.dataku={username:"",password:"",confirmPassword:""},this.errorMessage=""},async editData(){this.errorMessage="",this.btn_edit=!0;try{if(!this.form.nama_ruangan||!this.form.nama_pj)throw new Error("Nama Ruangan dan Nama PJ wajib diisi!");if(this.dataku.username&&this.dataku.username.length<4)throw new Error("Username minimal 4 karakter!");let t=!1;if(this.dataku.password||this.dataku.confirmPassword){if(t=!0,this.dataku.password.length<6)throw new Error("Password minimal 6 karakter!");if(this.dataku.password!==this.dataku.confirmPassword)throw new Error("Password dan konfirmasi tidak sama!")}const a={id:this.form.id||"",users_id:this.dataku.users_id||"",nama_ruangan:this.form.nama_ruangan,nama_pj:this.form.nama_pj,username:this.dataku.username||""};t&&(a.password=this.dataku.password);const s=await fetch(this.$store.state.url.REGIS_MEDIS+"EditTenagaMedis",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(a)}),e=await s.json();if(!s.ok||!e.success)throw new Error(e.message||"Gagal mengupdate data!");this.$q.notify({type:"positive",message:e.message||"Data berhasil diupdate!"}),this.mdl_edit=!1,this.resetForm(),this.getView()}catch(t){console.error("Error editData:",t),this.errorMessage=t.message||"Terjadi kesalahan saat update",this.$q.notify({type:"negative",message:this.errorMessage})}finally{this.btn_edit=!1}},editModal(t){this.form={id:t.id||null,nama_ruangan:t.nama_ruangan||"",nama_pj:t.nama_pj||""},this.dataku={users_id:t.users_id||null,username:t.username||"",password:"",confirmPassword:""},this.errorMessage="",this.mdl_edit=!0},async hapusData(){this.btn_hapus=!0;try{const t=await fetch(this.$store.state.url.REGIS_MEDIS+"removeTenagaMedis",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify({id:this.form.id,users_id:this.form.users_id})}),a=await t.json();this.btn_hapus=!1,t.ok&&a.success?(this.mdl_hapus=!1,this.getView(),this.$q.notify({type:"positive",message:a.message||"Data berhasil dihapus"})):this.$q.notify({type:"negative",message:a.message||"Gagal menghapus data"})}catch(t){this.btn_hapus=!1,this.$q.notify({type:"negative",message:"Terjadi kesalahan saat menghapus data"}),console.error("Error hapus data:",t)}},async editDataPassword(){if(this.errorMessage="",this.dataku.password&&this.dataku.confirmPassword)if(this.dataku.password.length<6)this.errorMessage="Password minimal 6 karakter!";else if(this.dataku.password===this.dataku.confirmPassword)try{const t=await fetch(this.$store.state.url.REGIS_MEDIS+"editPassword",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify({users_id:this.dataku.users_id,password:this.dataku.password})}),a=await t.json();t.ok&&a.success?(this.$q.notify({type:"positive",message:a.message||"Password berhasil diubah!"}),this.mdl_password=!1,this.dataku.password="",this.dataku.confirmPassword=""):this.errorMessage=a.message||"Gagal mengubah password!"}catch(t){console.error(t),this.errorMessage="Terjadi kesalahan saat mengubah password."}else this.errorMessage="Password dan Confirm Password tidak sama!";else this.errorMessage="Password dan Confirm Password wajib diisi!"},async editDataPassword(){if(this.errorMessage="",this.dataku.password&&this.dataku.confirmPassword)if(this.dataku.password===this.dataku.confirmPassword)try{const t=await fetch(this.$store.state.url.REGIS_MEDIS+"editPasswordTenagaMedis",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify({users_id:this.dataku.users_id,password:this.dataku.password})}),a=await t.json();a.success?(this.$q.notify({type:"positive",message:"Password berhasil diubah!"}),this.mdl_password=!1):this.errorMessage=a.message||"Gagal mengubah password!"}catch(t){console.error(t),this.errorMessage="Terjadi kesalahan saat mengubah password."}else this.errorMessage="Password dan Confirm Password tidak sama!";else this.errorMessage="Password dan Confirm Password wajib diisi!"},indexing(t){return(this.page_first-1)*this.page_limit+t},selectData(t){this.dataku={users_id:t.users_id,password:"",confirmPassword:""},this.errorMessage="",this.form={...t,users_id:t.users_id,id:t.id},this.lihatData={nama_lengkap:t.nama_lengkap||"",nip:t.nip||"",nomor_induk_profesi:t.nomor_induk_profesi||"",jabatan_fungsional:t.jabatan_fungsional||"",no_str:t.no_str||"",masa_berlaku_str:t.masa_berlaku_str||"",file_str:t.file_str||"",email:t.email||"",no_hp:t.no_hp||"",tempat_kerja:t.tempat_kerja||"",alamat_praktik:t.alamat_praktik||"",username:t.username||"",users_id:t.users_id||"",id:t.id||""}},openFileSTR(){if(this.lihatData.file_str){const t=this.file_path+this.lihatData.file_str;window.open(t,"_blank")}else this.$q.notify({type:"negative",message:"File STR tidak tersedia"})},normalizeDate(t){return t&&""!==t?/^\d{4}-\d{2}-\d{2}$/.test(t)?t:t.includes("T")?t.split("T")[0]:"":""},cari_data(){this.page_first=1,this.getView()}},mounted(){this.getView()}},l=o,d=s("2877"),c=s("fe09"),m=Object(d["a"])(l,e,i,!1,null,null,null);a["default"]=m.exports;m.options.components=Object.assign(Object.create(m.options.components||null),m.options.components||{},{QCard:c["h"],QCardSection:c["j"],QInput:c["w"],QBtn:c["f"],QTooltip:c["O"],QSeparator:c["I"],QItemSection:c["z"],QMenu:c["C"],QList:c["B"],QItem:c["x"],QPagination:c["G"],QDialog:c["l"],QCardActions:c["i"],QIcon:c["u"],QBanner:c["d"]}),m.options.directives=Object.assign(Object.create(m.options.directives||null),m.options.directives||{},{ClosePopup:c["a"]})}}]);
//# sourceMappingURL=chunk-2d0b5fb1.6dd84079.js.map