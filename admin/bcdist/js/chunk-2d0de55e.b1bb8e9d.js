(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de55e"],{"84e1":function(a,t,s){"use strict";s.r(t);var e=function(){var a=this,t=a._self._c;return t("div",{staticClass:"about",staticStyle:{padding:"15px"}},[t("q-card",{staticClass:"my-card",attrs:{bordered:""}},[t("q-card-section",{staticClass:"main2 text-white"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-md-6"},[t("div",{staticClass:"text-h6 h_titleHead"},[a._v("Registrasi Masyarakat")])]),t("div",{staticClass:"col-12 col-md-2"}),t("div",{staticClass:"col-12 col-md-4"},[t("div",{staticClass:"row"},[t("q-input",{staticClass:"bg-white",staticStyle:{width:"90%"},attrs:{outlined:"",square:"",dense:!0},on:{keyup:function(t){return a.cari_data()}},model:{value:a.cari_value,callback:function(t){a.cari_value=t},expression:"cari_value"}}),t("q-btn",{staticClass:"main1x",staticStyle:{width:"10%"},attrs:{glossy:"",dense:"",flat:"",icon:"add"},on:{click:function(t){a.mdl_add=!0}}},[t("q-tooltip",{attrs:{"content-class":"bg-blue-9","content-style":"font-size: 13px"}},[a._v(" Click untuk menambah data ")])],1)],1)])])]),t("q-separator",{attrs:{dark:"",inset:""}}),t("q-card-section",[t("hr",{staticClass:"hrpagin2"}),t("div",{staticClass:"tbl_responsive"},[t("table",{attrs:{width:"100%"}},[t("thead",{staticClass:"h_table_head main2x text-white"},[t("tr",[t("th",{staticClass:"text-center",attrs:{width:"5%"}},[a._v("No")]),t("th",{attrs:{width:"20%"}},[a._v("Nama Lengkap")]),t("th",{attrs:{width:"15%"}},[a._v("NIK")]),t("th",{attrs:{width:"15%"}},[a._v("TTL")]),t("th",{attrs:{width:"15%"}},[a._v("No HP")]),t("th",{attrs:{width:"10%"}},[a._v("Jenis Kelamin")]),t("th",{attrs:{width:"10%"}},[a._v("Username")]),t("th",{staticClass:"text-center",attrs:{width:"10%"}},[a._v("Aksi")])])]),t("tbody",a._l(a.list_data,(function(s,e){return t("tr",{key:s.id+"-"+e},[t("td",{staticClass:"text-center"},[a._v(a._s(a.indexing(e+1)))]),t("td",[a._v(a._s(s.nama_lengkap))]),t("td",[a._v(a._s(s.nik))]),t("td",[a._v(a._s(a.UMUM.tglConvert(s.tanggal_lahir)))]),t("td",[a._v(a._s(s.no_hp))]),t("td",[a._v(a._s(s.jenis_kelamin))]),t("td",[a._v(a._s(s.username))]),t("td",{staticClass:"text-center"},[t("q-item-section",[t("div",{staticClass:"text-white q-gutter-xs text-center"},[t("q-btn",{staticClass:"main1x",attrs:{size:"12px",dense:"",glossy:"",round:"",icon:"settings"}},[t("q-menu",[t("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){a.mdl_lihat=!0,a.selectData(s)}}},[t("q-item-section",[a._v("Lihat Detail")])],1),t("q-separator"),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){a.mdl_password=!0,a.selectData(s)}}},[t("q-item-section",[a._v("Edit Password")])],1),t("q-separator"),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return a.editModal(s)}}},[t("q-item-section",[a._v("Edit")])],1),t("q-separator"),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){a.mdl_hapus=!0,a.selectData(s)}}},[t("q-item-section",[a._v("Hapus")])],1),t("q-separator")],1)],1)],1)],1)])],1)])})),0)])]),t("div",{staticClass:"flex flex-center q-mt-md"},[t("q-pagination",{attrs:{max:a.page_last,color:"grey-6","max-pages":4,"direction-links":!0,"boundary-links":!0},on:{"update:model-value":function(t){return a.getView()}},model:{value:a.page_first,callback:function(t){a.page_first=t},expression:"page_first"}})],1)])],1),t("q-dialog",{attrs:{persistent:""},model:{value:a.mdl_add,callback:function(t){a.mdl_add=t},expression:"mdl_add"}},[t("q-card",{staticClass:"mdl-md"},[t("q-card-section",{staticClass:"main2 text-white"},[t("div",{staticClass:"text-h6 h_modalhead"},[a._v("Tambah Masyarakat")])]),t("form",{on:{submit:function(t){return t.preventDefault(),a.addData()}}},[t("q-card-section",{staticClass:"q-pt-none"},[t("hr",{staticClass:"hrpagin2"}),t("span",{staticClass:"h_lable"},[a._v("Nama Lengkap")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",required:"",dense:!0},model:{value:a.form.nama_lengkap,callback:function(t){a.$set(a.form,"nama_lengkap",t)},expression:"form.nama_lengkap"}}),t("span",{staticClass:"h_lable"},[a._v("NIK / Nomor Identitas (Opsional, disarankan)")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:a.form.nik,callback:function(t){a.$set(a.form,"nik",t)},expression:"form.nik"}}),t("div",{staticClass:"row q-col-gutter-md"},[t("div",{staticClass:"col-6"},[t("span",{staticClass:"h_lable"},[a._v("Tanggal Lahir")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"date",outlined:"",required:"",square:"",dense:!0},model:{value:a.form.tanggal_lahir,callback:function(t){a.$set(a.form,"tanggal_lahir",t)},expression:"form.tanggal_lahir"}})],1),t("div",{staticClass:"col-6"},[t("span",{staticClass:"h_lable"},[a._v("Jenis Kelamin")]),t("q-select",{staticClass:"bg-white margin_btn",attrs:{options:[{label:"Laki-laki",value:"L"},{label:"Perempuan",value:"P"}],outlined:"","emit-value":"","map-options":"",required:"",square:"",dense:!0},model:{value:a.form.jenis_kelamin,callback:function(t){a.$set(a.form,"jenis_kelamin",t)},expression:"form.jenis_kelamin"}})],1)]),t("div",{staticClass:"row q-col-gutter-md"},[t("div",{staticClass:"col-6"},[t("span",{staticClass:"h_lable"},[a._v("Email (Opsional, disarankan)")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"email",outlined:"",square:"",dense:!0},model:{value:a.form.email,callback:function(t){a.$set(a.form,"email",t)},expression:"form.email"}})],1),t("div",{staticClass:"col-6"},[t("span",{staticClass:"h_lable"},[a._v("No HP (Wajib, verifikasi OTP disarankan)")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"tel",outlined:"",square:"",required:"",dense:!0},model:{value:a.form.no_hp,callback:function(t){a.$set(a.form,"no_hp",t)},expression:"form.no_hp"}})],1)]),t("div",{staticClass:"row q-col-gutter-md margin_btn"},[t("div",{staticClass:"col-4"},[t("span",{staticClass:"h_lable"},[a._v("Kabupaten (Opsional)")]),t("q-select",{attrs:{options:a.kabupatenOptions,outlined:"",square:"",dense:"","emit-value":"","map-options":""},model:{value:a.form.kabupaten_id,callback:function(t){a.$set(a.form,"kabupaten_id",t)},expression:"form.kabupaten_id"}})],1),t("div",{staticClass:"col-4"},[t("span",{staticClass:"h_lable"},[a._v("Kecamatan (Opsional)")]),t("q-select",{attrs:{options:a.kecamatanOptions,outlined:"",square:"",dense:"","emit-value":"","map-options":"",disable:!a.form.kabupaten_id},model:{value:a.form.kecamatan_id,callback:function(t){a.$set(a.form,"kecamatan_id",t)},expression:"form.kecamatan_id"}})],1),t("div",{staticClass:"col-4"},[t("span",{staticClass:"h_lable"},[a._v("Desa/Kelurahan (Opsional)")]),t("q-select",{attrs:{options:a.deskelOptions,outlined:"",square:"",dense:"","emit-value":"","map-options":"",disable:!a.form.kecamatan_id},model:{value:a.form.des_kel_id,callback:function(t){a.$set(a.form,"des_kel_id",t)},expression:"form.des_kel_id"}})],1)]),t("span",{staticClass:"h_lable"},[a._v("Alamat (Opsional sesuai RS)")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"textarea",outlined:"",square:"",dense:!0},model:{value:a.form.alamat,callback:function(t){a.$set(a.form,"alamat",t)},expression:"form.alamat"}}),t("span",{staticClass:"h_lable"},[a._v("Foto Profil (Opsional)")]),t("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih Foto",accept:"image/*",outlined:"",square:"",dense:""},model:{value:a.form.foto_profil,callback:function(t){a.$set(a.form,"foto_profil",t)},expression:"form.foto_profil"}}),t("hr",{staticClass:"hrpagin2"}),t("span",{staticClass:"h_lable"},[a._v("Username")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:a.dataku.username,callback:function(t){a.$set(a.dataku,"username",t)},expression:"dataku.username"}}),t("span",{staticClass:"h_lable"},[a._v("Password")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",dense:!0},model:{value:a.dataku.password,callback:function(t){a.$set(a.dataku,"password",t)},expression:"dataku.password"}}),t("span",{staticClass:"h_lable"},[a._v("Confirm Password")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"password",outlined:"",square:"",dense:!0},model:{value:a.dataku.confirmPassword,callback:function(t){a.$set(a.dataku,"confirmPassword",t)},expression:"dataku.confirmPassword"}}),t("hr",{staticClass:"hrpagin2"})],1),t("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[t("q-btn",{attrs:{loading:a.btn_add,color:"primary",type:"submit",label:"Simpan"}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1)],1),t("q-dialog",{attrs:{persistent:""},model:{value:a.mdl_edit,callback:function(t){a.mdl_edit=t},expression:"mdl_edit"}},[t("q-card",{staticClass:"mdl-md"},[t("q-card-section",{staticClass:"bg-orange text-white"},[t("div",{staticClass:"text-h6 h_modalhead"},[a._v("Edit Masyarakat")])]),t("form",{on:{submit:function(t){return t.preventDefault(),a.updateData()}}},[t("q-card-section",{staticClass:"q-pt-none"},[t("hr",{staticClass:"hrpagin2"}),t("span",{staticClass:"h_lable"},[a._v("Nama Lengkap")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0,required:""},model:{value:a.form.nama_lengkap,callback:function(t){a.$set(a.form,"nama_lengkap",t)},expression:"form.nama_lengkap"}}),t("span",{staticClass:"h_lable"},[a._v("NIK / Nomor Identitas (Opsional)")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0},model:{value:a.form.nik,callback:function(t){a.$set(a.form,"nik",t)},expression:"form.nik"}}),t("div",{staticClass:"row q-col-gutter-md"},[t("div",{staticClass:"col-6"},[t("span",{staticClass:"h_lable"},[a._v("Tanggal Lahir")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"date",outlined:"",square:"",dense:!0},model:{value:a.form.tanggal_lahir,callback:function(t){a.$set(a.form,"tanggal_lahir",t)},expression:"form.tanggal_lahir"}})],1),t("div",{staticClass:"col-6"},[t("span",{staticClass:"h_lable"},[a._v("Jenis Kelamin")]),t("q-select",{staticClass:"bg-white margin_btn",attrs:{options:[{label:"Laki-laki",value:"L"},{label:"Perempuan",value:"P"}],outlined:"",square:"",dense:!0,required:""},model:{value:a.form.jenis_kelamin,callback:function(t){a.$set(a.form,"jenis_kelamin",t)},expression:"form.jenis_kelamin"}})],1)]),t("div",{staticClass:"row q-col-gutter-md"},[t("div",{staticClass:"col-6"},[t("span",{staticClass:"h_lable"},[a._v("Email (Opsional)")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"email",outlined:"",square:"",dense:!0},model:{value:a.form.email,callback:function(t){a.$set(a.form,"email",t)},expression:"form.email"}})],1),t("div",{staticClass:"col-6"},[t("span",{staticClass:"h_lable"},[a._v("No HP")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"tel",outlined:"",square:"",dense:!0,required:""},model:{value:a.form.no_hp,callback:function(t){a.$set(a.form,"no_hp",t)},expression:"form.no_hp"}})],1)]),t("div",{staticClass:"row q-col-gutter-md"},[t("div",{staticClass:"col-4"},[t("span",{staticClass:"h_lable"},[a._v("Kabupaten (Opsional)")]),t("q-select",{staticClass:"bg-white margin_btn",attrs:{options:a.kabupatenOptions,outlined:"",square:"",dense:!0,"emit-value":"","map-options":""},model:{value:a.form.kabupaten_id,callback:function(t){a.$set(a.form,"kabupaten_id",t)},expression:"form.kabupaten_id"}})],1),t("div",{staticClass:"col-4"},[t("span",{staticClass:"h_lable"},[a._v("Kecamatan (Opsional)")]),t("q-select",{staticClass:"bg-white margin_btn",attrs:{options:a.kecamatanOptions,outlined:"",square:"",dense:!0,"emit-value":"","map-options":""},model:{value:a.form.kecamatan_id,callback:function(t){a.$set(a.form,"kecamatan_id",t)},expression:"form.kecamatan_id"}})],1),t("div",{staticClass:"col-4"},[t("span",{staticClass:"h_lable"},[a._v("Desa/Kelurahan (Opsional)")]),t("q-select",{staticClass:"bg-white margin_btn",attrs:{options:a.deskelOptions,outlined:"",square:"",dense:!0,"emit-value":"","map-options":""},model:{value:a.form.des_kel_id,callback:function(t){a.$set(a.form,"des_kel_id",t)},expression:"form.des_kel_id"}})],1)]),t("span",{staticClass:"h_lable"},[a._v("Alamat (Opsional)")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:"textarea",outlined:"",square:"",dense:!0},model:{value:a.form.alamat,callback:function(t){a.$set(a.form,"alamat",t)},expression:"form.alamat"}}),t("span",{staticClass:"h_lable"},[a._v("Foto Profil (Opsional)")]),t("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih Foto",accept:"image/*",outlined:"",square:"",dense:"",clearable:!0},model:{value:a.form.foto_profil,callback:function(t){a.$set(a.form,"foto_profil",t)},expression:"form.foto_profil"}}),a.form.foto_profil_url?t("div",{staticClass:"q-mb-md"},[t("img",{staticStyle:{"max-width":"150px","max-height":"150px"},attrs:{src:a.form.foto_profil_url,alt:"Foto Profil"}})]):a._e(),t("hr",{staticClass:"hrpagin2"}),t("span",{staticClass:"h_lable"},[a._v("Username")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:!0,placeholder:"Masukkan username baru jika ingin ubah"},model:{value:a.dataku.username,callback:function(t){a.$set(a.dataku,"username",t)},expression:"dataku.username"}}),t("hr",{staticClass:"hrpagin2"})],1),t("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[t("q-btn",{attrs:{loading:a.btn_edit,color:"warning",type:"submit",label:"Update"}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1)],1),t("q-dialog",{attrs:{persistent:""},model:{value:a.mdl_password,callback:function(t){a.mdl_password=t},expression:"mdl_password"}},[t("q-card",{staticClass:"mdl-md"},[t("q-card-section",{staticClass:"bg-blue text-white"},[t("div",{staticClass:"text-h6 h_modalhead"},[a._v("Ubah Password Masyarakat")])]),t("form",{on:{submit:function(t){return t.preventDefault(),a.editDataPassword()}}},[t("q-card-section",{staticClass:"q-pt-none"},[t("hr",{staticClass:"hrpagin2"}),t("span",{staticClass:"h_lable"},[a._v("Password Baru")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:a.isPwd?"password":"text",outlined:"",square:"",dense:!0,placeholder:"Minimal 6 karakter",loading:a.btn_password},model:{value:a.dataku.password,callback:function(t){a.$set(a.dataku,"password",t)},expression:"dataku.password"}}),t("q-toggle",{staticClass:"q-pt-none",attrs:{icon:"visibility"},model:{value:a.isPwd,callback:function(t){a.isPwd=t},expression:"isPwd"}}),t("hr"),t("span",{staticClass:"h_lable"},[a._v("Konfirmasi Password")]),t("q-input",{staticClass:"bg-white margin_btn",attrs:{type:a.isPwd2?"password":"text",outlined:"",square:"",dense:!0,placeholder:"Ulangi password baru"},model:{value:a.dataku.confirmPassword,callback:function(t){a.$set(a.dataku,"confirmPassword",t)},expression:"dataku.confirmPassword"}}),t("q-toggle",{staticClass:"q-pt-none",attrs:{icon:"visibility"},model:{value:a.isPwd2,callback:function(t){a.isPwd2=t},expression:"isPwd2"}}),t("hr",{staticClass:"hrpagin2"})],1),t("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[t("q-btn",{attrs:{loading:a.btn_password,color:"primary",type:"submit",label:"Ubah Password"}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"},on:{click:a.resetPasswordForm}})],1)],1)],1)],1),t("q-dialog",{attrs:{persistent:""},model:{value:a.mdl_hapus,callback:function(t){a.mdl_hapus=t},expression:"mdl_hapus"}},[t("q-card",{staticClass:"mdl-sm"},[t("q-card-section",{staticClass:"q-pt-none text-center orageGrad"},[t("form",{on:{submit:function(t){return t.preventDefault(),a.hapusData.apply(null,arguments)}}},[t("br"),t("img",{attrs:{src:"img/alert.png",alt:"",width:"75"}}),a._v(" "),t("br"),t("span",{staticClass:"h_notifikasi"},[a._v("APAKAH ANDA YAKIN INGIN MENGHAPUS DATA INI??")]),t("br"),t("br"),t("q-card-actions",{attrs:{align:"center"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",size:"sm",color:"negative"},on:{click:a.resetHapusForm}}),a._v(" Â  "),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{loading:a.btn_hapus,type:"submit",label:"Hapus",size:"sm",color:"primary"}})],1)],1)])],1)],1),t("q-dialog",{attrs:{persistent:""},model:{value:a.mdl_lihat,callback:function(t){a.mdl_lihat=t},expression:"mdl_lihat"}},[t("q-card",{staticClass:"mdl-md detail-modal",staticStyle:{"box-shadow":"0 8px 32px rgba(0, 0, 0, 0.12)","border-radius":"12px"}},[t("q-card-section",{staticClass:"bg-green text-white q-pa-lg",staticStyle:{"border-radius":"12px 12px 0 0"}},[t("div",{staticClass:"text-h6 h_modalhead flex items-center q-gutter-sm"},[t("q-icon",{attrs:{name:"person",size:"24px"}}),t("span",[a._v("Detail Masyarakat")])],1)]),t("div",{staticClass:"col-12 text-center q-mb-xs"},[a.lihatData.foto_profil?t("div",{staticClass:"q-pa-md"},[t("img",{staticStyle:{"max-width":"200px","max-height":"200px","object-fit":"cover","border-radius":"12px","box-shadow":"0 4px 16px rgba(0, 0, 0, 0.1)"},attrs:{src:a.file_path+a.lihatData.foto_profil,alt:"Foto Profil Masyarakat"},on:{error:a.handleImageError}}),t("div",{staticClass:"text-caption text-grey-6 q-mt-sm"},[a._v("Foto Profil")])]):t("div",{staticClass:"q-pa-md bg-grey-1 rounded",staticStyle:{width:"200px",height:"200px",display:"inline-flex","flex-direction":"column","align-items":"center","justify-content":"center","border-radius":"12px",border:"2px dashed grey-4"}},[t("q-icon",{attrs:{name:"account_circle_off",size:"64px",color:"grey-5"}}),t("div",{staticClass:"text-h6 text-grey-6 q-mt-sm"},[a._v("Tidak Ada Foto Profil")]),t("div",{staticClass:"text-caption text-grey-7 q-mt-xs"},[a._v("Foto belum diunggah")])],1)]),t("q-card-section",{staticClass:"q-pa-md"},[t("div",{staticClass:"row q-col-gutter-lg"},[t("div",{staticClass:"col-12 col-md-6"},[t("div",{staticClass:"text-h6 text-grey-8 q-mb-md q-pa-sm bg-grey-2 rounded",staticStyle:{"border-left":"4px solid #4caf50"}},[a._v(" Data Pribadi ")]),t("div",{staticClass:"q-gutter-y-md"},[t("div",{staticClass:"row items-start q-gutter-sm detail-field"},[t("q-icon",{staticClass:"q-mt-xs",attrs:{name:"person",size:"16px",color:"green-6"}}),t("div",{staticClass:"col"},[t("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[a._v("Nama Lengkap")]),t("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a._v(a._s(a.lihatData.nama_lengkap||"-")+" ")])])],1),t("div",{staticClass:"row items-start q-gutter-sm detail-field"},[t("q-icon",{staticClass:"q-mt-xs",attrs:{name:"event",size:"16px",color:"green-6"}}),t("div",{staticClass:"col"},[t("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[a._v("Tanggal Lahir")]),t("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a._v(a._s(a.UMUM.tglConvert(a.lihatData.tanggal_lahir)||"-"))])])],1),t("div",{staticClass:"row items-start q-gutter-sm detail-field"},[t("q-icon",{staticClass:"q-mt-xs",attrs:{name:"wc",size:"16px",color:"green-6"}}),t("div",{staticClass:"col"},[t("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[a._v("Jenis Kelamin")]),t("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a._v(a._s("L"===a.lihatData.jenis_kelamin?"Laki-laki":"P"===a.lihatData.jenis_kelamin?"Perempuan":"-"))])])],1),a.lihatData.nik?t("div",{staticClass:"row items-start q-gutter-sm detail-field"},[t("q-icon",{staticClass:"q-mt-xs",attrs:{name:"card_membership",size:"16px",color:"green-6"}}),t("div",{staticClass:"col"},[t("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[a._v("NIK / Nomor Identitas ")]),t("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a._v(a._s(a.lihatData.nik))])])],1):a._e()])]),t("div",{staticClass:"col-12 col-md-6"},[t("div",{staticClass:"text-h6 text-grey-8 q-mb-md q-pa-sm bg-grey-2 rounded",staticStyle:{"border-left":"4px solid #4caf50"}},[a._v(" Data Kontak & Lokasi ")]),t("div",{staticClass:"q-gutter-y-md"},[t("div",{staticClass:"row items-start q-gutter-sm detail-field"},[t("q-icon",{staticClass:"q-mt-xs",attrs:{name:"email",size:"16px",color:"green-6"}}),t("div",{staticClass:"col"},[t("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[a._v("Email")]),t("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a._v(a._s(a.lihatData.email||"-"))])])],1),t("div",{staticClass:"row items-start q-gutter-sm detail-field"},[t("q-icon",{staticClass:"q-mt-xs",attrs:{name:"phone",size:"16px",color:"green-6"}}),t("div",{staticClass:"col"},[t("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[a._v("No HP")]),t("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a._v(a._s(a.lihatData.no_hp||"-"))])])],1),t("div",{staticClass:"row items-start q-gutter-sm detail-field"},[t("q-icon",{staticClass:"q-mt-xs",attrs:{name:"location_on",size:"16px",color:"green-6"}}),t("div",{staticClass:"col"},[t("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[a._v("Alamat Lengkap")]),t("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a._v(a._s(a.lihatData.alamat||"-"))])])],1),t("div",{staticClass:"row items-start q-gutter-sm detail-field"},[t("q-icon",{staticClass:"q-mt-xs",attrs:{name:"map",size:"16px",color:"green-6"}}),t("div",{staticClass:"col"},[t("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[a._v("Lokasi")]),t("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a._v(" "+a._s([a.lihatData.nama_kabupaten,a.lihatData.nama_kecamatan,a.lihatData.nama_des_kel].filter(Boolean).join(", ")||"-")+" ")])])],1),t("div",{staticClass:"row items-start q-gutter-sm detail-field"},[t("q-icon",{staticClass:"q-mt-xs",attrs:{name:"account_circle",size:"16px",color:"grey-6"}}),t("div",{staticClass:"col"},[t("div",{staticClass:"text-caption text-grey-7 text-weight-medium q-mb-xs"},[a._v("Username")]),t("div",{staticClass:"text-body1 text-weight-bold text-grey-9"},[a._v(a._s(a.lihatData.username||"-"))])])],1)])])])]),t("q-card-actions",{staticClass:"bg-grey-2 text-grey-8 q-pa-lg",staticStyle:{"border-radius":"0 0 12px 12px"},attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Tutup",color:"negative",unelevated:"",size:"md"}})],1)],1)],1)],1)},i=[],l=(s("d9e2"),s("7daa")),n=s.n(l),o={data(){return{UMUM:n.a,isPwd:!0,isPwd2:!0,btn_password:!1,form:{id:null,users_id:null,nama_lengkap:"",nik:"",tanggal_lahir:"",jenis_kelamin:"",kabupaten_id:null,kecamatan_id:null,des_kel_id:null,alamat:"",email:"",no_hp:"",foto_profil:null,foto_profil_url:""},kabupatenOptions:[],kecamatanOptions:[],deskelOptions:[],mdl_add:!1,mdl_edit:!1,mdl_hapus:!1,btn_add:!1,btn_edit:!1,btn_hapus:!1,list_data:[],jml_data:0,total_data:0,page_first:1,page_last:0,page_limit:10,cari_value:"",mdl_password:!1,dataku:{username:"",password:"",confirmPassword:""},errorMessage:"",mdl_lihat:!1,lihatData:{nama_lengkap:"",tanggal_lahir:"",jenis_kelamin:"",nik:"",email:"",no_hp:"",alamat:"",nama_kabupaten:"",nama_kecamatan:"",nama_des_kel:"",foto_profil:"",username:"",users_id:"",id:""}}},computed:{file_path(){return this.$store.state.url.URL_APP+"uploads/"}},watch:{"form.kabupaten_id"(a){this.form.kecamatan_id=null,this.form.des_kel_id=null,this.kecamatanOptions=[],this.deskelOptions=[],a&&this.loadKecamatan(a)},"form.kecamatan_id"(a){this.form.des_kel_id=null,this.deskelOptions=[],a&&this.loadDeskel(a)}},methods:{loadKabupaten(){fetch(this.$store.state.url.REGIS_MASYARAKAT+"kabupaten").then(a=>a.json()).then(a=>{a.success?this.kabupatenOptions=a.data.map(a=>({label:a.label,value:a.id})):this.$q.notify({type:"negative",message:"Gagal memuat data kabupaten"})}).catch(()=>{this.$q.notify({type:"negative",message:"Terjadi kesalahan saat memuat kabupaten"})})},loadKecamatan(a){fetch(`${this.$store.state.url.REGIS_MASYARAKAT}kecamatan?kabupaten_id=${a}`).then(a=>a.json()).then(a=>{a.success?this.kecamatanOptions=a.data.map(a=>({label:a.label,value:a.id})):this.$q.notify({type:"negative",message:"Gagal memuat data kecamatan"})}).catch(()=>{this.$q.notify({type:"negative",message:"Terjadi kesalahan saat memuat kecamatan"})})},loadDeskel(a){fetch(`${this.$store.state.url.REGIS_MASYARAKAT}deskel?kecamatan_id=${a}`).then(a=>a.json()).then(a=>{a.success?this.deskelOptions=a.data.map(a=>({label:a.label,value:a.id})):this.$q.notify({type:"negative",message:"Gagal memuat data desa/kelurahan"})}).catch(()=>{this.$q.notify({type:"negative",message:"Terjadi kesalahan saat memuat desa/kelurahan"})})},getView(){const a={page_limit:this.page_limit,data_ke:(this.page_first-1)*this.page_limit,cari_value:this.cari_value};fetch(this.$store.state.url.REGIS_MASYARAKAT+"getview",{method:"POST",headers:{"content-type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(a)}).then(a=>a.json()).then(a=>{a.success?(this.list_data=a.data,this.jml_data=a.jml_data,this.total_data=a.total_data,this.page_last=Math.ceil(this.total_data/this.page_limit)):this.$q.notify({type:"negative",message:a.message||"Gagal mengambil data"})}).catch(a=>{console.error("Error fetching data:",a),this.$q.notify({type:"negative",message:"Gagal mengambil data masyarakat"})})},async addData(){try{if(this.dataku.password!==this.dataku.confirmPassword)return void this.$q.notify({type:"negative",message:"Password dan konfirmasi password tidak sama!"});if(this.dataku.password.length<6)return void this.$q.notify({type:"negative",message:"Password minimal 6 karakter!"});if(!this.dataku.username)return void this.$q.notify({type:"negative",message:"Username wajib diisi!"});if(!this.form.nama_lengkap||!this.form.tanggal_lahir||!this.form.jenis_kelamin||!this.form.no_hp)return void this.$q.notify({type:"negative",message:"Field wajib (Nama, Tanggal Lahir, Jenis Kelamin, No HP) harus diisi!"});this.btn_add=!0;const a=new FormData;a.append("nama_lengkap",this.form.nama_lengkap),a.append("nik",this.form.nik||""),a.append("tanggal_lahir",this.form.tanggal_lahir),a.append("jenis_kelamin",this.form.jenis_kelamin),a.append("kabupaten_id",this.form.kabupaten_id||""),a.append("kecamatan_id",this.form.kecamatan_id||""),a.append("des_kel_id",this.form.des_kel_id||""),a.append("alamat",this.form.alamat||""),a.append("email",this.form.email||""),a.append("no_hp",this.form.no_hp),a.append("username",this.dataku.username),a.append("password",this.dataku.password),this.form.foto_profil&&this.form.foto_profil instanceof File&&a.append("foto_profil",this.form.foto_profil);const t=await fetch(this.$store.state.url.REGIS_MASYARAKAT+"addData",{method:"POST",headers:{authorization:"kikensbatara "+localStorage.token},body:a}),s=await t.json();if(!t.ok||!s.success)throw new Error(s.message||"Terjadi kesalahan saat menambah data");this.$q.notify({type:"positive",message:s.message||"Data masyarakat berhasil ditambahkan!"}),this.resetForm(),this.mdl_add=!1,this.getView()}catch(a){console.error("Error adding data:",a),this.$q.notify({type:"negative",message:a.message||"Gagal menambah data masyarakat!"})}finally{this.btn_add=!1}},editModal(a){this.form={id:a.id,users_id:a.users_id||null,nama_lengkap:a.nama_lengkap||"",nik:a.nik||"",tanggal_lahir:a.tanggal_lahir||"",jenis_kelamin:a.jenis_kelamin||"",email:a.email||"",no_hp:a.no_hp||"",kabupaten_id:a.kabupaten_id||null,kecamatan_id:a.kecamatan_id||null,des_kel_id:a.des_kel_id||null,alamat:a.alamat||"",foto_profil:null,foto_profil_url:a.foto_profil?this.file_path+a.foto_profil:""},this.dataku.username=a.username||"",this.form.kabupaten_id&&(this.loadKecamatan(this.form.kabupaten_id),this.form.kecamatan_id&&this.loadDeskel(this.form.kecamatan_id)),this.dataku.password="",this.dataku.confirmPassword="",this.mdl_edit=!0},async updateData(){this.btn_edit=!0;try{if(!this.form.nama_lengkap||!this.form.tanggal_lahir||!this.form.jenis_kelamin||!this.form.no_hp)throw new Error("Field wajib (Nama, TTL, Jenis Kelamin, No HP) harus diisi!");if(this.dataku.username&&this.dataku.username.length<6)throw new Error("Username minimal 6 karakter jika diubah!");if(this.form.nik&&this.form.nik.length<16)throw new Error("NIK harus berjumlah 16 angka!");const a=this.normalizeDate(this.form.tanggal_lahir),t={id:this.form.id,users_id:this.form.users_id,nama_lengkap:this.form.nama_lengkap,nik:this.form.nik||"",tanggal_lahir:a,jenis_kelamin:this.form.jenis_kelamin,email:this.form.email||"",no_hp:this.form.no_hp,kabupaten_id:this.form.kabupaten_id||null,kecamatan_id:this.form.kecamatan_id||null,des_kel_id:this.form.des_kel_id||null,alamat:this.form.alamat||"",username:this.dataku.username||""},s=this.form.foto_profil&&this.form.foto_profil instanceof File;let e,i;if(s){const a=new FormData;for(const s in t)a.append(s,t[s]||"");this.form.foto_profil&&this.form.foto_profil instanceof File&&a.append("foto_profil",this.form.foto_profil),e=await fetch(this.$store.state.url.REGIS_MASYARAKAT+"editData",{method:"POST",headers:{authorization:"kikensbatara "+localStorage.token},body:a}),i=await e.json()}else e=await fetch(this.$store.state.url.REGIS_MASYARAKAT+"editData",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(t)}),i=await e.json();if(!e.ok||!i.success)throw new Error(i.message||"Gagal mengupdate data masyarakat");this.$q.notify({type:"positive",message:i.message||"Data masyarakat berhasil diupdate"}),this.mdl_edit=!1,this.getView(),this.resetForm()}catch(a){console.error("Error update data masyarakat:",a),this.$q.notify({type:"negative",message:a.message||"Terjadi kesalahan saat update data masyarakat"})}finally{this.btn_edit=!1}},resetForm(){this.form={id:null,users_id:null,nama_lengkap:"",nik:"",tanggal_lahir:"",jenis_kelamin:"",kabupaten_id:null,kecamatan_id:null,des_kel_id:null,alamat:"",email:"",no_hp:"",foto_profil:null,foto_profil_url:""},this.dataku={username:"",password:"",confirmPassword:""},this.kecamatanOptions=[],this.deskelOptions=[],this.errorMessage=""},async hapusData(){if(!this.form.id||!this.form.users_id)return this.$q.notify({type:"negative",message:"Data tidak valid. Silakan pilih ulang."}),void this.resetHapusForm();this.btn_hapus=!0;try{const a={id:this.form.id,users_id:this.form.users_id},t=await fetch(this.$store.state.url.REGIS_MASYARAKAT+"removeMasyarakat",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(a)}),s=await t.json();if(!t.ok||!s.success)throw new Error(s.message||"Gagal menghapus data");this.$q.notify({type:"positive",message:s.message||"Data masyarakat berhasil dihapus"}),this.mdl_hapus=!1,this.getView(),this.resetForm()}catch(a){console.error("Error hapus data:",a),this.$q.notify({type:"negative",message:a.message||"Terjadi kesalahan saat menghapus data"})}finally{this.btn_hapus=!1}},async editDataPassword(){if(this.errorMessage="",this.dataku.password&&this.dataku.confirmPassword)if(this.dataku.password.length<6)this.errorMessage="Password minimal 6 karakter!";else if(this.dataku.password===this.dataku.confirmPassword)try{const a=await fetch(this.$store.state.url.REGIS_MASYARAKAT+"editPasswordMasyarakat",{method:"POST",headers:{"Content-Type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify({users_id:this.dataku.users_id,password:this.dataku.password})}),t=await a.json();a.ok&&t.success?(this.$q.notify({type:"positive",message:t.message||"Password berhasil diubah!"}),this.mdl_password=!1,this.dataku.password="",this.dataku.confirmPassword=""):this.errorMessage=t.message||"Gagal mengubah password!"}catch(a){console.error(a),this.errorMessage="Terjadi kesalahan saat mengubah password."}else this.errorMessage="Password dan Confirm Password tidak sama!";else this.errorMessage="Password dan Confirm Password wajib diisi!"},selectData(a){this.dataku={users_id:a.users_id,password:"",confirmPassword:""},this.errorMessage="",this.form={...a,users_id:a.users_id,id:a.id},this.lihatData={nama_lengkap:a.nama_lengkap||"",nik:a.nik||"",tanggal_lahir:a.tanggal_lahir||"",jenis_kelamin:a.jenis_kelamin||"",email:a.email||"",no_hp:a.no_hp||"",alamat:a.alamat||"",nama_kabupaten:a.nama_kabupaten||"",nama_kecamatan:a.nama_kecamatan||"",nama_des_kel:a.nama_des_kel||"",foto_profil:a.foto_profil||"",username:a.username||"",users_id:a.users_id||"",id:a.id||""}},resetPasswordForm(){this.dataku.password="",this.dataku.confirmPassword="",this.dataku.users_id=null,this.isPwd=!0,this.isPwd2=!0,this.btn_password=!1,this.mdl_password=!1},resetHapusForm(){this.form.id=null,this.form.users_id=null,this.btn_hapus=!1,this.mdl_hapus=!1},indexing(a){return(this.page_first-1)*this.page_limit+a},normalizeDate(a){return a&&""!==a?/^\d{4}-\d{2}-\d{2}$/.test(a)?a:a.includes("T")?a.split("T")[0]:"":""},cari_data(){this.page_first=1,this.getView()},handleImageError(a){a.target.src="path/to/placeholder-image.jpg"}},mounted(){this.getView(),this.loadKabupaten()}},r=o,d=s("2877"),m=s("fe09"),c=Object(d["a"])(r,e,i,!1,null,null,null);t["default"]=c.exports;c.options.components=Object.assign(Object.create(c.options.components||null),c.options.components||{},{QCard:m["h"],QCardSection:m["j"],QInput:m["w"],QBtn:m["f"],QTooltip:m["O"],QSeparator:m["I"],QItemSection:m["z"],QMenu:m["C"],QList:m["B"],QItem:m["x"],QPagination:m["G"],QDialog:m["l"],QSelect:m["H"],QFile:m["r"],QCardActions:m["i"],QToggle:m["L"],QIcon:m["u"]}),c.options.directives=Object.assign(Object.create(c.options.directives||null),c.options.directives||{},{ClosePopup:m["a"]})}}]);
//# sourceMappingURL=chunk-2d0de55e.b1bb8e9d.js.map