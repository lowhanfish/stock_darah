(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bae4a"],{"38c2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about",staticStyle:{padding:"15px"}},[e("q-card",{staticClass:"my-card",attrs:{bordered:""}},[e("q-card-section",{staticClass:"main2 text-white"},[e("div",{staticClass:"row items-center q-col-gutter-md"},[e("div",{staticClass:"col-12 col-md-6"},[e("div",{staticClass:"text-h6 h_titleHead"},[t._v("Artikel / Berita")]),e("div",{staticClass:"text-h8"},[t._v("Informasi Pindara")])]),e("div",{staticClass:"col-12 col-md-2"}),e("div",{staticClass:"col-12 col-md-4"},[e("div",{staticClass:"row"},[e("q-input",{staticClass:"bg-white col q-mr-sm",attrs:{outlined:"",square:"",dense:""},on:{keyup:function(e){return t.cari_data()}},model:{value:t.cari_value,callback:function(e){t.cari_value=e},expression:"cari_value"}}),e("q-btn",{staticClass:"col-auto",attrs:{glossy:"",color:"green",dense:"",icon:"add"},on:{click:function(e){t.mdl_add=!0}}},[e("q-tooltip",{attrs:{"content-class":"bg-green-7","content-style":"font-size: 13px"}},[t._v(" Click untuk menambah data ")])],1)],1)])])])],1),e("hr",{staticClass:"hrpagin2"}),e("div",{staticClass:"tbl_responsive"},[e("table",{attrs:{width:"100%"}},[t._m(0),t._l(t.list_data,(function(a,s){return e("tr",{key:a.id,staticClass:"h_table_body"},[e("td",{staticClass:"text-center"},[t._v(t._s(t.indexing(s+1))+".")]),e("td",{staticClass:"text-center"},[a.file_name?e("img",{staticStyle:{"max-width":"80px","border-radius":"6px",cursor:"pointer"},attrs:{src:t.file_path+a.file_name,alt:"foto"},on:{click:function(e){return t.openImage(t.file_path+a.file_name)}}}):e("q-icon",{attrs:{name:"image_not_supported",size:"sm",color:"grey"}})],1),t._v(" "),e("td",[e("div",{staticClass:"text-bold"},[t._v(t._s(a.judul))]),e("div",{staticClass:"text-blue",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(a.sumber)+" ")])]),t._v(" "),e("td",[e("div",[t._v(t._s(t.UMUM.tglConvert(a.createAt)))])]),e("td",{staticClass:"text-center q-gutter-sm"},[e("q-btn",{attrs:{dense:"",round:"",color:"warning",icon:"edit"},on:{click:function(e){return t.openEdit(a)}}},[e("q-tooltip",{attrs:{"content-class":"bg-amber-7"}},[t._v("Edit Data")])],1),e("q-btn",{attrs:{dense:"",round:"",color:"negative",icon:"delete"},on:{click:function(e){return t.openDelete(a)}}},[e("q-tooltip",{attrs:{"content-class":"bg-red-7"}},[t._v("Hapus Data")])],1),e("q-btn",{attrs:{dense:"",round:"",color:"primary",icon:"visibility"},on:{click:function(e){return t.openLihat(a)}}},[e("q-tooltip",{attrs:{"content-class":"bg-blue-7"}},[t._v("Lihat Data")])],1)],1)])}))],2)]),e("hr",{staticClass:"hrpagin"}),e("br"),e("div",{staticClass:"flex flex-center"},[e("q-pagination",{attrs:{max:t.page_last,"max-pages":4,color:"grey-6","direction-links":!0,"boundary-links":!0,"icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward"},on:{input:t.getView},model:{value:t.page_first,callback:function(e){t.page_first=e},expression:"page_first"}})],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_add,callback:function(e){t.mdl_add=e},expression:"mdl_add"}},[e("q-card",{staticClass:"mdl-md"},[e("q-card-section",{staticClass:"main2 text-white"},[e("div",{staticClass:"text-h6 h_modalhead"},[t._v("Tambah Berita")])]),e("form",{on:{submit:function(e){return e.preventDefault(),t.addData()}}},[e("q-card-section",{staticClass:"q-pt-none"},[e("hr",{staticClass:"hrpagin2"}),e("span",{staticClass:"h_lable"},[t._v("Judul")]),e("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:""},model:{value:t.form.judul,callback:function(e){t.$set(t.form,"judul",e)},expression:"form.judul"}}),e("span",{staticClass:"h_lable"},[t._v("Sumber")]),e("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:""},model:{value:t.form.sumber,callback:function(e){t.$set(t.form,"sumber",e)},expression:"form.sumber"}}),e("span",{staticClass:"h_lable"},[t._v("Isi")]),e("q-editor",{staticClass:"bg-white",attrs:{toolbar:t.editorToolbar,placeholder:"Tulis isi berita..."},model:{value:t.form.isi,callback:function(e){t.$set(t.form,"isi",e)},expression:"form.isi"}}),e("span",{staticClass:"h_lable"},[t._v("Lampiran File")]),e("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih File",outlined:"",square:"",dense:""},model:{value:t.form.file_name,callback:function(e){t.$set(t.form,"file_name",e)},expression:"form.file_name"}}),e("hr",{staticClass:"hrpagin2"})],1),e("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[e("q-btn",{attrs:{loading:t.btn_add,color:"positive",type:"submit",label:"Simpan"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1)],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_edit,callback:function(e){t.mdl_edit=e},expression:"mdl_edit"}},[e("q-card",{staticClass:"mdl-md"},[e("q-card-section",{staticClass:"main2 text-white"},[e("div",{staticClass:"text-h6 h_modalhead"},[t._v("Edit Berita")])]),e("form",{on:{submit:function(e){return e.preventDefault(),t.updateData()}}},[e("q-card-section",{staticClass:"q-pt-none"},[e("hr",{staticClass:"hrpagin2"}),e("span",{staticClass:"h_lable"},[t._v("Judul")]),e("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:""},model:{value:t.form.judul,callback:function(e){t.$set(t.form,"judul",e)},expression:"form.judul"}}),e("span",{staticClass:"h_lable"},[t._v("Sumber")]),e("q-input",{staticClass:"bg-white margin_btn",attrs:{outlined:"",square:"",dense:""},model:{value:t.form.sumber,callback:function(e){t.$set(t.form,"sumber",e)},expression:"form.sumber"}}),e("span",{staticClass:"h_lable"},[t._v("Isi")]),e("q-editor",{staticClass:"bg-white",attrs:{toolbar:t.editorToolbar,placeholder:"Tulis isi berita..."},model:{value:t.form.isi,callback:function(e){t.$set(t.form,"isi",e)},expression:"form.isi"}}),e("span",{staticClass:"h_lable"},[t._v("Lampiran File")]),e("q-file",{staticClass:"bg-white margin_btn",attrs:{label:"Pilih File Baru (opsional)",outlined:"",square:"",dense:""},model:{value:t.fileBaru,callback:function(e){t.fileBaru=e},expression:"fileBaru"}}),t.form.file_name&&!t.fileBaru?e("div",{staticClass:"q-mt-sm"},[e("q-img",{staticStyle:{"max-width":"150px","border-radius":"6px"},attrs:{src:t.file_path+t.form.file_name}}),e("div",{staticClass:"text-caption text-grey"},[t._v("File lama")])],1):t._e(),e("hr",{staticClass:"hrpagin2"})],1),e("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[e("q-btn",{attrs:{loading:t.btn_edit,color:"primary",type:"submit",label:"Update"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1)],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_lihat,callback:function(e){t.mdl_lihat=e},expression:"mdl_lihat"}},[e("q-card",{staticClass:"mdl-lg q-pa-none",staticStyle:{"max-width":"900px","border-radius":"16px",overflow:"hidden"}},[e("q-card-section",{staticClass:"main2 text-white"},[e("div",{staticClass:"text-h6 h_modalhead"},[t._v("lihat Berita")])]),e("q-card-section",{staticClass:"q-pa-lg scroll",staticStyle:{"max-height":"70vh","overflow-y":"auto"}},[e("div",{staticClass:"text-h5 text-primary text-bold q-mb-md"},[t._v(t._s(t.form.judul))]),e("div",{staticClass:"text-grey-7 q-mb-md",staticStyle:{"font-size":"14px"}},[e("q-icon",{staticClass:"q-mr-xs",attrs:{name:"feed",size:"16px"}}),e("span",{staticClass:"q-mr-md"},[t._v("Sumber: "),e("span",{staticClass:"text-blue"},[t._v(t._s(t.form.sumber))])]),e("q-icon",{staticClass:"q-mr-xs",attrs:{name:"event",size:"16px"}}),e("span",[t._v(t._s(t.UMUM.tglConvert(t.form.createAt)))])],1),e("div",{staticClass:"q-mb-md"},[e("div",{staticClass:"text-subtitle2 text-bold"},[t._v("Isi Berita")]),e("div",{staticClass:"text-body1 q-mt-sm",domProps:{innerHTML:t._s(t.form.isi)}})])]),e("q-separator"),e("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Tutup",color:"negative"}})],1)],1)],1),e("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_delete,callback:function(e){t.mdl_delete=e},expression:"mdl_delete"}},[e("q-card",{staticClass:"mdl-sm"},[e("q-card-section",{staticClass:"q-pt-none text-center orageGrad"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.removeData.apply(null,arguments)}}},[e("br"),e("img",{attrs:{src:"img/alert.png",alt:"",width:"75"}}),t._v(" "),e("br"),e("span",{staticClass:"h_notifikasi"},[t._v("APAKAH ANDA YAKIN INGIN MENGHAPUS DATA INI??")]),e("input",{staticStyle:{position:"absolute",left:"-9999px"},attrs:{type:"submit"}}),e("br"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",size:"sm",color:"negative"}}),t._v("   "),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{type:"submit",label:"Hapus",size:"sm",color:"primary"}})],1)])],1)],1),e("q-dialog",{model:{value:t.mdl_image,callback:function(e){t.mdl_image=e},expression:"mdl_image"}},[e("q-card",{staticClass:"bg-purple mdl-lg"},[e("q-card-section",{staticClass:"text-center"},[e("q-img",{staticStyle:{"max-width":"90vw","max-height":"90vh","border-radius":"10px"},attrs:{src:t.selectedImage,fit:"contain"}})],1),e("q-card-actions",{attrs:{align:"center"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Tutup",color:"white"}})],1)],1)],1)],1)},i=[function(){var t=this,e=t._self._c;return e("tr",{staticClass:"h_table_head main1 text-white"},[e("th",{staticClass:"text-center",attrs:{width:"5%"}},[t._v("No")]),e("th",{attrs:{width:"10%"}},[t._v("Foto")]),e("th",{attrs:{width:"50%"}},[t._v("Judul")]),e("th",{attrs:{width:"20%"}},[t._v("Tanggal")]),e("th",{staticClass:"text-center",attrs:{width:"15%"}},[t._v("Act")])])}],r=a("7daa"),l=a.n(r),o={data(){return{list_data:[],editorToolbar:[["bold","italic","underline"],["link","quote","unordered","ordered"],["left","center","right","justify"],["image"],["viewsource"]],form:{isi:"",judul:"",sumber:"",file_name:null},fileBaru:null,UMUM:l.a,btn_add:!1,btn_edit:!1,mdl_add:!1,mdl_edit:!1,mdl_delete:!1,mdl_lihat:!1,mdl_image:!1,selectedImage:null,alert:!1,cari_value:"",page_first:1,page_last:1,page_limit:9,total:0,file_path:this.$store.state.url.URL_APP+"uploads/"}},methods:{openEdit(t){this.form={...t,isi:t.isi||""},this.mdl_edit=!0},openDelete(t){this.form={id:t.id},this.mdl_delete=!0},openLihat(t){this.form={...t,isi:t.isi||""},this.mdl_lihat=!0},openImage(t){this.selectedImage=t,this.mdl_image=!0},formatRupiah(t){return null==t?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)},resetForm(){this.form={judul:"",sumber:"",isi:"",file_name:null}},getView(){this.$store.commit("shoWLoading"),fetch(this.$store.state.url.BERITA+"getview",{method:"POST",headers:{"content-type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify({data_ke:this.page_first,cari_value:this.cari_value,page_limit:this.page_limit})}).then(t=>t.json()).then(t=>{this.list_data=t.data,this.total=t.total,this.page_last=Math.ceil(this.total/this.page_limit),this.$store.commit("hideLoading")}).catch(t=>{console.error("❌ Error getView:",t),this.$store.commit("hideLoading")})},addData(){this.btn_add=!0;const t=new FormData;t.append("judul",this.form.judul),t.append("sumber",this.form.sumber),t.append("isi",this.form.isi),this.form.file_name&&t.append("file_name",this.form.file_name),fetch(this.$store.state.url.BERITA+"addData",{method:"POST",headers:{authorization:"kikensbatara "+localStorage.token},body:t}).then(t=>t.json()).then(t=>{this.btn_add=!1,t.success?(this.Notify("Sukses Menambah Data","primary","check_circle_outline"),this.getView(),this.mdl_add=!1,this.resetForm()):this.Notify(t.message||"Gagal Menambah Data","negative","error_outline")}).catch(t=>{this.btn_add=!1,console.error("❌ Error:",t),this.Notify("Terjadi kesalahan server","negative","error_outline")})},async updateData(){try{const t=new FormData;t.append("id",this.form.id),t.append("judul",this.form.judul),t.append("sumber",this.form.sumber),t.append("isi",this.form.isi),this.fileBaru?t.append("file",this.fileBaru):t.append("file_name",this.form.file_name);const e=await fetch(this.$store.state.url.BERITA+"updateData",{method:"POST",headers:{authorization:"kikensbatara "+localStorage.token},body:t}),a=await e.json();a.success?(this.$q.notify({type:"positive",message:a.message}),this.mdl_edit=!1,this.getView()):this.$q.notify({type:"negative",message:a.message})}catch(t){console.error("❌ Error updateData:",t),this.$q.notify({type:"negative",message:"Gagal update data"})}},removeData(){fetch(this.$store.state.url.BERITA+"removeData",{method:"POST",headers:{"content-type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify({id:this.form.id})}).then(t=>t.json()).then(t=>{t.success?(this.Notify(t.message||"✅ Sukses Menghapus Data","negative","check_circle_outline"),this.getView()):this.Notify(t.message||"⚠️ Data tidak ditemukan","warning","error")}).catch(t=>{this.Notify("❌ Error: "+t.message,"warning","error")})},simulateProgress(t){this["simpan"+t]=!0,setTimeout(()=>{this["simpan"+t]=!1},3e3)},Notify:function(t,e,a){this.$q.notify({message:t,color:e,icon:a,position:"top",timeout:500})},btn_prev(){this.page_first>1&&this.page_first--,this.getView()},btn_next(){this.page_first<this.page_last&&this.page_first++,this.getView()},cari_data(){this.page_first=1,this.getView()},indexing(t){return(this.page_first-1)*this.page_limit+t}},mounted(){JSON.parse(localStorage.profile);this.getView()}},n=o,c=a("2877"),d=a("fe09"),m=Object(c["a"])(n,s,i,!1,null,null,null);e["default"]=m.exports;m.options.components=Object.assign(Object.create(m.options.components||null),m.options.components||{},{QCard:d["h"],QCardSection:d["j"],QInput:d["w"],QBtn:d["f"],QTooltip:d["O"],QIcon:d["u"],QPagination:d["G"],QDialog:d["l"],QEditor:d["n"],QFile:d["r"],QCardActions:d["i"],QImg:d["v"],QSeparator:d["I"]}),m.options.directives=Object.assign(Object.create(m.options.directives||null),m.options.directives||{},{ClosePopup:d["a"]})}}]);
//# sourceMappingURL=chunk-2d0bae4a.232e0e74.js.map